{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/__tests__/e2e/performance.spec.ts"],"sourcesContent":["import { test, expect, type Page } from '@playwright/test';\n\n/**\n * Performance Testing Suite\n * Tests Core Web Vitals and performance metrics across browsers and devices\n */\n\ntest.describe('Performance Testing', () => {\n  \n  test.beforeEach(async ({ page }) => {\n    // Start performance measurement\n    await page.goto('/', { waitUntil: 'networkidle' });\n  });\n\n  test.describe('Core Web Vitals', () => {\n    \n    test('should meet LCP (Largest Contentful Paint) targets', async ({ page }) => {\n      const lcp = await measureLCP(page);\n      \n      // LCP should be under 2.5 seconds for good performance\n      expect(lcp).toBeLessThan(2500);\n      console.log(`✅ LCP: ${lcp}ms (target: <2500ms)`);\n    });\n\n    test('should meet FID (First Input Delay) targets', async ({ page }) => {\n      const fid = await measureFID(page);\n      \n      // FID should be under 100ms for good performance\n      expect(fid).toBeLessThan(100);\n      console.log(`✅ FID: ${fid}ms (target: <100ms)`);\n    });\n\n    test('should meet CLS (Cumulative Layout Shift) targets', async ({ page }) => {\n      const cls = await measureCLS(page);\n      \n      // CLS should be under 0.1 for good performance\n      expect(cls).toBeLessThan(0.1);\n      console.log(`✅ CLS: ${cls} (target: <0.1)`);\n    });\n  });\n\n  test.describe('Load Performance', () => {\n    \n    test('should load page within acceptable time', async ({ page }) => {\n      const startTime = Date.now();\n      \n      await page.goto('/', { waitUntil: 'load' });\n      \n      const loadTime = Date.now() - startTime;\n      \n      // Page should load within 3 seconds\n      expect(loadTime).toBeLessThan(3000);\n      console.log(`✅ Page load time: ${loadTime}ms (target: <3000ms)`);\n    });\n\n    test('should have efficient resource loading', async ({ page }) => {\n      const resources = await measureResourceTiming(page);\n      \n      // Check critical resource load times\n      expect(resources.css).toBeLessThan(1000);\n      expect(resources.js).toBeLessThan(2000);\n      \n      console.log(`✅ Resource timing - CSS: ${resources.css}ms, JS: ${resources.js}ms`);\n    });\n\n    test('should have minimal blocking resources', async ({ page }) => {\n      const blockingResources = await measureBlockingResources(page);\n      \n      // Should have minimal render-blocking resources\n      expect(blockingResources.count).toBeLessThan(5);\n      expect(blockingResources.totalSize).toBeLessThan(500000); // 500KB\n      \n      console.log(`✅ Blocking resources: ${blockingResources.count} resources, ${blockingResources.totalSize} bytes`);\n    });\n  });\n\n  test.describe('Runtime Performance', () => {\n    \n    test('should have efficient JavaScript execution', async ({ page }) => {\n      const jsMetrics = await measureJavaScriptPerformance(page);\n      \n      // JavaScript execution should be efficient\n      expect(jsMetrics.mainThreadTime).toBeLessThan(2000);\n      expect(jsMetrics.taskDuration).toBeLessThan(50);\n      \n      console.log(`✅ JS Performance - Main thread: ${jsMetrics.mainThreadTime}ms, Task duration: ${jsMetrics.taskDuration}ms`);\n    });\n\n      test('should have stable frame rate', async ({ page }) => {\n    const frameRate = await measureFrameRate(page) as { average: number; drops: number };\n    \n    // Should maintain good frame rate (>50fps for interactions)\n    expect(frameRate.average).toBeGreaterThan(50);\n    expect(frameRate.drops).toBeLessThan(5);\n    \n    console.log(`✅ Frame rate - Average: ${frameRate.average}fps, Drops: ${frameRate.drops}`);\n  });\n\n    test('should manage memory efficiently', async ({ page }) => {\n      const memoryMetrics = await measureMemoryUsage(page);\n      \n      // Memory usage should be reasonable\n      expect(memoryMetrics.heapUsed).toBeLessThan(50000000); // 50MB\n      expect(memoryMetrics.heapTotal).toBeLessThan(100000000); // 100MB\n      \n      console.log(`✅ Memory usage - Used: ${Math.round(memoryMetrics.heapUsed / 1024 / 1024)}MB, Total: ${Math.round(memoryMetrics.heapTotal / 1024 / 1024)}MB`);\n    });\n  });\n\n  test.describe('Network Performance', () => {\n    \n    test('should optimize image loading', async ({ page }) => {\n      const imageMetrics = await measureImagePerformance(page);\n      \n      // Images should be optimized\n      expect(imageMetrics.averageSize).toBeLessThan(200000); // 200KB average\n      expect(imageMetrics.totalSize).toBeLessThan(2000000); // 2MB total\n      \n      console.log(`✅ Image performance - Average: ${Math.round(imageMetrics.averageSize / 1024)}KB, Total: ${Math.round(imageMetrics.totalSize / 1024)}KB`);\n    });\n\n    test('should use caching effectively', async ({ page }) => {\n      // First load\n      await page.goto('/');\n      await page.waitForLoadState('networkidle');\n      \n      // Second load (should use cache)\n      const startTime = Date.now();\n      await page.reload();\n      await page.waitForLoadState('networkidle');\n      const reloadTime = Date.now() - startTime;\n      \n      // Reload should be faster due to caching\n      expect(reloadTime).toBeLessThan(1500);\n      console.log(`✅ Cache performance - Reload time: ${reloadTime}ms`);\n    });\n  });\n\n  test.describe('Mobile Performance', () => {\n    \n    test('should perform well on mobile devices', async ({ page, isMobile }) => {\n      test.skip(!isMobile, 'This test is only for mobile devices');\n      \n      const mobileMetrics = await measureMobilePerformance(page);\n      \n      // Mobile-specific performance targets\n      expect(mobileMetrics.lcp).toBeLessThan(3000); // More lenient for mobile\n      expect(mobileMetrics.fid).toBeLessThan(150);\n      expect(mobileMetrics.cls).toBeLessThan(0.15);\n      \n      console.log(`✅ Mobile performance - LCP: ${mobileMetrics.lcp}ms, FID: ${mobileMetrics.fid}ms, CLS: ${mobileMetrics.cls}`);\n    });\n\n    test('should handle slow networks gracefully', async ({ page }) => {\n      // Simulate slow 3G network\n      await page.route('**/*', route => {\n        setTimeout(() => route.continue(), 100); // Add 100ms delay\n      });\n      \n      const startTime = Date.now();\n      await page.goto('/');\n      await page.waitForLoadState('load');\n      const loadTime = Date.now() - startTime;\n      \n      // Should still load within reasonable time on slow network\n      expect(loadTime).toBeLessThan(8000);\n      console.log(`✅ Slow network performance: ${loadTime}ms`);\n    });\n  });\n});\n\n/**\n * Measure Largest Contentful Paint (LCP)\n */\nasync function measureLCP(page: Page): Promise<number> {\n  return await page.evaluate(() => {\n    return new Promise((resolve) => {\n      if ('PerformanceObserver' in window) {\n        const observer = new PerformanceObserver((list) => {\n          const entries = list.getEntries();\n          const lastEntry = entries[entries.length - 1];\n          resolve(lastEntry.startTime);\n        });\n        observer.observe({ entryTypes: ['largest-contentful-paint'] });\n        \n        // Fallback timeout\n        setTimeout(() => resolve(0), 5000);\n      } else {\n        resolve(0);\n      }\n    });\n  });\n}\n\n/**\n * Measure First Input Delay (FID)\n */\nasync function measureFID(page: Page): Promise<number> {\n  // Simulate user interaction to measure FID\n  await page.click('body');\n  \n  return await page.evaluate(() => {\n    return new Promise((resolve) => {\n      if ('PerformanceObserver' in window) {\n        const observer = new PerformanceObserver((list) => {\n          const entries = list.getEntries() as any[];\n          if (entries.length > 0) {\n            resolve(entries[0].processingStart - entries[0].startTime);\n          } else {\n            resolve(0);\n          }\n        });\n        observer.observe({ entryTypes: ['first-input'] });\n        \n        // Fallback\n        setTimeout(() => resolve(0), 3000);\n      } else {\n        resolve(0);\n      }\n    });\n  });\n}\n\n/**\n * Measure Cumulative Layout Shift (CLS)\n */\nasync function measureCLS(page: Page): Promise<number> {\n  await page.waitForTimeout(2000); // Wait for potential layout shifts\n  \n  return await page.evaluate(() => {\n    return new Promise((resolve) => {\n      if ('PerformanceObserver' in window) {\n        let clsValue = 0;\n        const observer = new PerformanceObserver((list) => {\n          for (const entry of list.getEntries() as any[]) {\n            if (!entry.hadRecentInput) {\n              clsValue += entry.value;\n            }\n          }\n        });\n        observer.observe({ entryTypes: ['layout-shift'] });\n        \n        setTimeout(() => {\n          observer.disconnect();\n          resolve(clsValue);\n        }, 2000);\n      } else {\n        resolve(0);\n      }\n    });\n  });\n}\n\n/**\n * Measure resource loading timing\n */\nasync function measureResourceTiming(page: Page) {\n  return await page.evaluate(() => {\n    const resources = performance.getEntriesByType('resource');\n    \n    let cssTime = 0;\n    let jsTime = 0;\n    let cssCount = 0;\n    let jsCount = 0;\n    \n    resources.forEach(resource => {\n      const resourceTiming = resource as any;\n      const duration = resourceTiming.responseEnd - resourceTiming.startTime;\n      \n      if (resourceTiming.name.includes('.css')) {\n        cssTime += duration;\n        cssCount++;\n      } else if (resourceTiming.name.includes('.js')) {\n        jsTime += duration;\n        jsCount++;\n      }\n    });\n    \n    return {\n      css: cssCount > 0 ? cssTime / cssCount : 0,\n      js: jsCount > 0 ? jsTime / jsCount : 0\n    };\n  });\n}\n\n/**\n * Measure blocking resources\n */\nasync function measureBlockingResources(page: Page) {\n  return await page.evaluate(() => {\n    const resources = performance.getEntriesByType('resource');\n    const blockingResources = resources.filter(resource => \n      resource.name.includes('.css') || \n      (resource.name.includes('.js') && !resource.name.includes('async'))\n    );\n    \n    const totalSize = blockingResources.reduce((sum, resource) => {\n      return sum + ((resource as any).transferSize || 0);\n    }, 0);\n    \n    return {\n      count: blockingResources.length,\n      totalSize\n    };\n  });\n}\n\n/**\n * Measure JavaScript performance metrics\n */\nasync function measureJavaScriptPerformance(page: Page) {\n  // Trigger some interactions to measure JS performance\n  await page.click('body');\n  await page.waitForTimeout(1000);\n  \n  return await page.evaluate(() => {\n    const paintEntries = performance.getEntriesByType('paint');\n    const navigationEntry = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\n    \n    return {\n      mainThreadTime: navigationEntry.loadEventEnd - navigationEntry.navigationStart,\n      taskDuration: paintEntries.length > 0 ? paintEntries[paintEntries.length - 1].startTime : 0\n    };\n  });\n}\n\n/**\n * Measure frame rate during interactions\n */\nasync function measureFrameRate(page: Page) {\n  return await page.evaluate(() => {\n    return new Promise((resolve) => {\n      const frames: number[] = [];\n      let lastTime = performance.now();\n      let frameDrops = 0;\n      \n      function measureFrame() {\n        const currentTime = performance.now();\n        const frameDuration = currentTime - lastTime;\n        const fps = 1000 / frameDuration;\n        \n        frames.push(fps);\n        \n        if (fps < 30) frameDrops++; // Count significant frame drops\n        \n        lastTime = currentTime;\n        \n        if (frames.length < 60) { // Measure for ~1 second at 60fps\n          requestAnimationFrame(measureFrame);\n        } else {\n          const average = frames.reduce((a, b) => a + b, 0) / frames.length;\n          resolve({ average, drops: frameDrops });\n        }\n      }\n      \n      requestAnimationFrame(measureFrame);\n    });\n  });\n}\n\n/**\n * Measure memory usage\n */\nasync function measureMemoryUsage(page: Page) {\n  return await page.evaluate(() => {\n    if ('memory' in performance) {\n      const memory = (performance as any).memory;\n      return {\n        heapUsed: memory.usedJSHeapSize,\n        heapTotal: memory.totalJSHeapSize,\n        heapLimit: memory.jsHeapSizeLimit\n      };\n    }\n    \n    return {\n      heapUsed: 0,\n      heapTotal: 0,\n      heapLimit: 0\n    };\n  });\n}\n\n/**\n * Measure image performance\n */\nasync function measureImagePerformance(page: Page) {\n  return await page.evaluate(() => {\n    const images = Array.from(document.querySelectorAll('img'));\n    let totalSize = 0;\n    let imageCount = 0;\n    \n    const resources = performance.getEntriesByType('resource');\n    \n    resources.forEach(resource => {\n      if (resource.name.match(/\\.(jpg|jpeg|png|gif|webp|svg)$/i)) {\n        totalSize += resource.transferSize || 0;\n        imageCount++;\n      }\n    });\n    \n    return {\n      count: imageCount,\n      totalSize,\n      averageSize: imageCount > 0 ? totalSize / imageCount : 0\n    };\n  });\n}\n\n/**\n * Measure mobile-specific performance\n */\nasync function measureMobilePerformance(page: Page) {\n  // Mobile-specific measurements with adjusted expectations\n  const [lcp, fid, cls] = await Promise.all([\n    measureLCP(page),\n    measureFID(page),\n    measureCLS(page)\n  ]);\n  \n  return { lcp, fid, cls };\n} "],"names":["test","describe","beforeEach","page","goto","waitUntil","lcp","measureLCP","expect","toBeLessThan","console","log","fid","measureFID","cls","measureCLS","startTime","Date","now","loadTime","resources","measureResourceTiming","css","js","blockingResources","measureBlockingResources","count","totalSize","jsMetrics","measureJavaScriptPerformance","mainThreadTime","taskDuration","frameRate","measureFrameRate","average","toBeGreaterThan","drops","memoryMetrics","measureMemoryUsage","heapUsed","heapTotal","Math","round","imageMetrics","measureImagePerformance","averageSize","waitForLoadState","reload","reloadTime","isMobile","skip","mobileMetrics","measureMobilePerformance","route","setTimeout","continue","evaluate","Promise","resolve","window","observer","PerformanceObserver","list","entries","getEntries","lastEntry","length","observe","entryTypes","click","processingStart","waitForTimeout","clsValue","entry","hadRecentInput","value","disconnect","performance","getEntriesByType","cssTime","jsTime","cssCount","jsCount","forEach","resource","resourceTiming","duration","responseEnd","name","includes","filter","reduce","sum","transferSize","paintEntries","navigationEntry","loadEventEnd","navigationStart","frames","lastTime","frameDrops","measureFrame","currentTime","frameDuration","fps","push","requestAnimationFrame","a","b","memory","usedJSHeapSize","totalJSHeapSize","heapLimit","jsHeapSizeLimit","images","Array","from","document","querySelectorAll","imageCount","match","all"],"mappings":"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"}