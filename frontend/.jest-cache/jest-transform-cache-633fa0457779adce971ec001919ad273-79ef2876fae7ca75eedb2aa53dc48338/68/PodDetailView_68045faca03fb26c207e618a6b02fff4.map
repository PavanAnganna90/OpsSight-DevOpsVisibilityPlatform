{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/PodDetailView.tsx"],"sourcesContent":["/**\n * Pod Detail View Component\n * \n * Comprehensive component for displaying detailed pod information including\n * status, resource usage, events, and container details with search/filter capabilities.\n */\n\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { StatusIndicator, Button, LoadingSkeleton } from '../ui';\nimport { useResponsive } from '../../hooks/useResponsive';\n\n// Enhanced Pod interfaces\ninterface PodDetail {\n  id: string;\n  name: string;\n  namespace: string;\n  status: 'Running' | 'Pending' | 'Failed' | 'Succeeded' | 'Unknown' | 'CrashLoopBackOff' | 'ImagePullBackOff';\n  phase: string;\n  created_at: string;\n  started_at?: string;\n  node_name?: string;\n  restart_count: number;\n  cpu_request?: string;\n  cpu_limit?: string;\n  memory_request?: string;\n  memory_limit?: string;\n  cpu_usage?: number;\n  memory_usage?: number;\n  ready: boolean;\n  containers: ContainerDetail[];\n  events: PodEvent[];\n  labels: Record<string, string>;\n  annotations: Record<string, string>;\n}\n\ninterface ContainerDetail {\n  name: string;\n  image: string;\n  status: 'Running' | 'Waiting' | 'Terminated';\n  ready: boolean;\n  restart_count: number;\n  state_reason?: string;\n  state_message?: string;\n  cpu_usage?: number;\n  memory_usage?: number;\n  ports: ContainerPort[];\n}\n\ninterface ContainerPort {\n  name?: string;\n  container_port: number;\n  protocol: string;\n}\n\ninterface PodEvent {\n  type: 'Normal' | 'Warning';\n  reason: string;\n  message: string;\n  timestamp: string;\n  source: string;\n}\n\ninterface PodDetailViewProps {\n  clusterId: string;\n  namespace?: string;\n  onPodSelect?: (pod: PodDetail) => void;\n  onContainerLogsRequest?: (podName: string, containerName: string) => void;\n  className?: string;\n}\n\n// Filter and search interfaces\ninterface PodFilters {\n  namespace: string;\n  status: string;\n  nodeName: string;\n  search: string;\n}\n\n/**\n * PodDetailView Component\n * \n * Displays comprehensive pod information with search, filtering, and drill-down capabilities.\n */\nexport const PodDetailView: React.FC<PodDetailViewProps> = ({\n  clusterId,\n  namespace,\n  onPodSelect,\n  onContainerLogsRequest,\n  className = ''\n}) => {\n  // State management\n  const [pods, setPods] = useState<PodDetail[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedPod, setSelectedPod] = useState<PodDetail | null>(null);\n  const [expandedPods, setExpandedPods] = useState<Set<string>>(new Set());\n  const [filters, setFilters] = useState<PodFilters>({\n    namespace: namespace || '',\n    status: '',\n    nodeName: '',\n    search: ''\n  });\n\n  // Available filter options\n  const [availableNamespaces, setAvailableNamespaces] = useState<string[]>([]);\n  const [availableNodes, setAvailableNodes] = useState<string[]>([]);\n\n  // Responsive design\n  const { isMobile } = useResponsive();\n\n  // Fetch pods data\n  const fetchPods = useCallback(async () => {\n    try {\n      setError(null);\n      const params = new URLSearchParams();\n      if (filters.namespace) params.append('namespace', filters.namespace);\n      if (filters.status) params.append('status', filters.status);\n      if (filters.nodeName) params.append('node_name', filters.nodeName);\n      if (filters.search) params.append('search', filters.search);\n\n      const response = await fetch(`/api/v1/kubernetes/clusters/${clusterId}/pods?${params}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch pods: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      setPods(data.pods || []);\n      \n      // Extract available options for filters\n      const namespaces = [...new Set(data.pods?.map((p: PodDetail) => p.namespace) || [])] as string[];\n      const nodes = [...new Set(data.pods?.map((p: PodDetail) => p.node_name).filter(Boolean) || [])] as string[];\n      setAvailableNamespaces(namespaces.sort());\n      setAvailableNodes(nodes.sort());\n      \n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch pods');\n    } finally {\n      setLoading(false);\n    }\n  }, [clusterId, filters]);\n\n  // Initial load and filter changes\n  useEffect(() => {\n    fetchPods();\n  }, [fetchPods]);\n\n  // Filter pods based on current filters\n  const filteredPods = useMemo(() => {\n    return pods.filter(pod => {\n      const matchesNamespace = !filters.namespace || pod.namespace === filters.namespace;\n      const matchesStatus = !filters.status || pod.status === filters.status;\n      const matchesNode = !filters.nodeName || pod.node_name === filters.nodeName;\n      const matchesSearch = !filters.search || \n        pod.name.toLowerCase().includes(filters.search.toLowerCase()) ||\n        pod.namespace.toLowerCase().includes(filters.search.toLowerCase());\n      \n      return matchesNamespace && matchesStatus && matchesNode && matchesSearch;\n    });\n  }, [pods, filters]);\n\n  // Get status color for pod status\n  const getStatusColor = (status: string): 'success' | 'warning' | 'error' | 'info' | 'neutral' => {\n    switch (status) {\n      case 'Running': return 'success';\n      case 'Pending': return 'warning';\n      case 'Failed':\n      case 'CrashLoopBackOff': return 'error';\n      case 'Succeeded': return 'info';\n      default: return 'neutral';\n    }\n  };\n\n  // Format resource values\n  const formatResource = (value?: string): string => {\n    if (!value) return 'Not set';\n    return value;\n  };\n\n  // Format duration\n  const formatDuration = (dateString?: string): string => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMinutes = Math.floor(diffMs / (1000 * 60));\n    \n    if (diffMinutes < 1) return 'Just now';\n    if (diffMinutes < 60) return `${diffMinutes}m`;\n    \n    const diffHours = Math.floor(diffMinutes / 60);\n    if (diffHours < 24) return `${diffHours}h`;\n    \n    const diffDays = Math.floor(diffHours / 24);\n    return `${diffDays}d`;\n  };\n\n  // Toggle pod expansion\n  const togglePodExpansion = (podId: string) => {\n    const newExpanded = new Set(expandedPods);\n    if (newExpanded.has(podId)) {\n      newExpanded.delete(podId);\n    } else {\n      newExpanded.add(podId);\n    }\n    setExpandedPods(newExpanded);\n  };\n\n  // Handle pod selection\n  const handlePodSelect = (pod: PodDetail) => {\n    setSelectedPod(pod);\n    onPodSelect?.(pod);\n  };\n\n  // Handle container logs request\n  const handleContainerLogs = (podName: string, containerName: string) => {\n    onContainerLogsRequest?.(podName, containerName);\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        {[...Array(5)].map((_, i) => (\n          <LoadingSkeleton key={i} variant=\"card\" />\n        ))}\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className={`bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg p-6 ${className}`}>\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <svg className=\"h-6 w-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n              Failed to load pod data\n            </h3>\n            <p className=\"mt-1 text-sm text-red-700 dark:text-red-300\">{error}</p>\n            <div className=\"mt-4\">\n              <Button\n                onClick={() => {\n                  setError(null);\n                  fetchPods();\n                }}\n                size=\"sm\"\n                variant=\"outline\"\n              >\n                Retry\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header and Filters */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n          Pod Details ({filteredPods.length} pods)\n        </h3>\n        \n        {/* Search and Filters */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Search\n            </label>\n            <input\n              type=\"text\"\n              placeholder=\"Search pods...\"\n              value={filters.search}\n              onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-800\"\n            />\n          </div>\n\n          {/* Namespace Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Namespace\n            </label>\n            <select\n              value={filters.namespace}\n              onChange={(e) => setFilters(prev => ({ ...prev, namespace: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-800\"\n            >\n              <option value=\"\">All Namespaces</option>\n              {availableNamespaces.map(ns => (\n                <option key={ns} value={ns}>{ns}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Status Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Status\n            </label>\n            <select\n              value={filters.status}\n              onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-800\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"Running\">Running</option>\n              <option value=\"Pending\">Pending</option>\n              <option value=\"Failed\">Failed</option>\n              <option value=\"Succeeded\">Succeeded</option>\n              <option value=\"CrashLoopBackOff\">CrashLoopBackOff</option>\n              <option value=\"ImagePullBackOff\">ImagePullBackOff</option>\n            </select>\n          </div>\n\n          {/* Node Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Node\n            </label>\n            <select\n              value={filters.nodeName}\n              onChange={(e) => setFilters(prev => ({ ...prev, nodeName: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-800\"\n            >\n              <option value=\"\">All Nodes</option>\n              {availableNodes.map(node => (\n                <option key={node} value={node}>{node}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Refresh Button */}\n        <div className=\"flex justify-end\">\n          <Button\n            onClick={fetchPods}\n            size=\"sm\"\n            variant=\"outline\"\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Refresh\n          </Button>\n        </div>\n      </div>\n\n      {/* Pod List */}\n      <div className=\"space-y-4\">\n        {filteredPods.length === 0 ? (\n          <div className=\"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow\">\n            <div className=\"text-gray-400 dark:text-gray-600\">\n              <svg className=\"mx-auto h-16 w-16 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n              </svg>\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\n                No pods found\n              </h3>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                No pods match the current filters. Try adjusting your search criteria.\n              </p>\n            </div>\n          </div>\n        ) : (\n          filteredPods.map((pod) => (\n            <div\n              key={pod.id}\n              className={`\n                bg-white dark:bg-gray-800 rounded-lg shadow border transition-all duration-200\n                ${selectedPod?.id === pod.id ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : 'border-gray-200 dark:border-gray-700'}\n              `}\n            >\n              {/* Pod Header */}\n              <div \n                className=\"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700\"\n                onClick={() => handlePodSelect(pod)}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <StatusIndicator \n                      status={getStatusColor(pod.status)} \n                      size=\"sm\"\n                    />\n                    <div>\n                      <h4 className=\"font-medium text-gray-900 dark:text-gray-100\">\n                        {pod.name}\n                      </h4>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {pod.namespace} • {pod.node_name || 'Unscheduled'}\n                      </p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {pod.status} • {formatDuration(pod.created_at)}\n                    </div>\n                    <Button\n                      onClick={(e: React.MouseEvent) => {\n                        e.stopPropagation();\n                        togglePodExpansion(pod.id);\n                      }}\n                      size=\"sm\"\n                      variant=\"ghost\"\n                    >\n                      <svg \n                        className={`h-4 w-4 transition-transform ${expandedPods.has(pod.id) ? 'rotate-180' : ''}`} \n                        fill=\"none\" \n                        stroke=\"currentColor\" \n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                      </svg>\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Quick Stats */}\n                <div className=\"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-gray-500 dark:text-gray-400\">Restarts:</span>\n                    <span className=\"ml-1 font-medium\">{pod.restart_count}</span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-500 dark:text-gray-400\">Ready:</span>\n                    <span className=\"ml-1 font-medium\">{pod.ready ? 'Yes' : 'No'}</span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-500 dark:text-gray-400\">Containers:</span>\n                    <span className=\"ml-1 font-medium\">{pod.containers.length}</span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-500 dark:text-gray-400\">Age:</span>\n                    <span className=\"ml-1 font-medium\">{formatDuration(pod.created_at)}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Expanded Details */}\n              {expandedPods.has(pod.id) && (\n                <div className=\"border-t border-gray-200 dark:border-gray-700 p-4 space-y-6\">\n                  {/* Resource Usage */}\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n                      Resource Usage\n                    </h5>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                        <div className=\"text-sm\">\n                          <div className=\"font-medium text-gray-900 dark:text-gray-100\">CPU</div>\n                          <div className=\"text-gray-600 dark:text-gray-400\">\n                            Request: {formatResource(pod.cpu_request)}\n                          </div>\n                          <div className=\"text-gray-600 dark:text-gray-400\">\n                            Limit: {formatResource(pod.cpu_limit)}\n                          </div>\n                          {pod.cpu_usage && (\n                            <div className=\"text-gray-600 dark:text-gray-400\">\n                              Usage: {Math.round(pod.cpu_usage)}%\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                        <div className=\"text-sm\">\n                          <div className=\"font-medium text-gray-900 dark:text-gray-100\">Memory</div>\n                          <div className=\"text-gray-600 dark:text-gray-400\">\n                            Request: {formatResource(pod.memory_request)}\n                          </div>\n                          <div className=\"text-gray-600 dark:text-gray-400\">\n                            Limit: {formatResource(pod.memory_limit)}\n                          </div>\n                          {pod.memory_usage && (\n                            <div className=\"text-gray-600 dark:text-gray-400\">\n                              Usage: {Math.round(pod.memory_usage)}%\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Containers */}\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n                      Containers ({pod.containers.length})\n                    </h5>\n                    <div className=\"space-y-3\">\n                      {pod.containers.map((container, index) => (\n                        <div key={index} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <div className=\"flex items-center space-x-2\">\n                              <StatusIndicator \n                                status={getStatusColor(container.status)} \n                                size=\"sm\"\n                              />\n                              <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n                                {container.name}\n                              </span>\n                            </div>\n                            <Button\n                              onClick={() => handleContainerLogs(pod.name, container.name)}\n                              size=\"sm\"\n                              variant=\"outline\"\n                            >\n                              <svg className=\"h-3 w-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                              </svg>\n                              Logs\n                            </Button>\n                          </div>\n                          <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                            <div>Image: {container.image}</div>\n                            <div>Status: {container.status}</div>\n                            <div>Restarts: {container.restart_count}</div>\n                            {container.state_reason && (\n                              <div>Reason: {container.state_reason}</div>\n                            )}\n                          </div>\n                          {container.ports.length > 0 && (\n                            <div className=\"mt-2\">\n                              <div className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">Ports:</div>\n                              <div className=\"flex flex-wrap gap-2\">\n                                {container.ports.map((port, portIndex) => (\n                                  <span \n                                    key={portIndex}\n                                    className=\"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 text-xs rounded\"\n                                  >\n                                    {port.container_port}/{port.protocol}\n                                    {port.name && ` (${port.name})`}\n                                  </span>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Recent Events */}\n                  {pod.events.length > 0 && (\n                    <div>\n                      <h5 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n                        Recent Events\n                      </h5>\n                      <div className=\"space-y-2\">\n                        {pod.events.slice(0, 5).map((event, index) => (\n                          <div key={index} className=\"flex items-start space-x-3 text-sm\">\n                            <div className={`w-2 h-2 rounded-full mt-1.5 ${\n                              event.type === 'Warning' ? 'bg-yellow-500' : 'bg-green-500'\n                            }`} />\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center justify-between\">\n                                <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n                                  {event.reason}\n                                </span>\n                                <span className=\"text-gray-500 dark:text-gray-400\">\n                                  {formatDuration(event.timestamp)}\n                                </span>\n                              </div>\n                              <div className=\"text-gray-600 dark:text-gray-400\">\n                                {event.message}\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PodDetailView; "],"names":["PodDetailView","clusterId","namespace","onPodSelect","onContainerLogsRequest","className","pods","setPods","useState","loading","setLoading","error","setError","selectedPod","setSelectedPod","expandedPods","setExpandedPods","Set","filters","setFilters","status","nodeName","search","availableNamespaces","setAvailableNamespaces","availableNodes","setAvailableNodes","isMobile","useResponsive","fetchPods","useCallback","params","URLSearchParams","append","response","fetch","headers","localStorage","getItem","ok","Error","statusText","data","json","namespaces","map","p","nodes","node_name","filter","Boolean","sort","err","message","useEffect","filteredPods","useMemo","pod","matchesNamespace","matchesStatus","matchesNode","matchesSearch","name","toLowerCase","includes","getStatusColor","formatResource","value","formatDuration","dateString","date","Date","now","diffMs","getTime","diffMinutes","Math","floor","diffHours","diffDays","togglePodExpansion","podId","newExpanded","has","delete","add","handlePodSelect","handleContainerLogs","podName","containerName","div","Array","_","i","LoadingSkeleton","variant","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","h3","Button","onClick","size","length","label","input","type","placeholder","onChange","e","prev","target","select","option","ns","node","id","StatusIndicator","h4","created_at","stopPropagation","span","restart_count","ready","containers","h5","cpu_request","cpu_limit","cpu_usage","round","memory_request","memory_limit","memory_usage","container","index","image","state_reason","ports","port","portIndex","container_port","protocol","events","slice","event","reason","timestamp"],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;IA8EYA,aAAa;eAAbA;;IAggBb,OAA6B;eAA7B;;;;+DA5kBiE;oBACR;+BAC3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EvB,MAAMA,gBAA8C,CAAC,EAC1DC,SAAS,EACTC,SAAS,EACTC,WAAW,EACXC,sBAAsB,EACtBC,YAAY,EAAE,EACf;IACC,mBAAmB;IACnB,MAAM,CAACC,MAAMC,QAAQ,GAAGC,IAAAA,eAAQ,EAAc,EAAE;IAChD,MAAM,CAACC,SAASC,WAAW,GAAGF,IAAAA,eAAQ,EAAC;IACvC,MAAM,CAACG,OAAOC,SAAS,GAAGJ,IAAAA,eAAQ,EAAgB;IAClD,MAAM,CAACK,aAAaC,eAAe,GAAGN,IAAAA,eAAQ,EAAmB;IACjE,MAAM,CAACO,cAAcC,gBAAgB,GAAGR,IAAAA,eAAQ,EAAc,IAAIS;IAClE,MAAM,CAACC,SAASC,WAAW,GAAGX,IAAAA,eAAQ,EAAa;QACjDN,WAAWA,aAAa;QACxBkB,QAAQ;QACRC,UAAU;QACVC,QAAQ;IACV;IAEA,2BAA2B;IAC3B,MAAM,CAACC,qBAAqBC,uBAAuB,GAAGhB,IAAAA,eAAQ,EAAW,EAAE;IAC3E,MAAM,CAACiB,gBAAgBC,kBAAkB,GAAGlB,IAAAA,eAAQ,EAAW,EAAE;IAEjE,oBAAoB;IACpB,MAAM,EAAEmB,QAAQ,EAAE,GAAGC,IAAAA,4BAAa;IAElC,kBAAkB;IAClB,MAAMC,YAAYC,IAAAA,kBAAW,EAAC;QAC5B,IAAI;YACFlB,SAAS;YACT,MAAMmB,SAAS,IAAIC;YACnB,IAAId,QAAQhB,SAAS,EAAE6B,OAAOE,MAAM,CAAC,aAAaf,QAAQhB,SAAS;YACnE,IAAIgB,QAAQE,MAAM,EAAEW,OAAOE,MAAM,CAAC,UAAUf,QAAQE,MAAM;YAC1D,IAAIF,QAAQG,QAAQ,EAAEU,OAAOE,MAAM,CAAC,aAAaf,QAAQG,QAAQ;YACjE,IAAIH,QAAQI,MAAM,EAAES,OAAOE,MAAM,CAAC,UAAUf,QAAQI,MAAM;YAE1D,MAAMY,WAAW,MAAMC,MAAM,CAAC,4BAA4B,EAAElC,UAAU,MAAM,EAAE8B,QAAQ,EAAE;gBACtFK,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAEC,aAAaC,OAAO,CAAC,iBAAiB;oBACjE,gBAAgB;gBAClB;YACF;YAEA,IAAI,CAACJ,SAASK,EAAE,EAAE;gBAChB,MAAM,IAAIC,MAAM,CAAC,sBAAsB,EAAEN,SAASO,UAAU,EAAE;YAChE;YAEA,MAAMC,OAAO,MAAMR,SAASS,IAAI;YAChCpC,QAAQmC,KAAKpC,IAAI,IAAI,EAAE;YAEvB,wCAAwC;YACxC,MAAMsC,aAAa;mBAAI,IAAI3B,IAAIyB,KAAKpC,IAAI,EAAEuC,IAAI,CAACC,IAAiBA,EAAE5C,SAAS,KAAK,EAAE;aAAE;YACpF,MAAM6C,QAAQ;mBAAI,IAAI9B,IAAIyB,KAAKpC,IAAI,EAAEuC,IAAI,CAACC,IAAiBA,EAAEE,SAAS,EAAEC,OAAOC,YAAY,EAAE;aAAE;YAC/F1B,uBAAuBoB,WAAWO,IAAI;YACtCzB,kBAAkBqB,MAAMI,IAAI;QAE9B,EAAE,OAAOC,KAAK;YACZxC,SAASwC,eAAeZ,QAAQY,IAAIC,OAAO,GAAG;QAChD,SAAU;YACR3C,WAAW;QACb;IACF,GAAG;QAACT;QAAWiB;KAAQ;IAEvB,kCAAkC;IAClCoC,IAAAA,gBAAS,EAAC;QACRzB;IACF,GAAG;QAACA;KAAU;IAEd,uCAAuC;IACvC,MAAM0B,eAAeC,IAAAA,cAAO,EAAC;QAC3B,OAAOlD,KAAK2C,MAAM,CAACQ,CAAAA;YACjB,MAAMC,mBAAmB,CAACxC,QAAQhB,SAAS,IAAIuD,IAAIvD,SAAS,KAAKgB,QAAQhB,SAAS;YAClF,MAAMyD,gBAAgB,CAACzC,QAAQE,MAAM,IAAIqC,IAAIrC,MAAM,KAAKF,QAAQE,MAAM;YACtE,MAAMwC,cAAc,CAAC1C,QAAQG,QAAQ,IAAIoC,IAAIT,SAAS,KAAK9B,QAAQG,QAAQ;YAC3E,MAAMwC,gBAAgB,CAAC3C,QAAQI,MAAM,IACnCmC,IAAIK,IAAI,CAACC,WAAW,GAAGC,QAAQ,CAAC9C,QAAQI,MAAM,CAACyC,WAAW,OAC1DN,IAAIvD,SAAS,CAAC6D,WAAW,GAAGC,QAAQ,CAAC9C,QAAQI,MAAM,CAACyC,WAAW;YAEjE,OAAOL,oBAAoBC,iBAAiBC,eAAeC;QAC7D;IACF,GAAG;QAACvD;QAAMY;KAAQ;IAElB,kCAAkC;IAClC,MAAM+C,iBAAiB,CAAC7C;QACtB,OAAQA;YACN,KAAK;gBAAW,OAAO;YACvB,KAAK;gBAAW,OAAO;YACvB,KAAK;YACL,KAAK;gBAAoB,OAAO;YAChC,KAAK;gBAAa,OAAO;YACzB;gBAAS,OAAO;QAClB;IACF;IAEA,yBAAyB;IACzB,MAAM8C,iBAAiB,CAACC;QACtB,IAAI,CAACA,OAAO,OAAO;QACnB,OAAOA;IACT;IAEA,kBAAkB;IAClB,MAAMC,iBAAiB,CAACC;QACtB,IAAI,CAACA,YAAY,OAAO;QACxB,MAAMC,OAAO,IAAIC,KAAKF;QACtB,MAAMG,MAAM,IAAID;QAChB,MAAME,SAASD,IAAIE,OAAO,KAAKJ,KAAKI,OAAO;QAC3C,MAAMC,cAAcC,KAAKC,KAAK,CAACJ,SAAU,CAAA,OAAO,EAAC;QAEjD,IAAIE,cAAc,GAAG,OAAO;QAC5B,IAAIA,cAAc,IAAI,OAAO,GAAGA,YAAY,CAAC,CAAC;QAE9C,MAAMG,YAAYF,KAAKC,KAAK,CAACF,cAAc;QAC3C,IAAIG,YAAY,IAAI,OAAO,GAAGA,UAAU,CAAC,CAAC;QAE1C,MAAMC,WAAWH,KAAKC,KAAK,CAACC,YAAY;QACxC,OAAO,GAAGC,SAAS,CAAC,CAAC;IACvB;IAEA,uBAAuB;IACvB,MAAMC,qBAAqB,CAACC;QAC1B,MAAMC,cAAc,IAAIjE,IAAIF;QAC5B,IAAImE,YAAYC,GAAG,CAACF,QAAQ;YAC1BC,YAAYE,MAAM,CAACH;QACrB,OAAO;YACLC,YAAYG,GAAG,CAACJ;QAClB;QACAjE,gBAAgBkE;IAClB;IAEA,uBAAuB;IACvB,MAAMI,kBAAkB,CAAC7B;QACvB3C,eAAe2C;QACftD,cAAcsD;IAChB;IAEA,gCAAgC;IAChC,MAAM8B,sBAAsB,CAACC,SAAiBC;QAC5CrF,yBAAyBoF,SAASC;IACpC;IAEA,gBAAgB;IAChB,IAAIhF,SAAS;QACX,qBACE,qBAACiF;YAAIrF,WAAW,CAAC,UAAU,EAAEA,WAAW;sBACrC;mBAAIsF,MAAM;aAAG,CAAC9C,GAAG,CAAC,CAAC+C,GAAGC,kBACrB,qBAACC,mBAAe;oBAASC,SAAQ;mBAAXF;;IAI9B;IAEA,cAAc;IACd,IAAIlF,OAAO;QACT,qBACE,qBAAC+E;YAAIrF,WAAW,CAAC,sFAAsF,EAAEA,WAAW;sBAClH,cAAA,sBAACqF;gBAAIrF,WAAU;;kCACb,qBAACqF;wBAAIrF,WAAU;kCACb,cAAA,qBAAC2F;4BAAI3F,WAAU;4BAAuB4F,MAAK;4BAAOC,QAAO;4BAAeC,SAAQ;sCAC9E,cAAA,qBAACC;gCAAKC,eAAc;gCAAQC,gBAAe;gCAAQC,aAAa;gCAAGC,GAAE;;;;kCAGzE,sBAACd;wBAAIrF,WAAU;;0CACb,qBAACoG;gCAAGpG,WAAU;0CAAqD;;0CAGnE,qBAACyC;gCAAEzC,WAAU;0CAA+CM;;0CAC5D,qBAAC+E;gCAAIrF,WAAU;0CACb,cAAA,qBAACqG,UAAM;oCACLC,SAAS;wCACP/F,SAAS;wCACTiB;oCACF;oCACA+E,MAAK;oCACLb,SAAQ;8CACT;;;;;;;;IAQb;IAEA,qBACE,sBAACL;QAAIrF,WAAW,CAAC,UAAU,EAAEA,WAAW;;0BAEtC,sBAACqF;gBAAIrF,WAAU;;kCACb,sBAACoG;wBAAGpG,WAAU;;4BAA4D;4BAC1DkD,aAAasD,MAAM;4BAAC;;;kCAIpC,sBAACnB;wBAAIrF,WAAU;;0CAEb,sBAACqF;;kDACC,qBAACoB;wCAAMzG,WAAU;kDAAkE;;kDAGnF,qBAAC0G;wCACCC,MAAK;wCACLC,aAAY;wCACZ9C,OAAOjD,QAAQI,MAAM;wCACrB4F,UAAU,CAACC,IAAMhG,WAAWiG,CAAAA,OAAS,CAAA;oDAAE,GAAGA,IAAI;oDAAE9F,QAAQ6F,EAAEE,MAAM,CAAClD,KAAK;gDAAC,CAAA;wCACvE9D,WAAU;;;;0CAKd,sBAACqF;;kDACC,qBAACoB;wCAAMzG,WAAU;kDAAkE;;kDAGnF,sBAACiH;wCACCnD,OAAOjD,QAAQhB,SAAS;wCACxBgH,UAAU,CAACC,IAAMhG,WAAWiG,CAAAA,OAAS,CAAA;oDAAE,GAAGA,IAAI;oDAAElH,WAAWiH,EAAEE,MAAM,CAAClD,KAAK;gDAAC,CAAA;wCAC1E9D,WAAU;;0DAEV,qBAACkH;gDAAOpD,OAAM;0DAAG;;4CAChB5C,oBAAoBsB,GAAG,CAAC2E,CAAAA,mBACvB,qBAACD;oDAAgBpD,OAAOqD;8DAAKA;mDAAhBA;;;;;0CAMnB,sBAAC9B;;kDACC,qBAACoB;wCAAMzG,WAAU;kDAAkE;;kDAGnF,sBAACiH;wCACCnD,OAAOjD,QAAQE,MAAM;wCACrB8F,UAAU,CAACC,IAAMhG,WAAWiG,CAAAA,OAAS,CAAA;oDAAE,GAAGA,IAAI;oDAAEhG,QAAQ+F,EAAEE,MAAM,CAAClD,KAAK;gDAAC,CAAA;wCACvE9D,WAAU;;0DAEV,qBAACkH;gDAAOpD,OAAM;0DAAG;;0DACjB,qBAACoD;gDAAOpD,OAAM;0DAAU;;0DACxB,qBAACoD;gDAAOpD,OAAM;0DAAU;;0DACxB,qBAACoD;gDAAOpD,OAAM;0DAAS;;0DACvB,qBAACoD;gDAAOpD,OAAM;0DAAY;;0DAC1B,qBAACoD;gDAAOpD,OAAM;0DAAmB;;0DACjC,qBAACoD;gDAAOpD,OAAM;0DAAmB;;;;;;0CAKrC,sBAACuB;;kDACC,qBAACoB;wCAAMzG,WAAU;kDAAkE;;kDAGnF,sBAACiH;wCACCnD,OAAOjD,QAAQG,QAAQ;wCACvB6F,UAAU,CAACC,IAAMhG,WAAWiG,CAAAA,OAAS,CAAA;oDAAE,GAAGA,IAAI;oDAAE/F,UAAU8F,EAAEE,MAAM,CAAClD,KAAK;gDAAC,CAAA;wCACzE9D,WAAU;;0DAEV,qBAACkH;gDAAOpD,OAAM;0DAAG;;4CAChB1C,eAAeoB,GAAG,CAAC4E,CAAAA,qBAClB,qBAACF;oDAAkBpD,OAAOsD;8DAAOA;mDAApBA;;;;;;;kCAOrB,qBAAC/B;wBAAIrF,WAAU;kCACb,cAAA,sBAACqG,UAAM;4BACLC,SAAS9E;4BACT+E,MAAK;4BACLb,SAAQ;;8CAER,qBAACC;oCAAI3F,WAAU;oCAAe4F,MAAK;oCAAOC,QAAO;oCAAeC,SAAQ;8CACtE,cAAA,qBAACC;wCAAKC,eAAc;wCAAQC,gBAAe;wCAAQC,aAAa;wCAAGC,GAAE;;;gCACjE;;;;;;0BAOZ,qBAACd;gBAAIrF,WAAU;0BACZkD,aAAasD,MAAM,KAAK,kBACvB,qBAACnB;oBAAIrF,WAAU;8BACb,cAAA,sBAACqF;wBAAIrF,WAAU;;0CACb,qBAAC2F;gCAAI3F,WAAU;gCAAyB4F,MAAK;gCAAOC,QAAO;gCAAeC,SAAQ;0CAChF,cAAA,qBAACC;oCAAKC,eAAc;oCAAQC,gBAAe;oCAAQC,aAAa;oCAAGC,GAAE;;;0CAEvE,qBAACC;gCAAGpG,WAAU;0CAA4D;;0CAG1E,qBAACyC;gCAAEzC,WAAU;0CAA2C;;;;qBAM5DkD,aAAaV,GAAG,CAAC,CAACY,oBAChB,sBAACiC;wBAECrF,WAAW,CAAC;;gBAEV,EAAEQ,aAAa6G,OAAOjE,IAAIiE,EAAE,GAAG,mDAAmD,uCAAuC;cAC3H,CAAC;;0CAGD,sBAAChC;gCACCrF,WAAU;gCACVsG,SAAS,IAAMrB,gBAAgB7B;;kDAE/B,sBAACiC;wCAAIrF,WAAU;;0DACb,sBAACqF;gDAAIrF,WAAU;;kEACb,qBAACsH,mBAAe;wDACdvG,QAAQ6C,eAAeR,IAAIrC,MAAM;wDACjCwF,MAAK;;kEAEP,sBAAClB;;0EACC,qBAACkC;gEAAGvH,WAAU;0EACXoD,IAAIK,IAAI;;0EAEX,sBAAChB;gEAAEzC,WAAU;;oEACVoD,IAAIvD,SAAS;oEAAC;oEAAIuD,IAAIT,SAAS,IAAI;;;;;;;0DAK1C,sBAAC0C;gDAAIrF,WAAU;;kEACb,sBAACqF;wDAAIrF,WAAU;;4DACZoD,IAAIrC,MAAM;4DAAC;4DAAIgD,eAAeX,IAAIoE,UAAU;;;kEAE/C,qBAACnB,UAAM;wDACLC,SAAS,CAACQ;4DACRA,EAAEW,eAAe;4DACjB9C,mBAAmBvB,IAAIiE,EAAE;wDAC3B;wDACAd,MAAK;wDACLb,SAAQ;kEAER,cAAA,qBAACC;4DACC3F,WAAW,CAAC,6BAA6B,EAAEU,aAAaoE,GAAG,CAAC1B,IAAIiE,EAAE,IAAI,eAAe,IAAI;4DACzFzB,MAAK;4DACLC,QAAO;4DACPC,SAAQ;sEAER,cAAA,qBAACC;gEAAKC,eAAc;gEAAQC,gBAAe;gEAAQC,aAAa;gEAAGC,GAAE;;;;;;;;kDAO7E,sBAACd;wCAAIrF,WAAU;;0DACb,sBAACqF;;kEACC,qBAACqC;wDAAK1H,WAAU;kEAAmC;;kEACnD,qBAAC0H;wDAAK1H,WAAU;kEAAoBoD,IAAIuE,aAAa;;;;0DAEvD,sBAACtC;;kEACC,qBAACqC;wDAAK1H,WAAU;kEAAmC;;kEACnD,qBAAC0H;wDAAK1H,WAAU;kEAAoBoD,IAAIwE,KAAK,GAAG,QAAQ;;;;0DAE1D,sBAACvC;;kEACC,qBAACqC;wDAAK1H,WAAU;kEAAmC;;kEACnD,qBAAC0H;wDAAK1H,WAAU;kEAAoBoD,IAAIyE,UAAU,CAACrB,MAAM;;;;0DAE3D,sBAACnB;;kEACC,qBAACqC;wDAAK1H,WAAU;kEAAmC;;kEACnD,qBAAC0H;wDAAK1H,WAAU;kEAAoB+D,eAAeX,IAAIoE,UAAU;;;;;;;;4BAMtE9G,aAAaoE,GAAG,CAAC1B,IAAIiE,EAAE,mBACtB,sBAAChC;gCAAIrF,WAAU;;kDAEb,sBAACqF;;0DACC,qBAACyC;gDAAG9H,WAAU;0DAA4D;;0DAG1E,sBAACqF;gDAAIrF,WAAU;;kEACb,qBAACqF;wDAAIrF,WAAU;kEACb,cAAA,sBAACqF;4DAAIrF,WAAU;;8EACb,qBAACqF;oEAAIrF,WAAU;8EAA+C;;8EAC9D,sBAACqF;oEAAIrF,WAAU;;wEAAmC;wEACtC6D,eAAeT,IAAI2E,WAAW;;;8EAE1C,sBAAC1C;oEAAIrF,WAAU;;wEAAmC;wEACxC6D,eAAeT,IAAI4E,SAAS;;;gEAErC5E,IAAI6E,SAAS,kBACZ,sBAAC5C;oEAAIrF,WAAU;;wEAAmC;wEACxCuE,KAAK2D,KAAK,CAAC9E,IAAI6E,SAAS;wEAAE;;;;;;kEAK1C,qBAAC5C;wDAAIrF,WAAU;kEACb,cAAA,sBAACqF;4DAAIrF,WAAU;;8EACb,qBAACqF;oEAAIrF,WAAU;8EAA+C;;8EAC9D,sBAACqF;oEAAIrF,WAAU;;wEAAmC;wEACtC6D,eAAeT,IAAI+E,cAAc;;;8EAE7C,sBAAC9C;oEAAIrF,WAAU;;wEAAmC;wEACxC6D,eAAeT,IAAIgF,YAAY;;;gEAExChF,IAAIiF,YAAY,kBACf,sBAAChD;oEAAIrF,WAAU;;wEAAmC;wEACxCuE,KAAK2D,KAAK,CAAC9E,IAAIiF,YAAY;wEAAE;;;;;;;;;;kDASjD,sBAAChD;;0DACC,sBAACyC;gDAAG9H,WAAU;;oDAA4D;oDAC3DoD,IAAIyE,UAAU,CAACrB,MAAM;oDAAC;;;0DAErC,qBAACnB;gDAAIrF,WAAU;0DACZoD,IAAIyE,UAAU,CAACrF,GAAG,CAAC,CAAC8F,WAAWC,sBAC9B,sBAAClD;wDAAgBrF,WAAU;;0EACzB,sBAACqF;gEAAIrF,WAAU;;kFACb,sBAACqF;wEAAIrF,WAAU;;0FACb,qBAACsH,mBAAe;gFACdvG,QAAQ6C,eAAe0E,UAAUvH,MAAM;gFACvCwF,MAAK;;0FAEP,qBAACmB;gFAAK1H,WAAU;0FACbsI,UAAU7E,IAAI;;;;kFAGnB,sBAAC4C,UAAM;wEACLC,SAAS,IAAMpB,oBAAoB9B,IAAIK,IAAI,EAAE6E,UAAU7E,IAAI;wEAC3D8C,MAAK;wEACLb,SAAQ;;0FAER,qBAACC;gFAAI3F,WAAU;gFAAe4F,MAAK;gFAAOC,QAAO;gFAAeC,SAAQ;0FACtE,cAAA,qBAACC;oFAAKC,eAAc;oFAAQC,gBAAe;oFAAQC,aAAa;oFAAGC,GAAE;;;4EACjE;;;;;0EAIV,sBAACd;gEAAIrF,WAAU;;kFACb,sBAACqF;;4EAAI;4EAAQiD,UAAUE,KAAK;;;kFAC5B,sBAACnD;;4EAAI;4EAASiD,UAAUvH,MAAM;;;kFAC9B,sBAACsE;;4EAAI;4EAAWiD,UAAUX,aAAa;;;oEACtCW,UAAUG,YAAY,kBACrB,sBAACpD;;4EAAI;4EAASiD,UAAUG,YAAY;;;;;4DAGvCH,UAAUI,KAAK,CAAClC,MAAM,GAAG,mBACxB,sBAACnB;gEAAIrF,WAAU;;kFACb,qBAACqF;wEAAIrF,WAAU;kFAAgD;;kFAC/D,qBAACqF;wEAAIrF,WAAU;kFACZsI,UAAUI,KAAK,CAAClG,GAAG,CAAC,CAACmG,MAAMC,0BAC1B,sBAAClB;gFAEC1H,WAAU;;oFAET2I,KAAKE,cAAc;oFAAC;oFAAEF,KAAKG,QAAQ;oFACnCH,KAAKlF,IAAI,IAAI,CAAC,EAAE,EAAEkF,KAAKlF,IAAI,CAAC,CAAC,CAAC;;+EAJ1BmF;;;;;uDApCPL;;;;oCAoDfnF,IAAI2F,MAAM,CAACvC,MAAM,GAAG,mBACnB,sBAACnB;;0DACC,qBAACyC;gDAAG9H,WAAU;0DAA4D;;0DAG1E,qBAACqF;gDAAIrF,WAAU;0DACZoD,IAAI2F,MAAM,CAACC,KAAK,CAAC,GAAG,GAAGxG,GAAG,CAAC,CAACyG,OAAOV,sBAClC,sBAAClD;wDAAgBrF,WAAU;;0EACzB,qBAACqF;gEAAIrF,WAAW,CAAC,4BAA4B,EAC3CiJ,MAAMtC,IAAI,KAAK,YAAY,kBAAkB,gBAC7C;;0EACF,sBAACtB;gEAAIrF,WAAU;;kFACb,sBAACqF;wEAAIrF,WAAU;;0FACb,qBAAC0H;gFAAK1H,WAAU;0FACbiJ,MAAMC,MAAM;;0FAEf,qBAACxB;gFAAK1H,WAAU;0FACb+D,eAAekF,MAAME,SAAS;;;;kFAGnC,qBAAC9D;wEAAIrF,WAAU;kFACZiJ,MAAMjG,OAAO;;;;;uDAdVuF;;;;;;;uBAtLjBnF,IAAIiE,EAAE;;;;AAoNzB;MAEA,WAAe1H"}