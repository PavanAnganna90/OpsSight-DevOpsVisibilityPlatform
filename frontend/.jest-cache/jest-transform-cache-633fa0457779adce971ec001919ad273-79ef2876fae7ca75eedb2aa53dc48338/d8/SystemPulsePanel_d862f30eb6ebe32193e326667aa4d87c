89ebff11d187b54dde047bc2eefca764
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _AnimatedIllustration = /*#__PURE__*/ _interop_require_default(require("../ui/AnimatedIllustration"));
const _StatusIndicator = /*#__PURE__*/ _interop_require_default(require("../ui/StatusIndicator"));
const _EmptyState = /*#__PURE__*/ _interop_require_default(require("../ui/EmptyState"));
const _useSystemMetrics = require("../../hooks/useSystemMetrics");
const _analytics = require("../../utils/analytics");
const _SettingsContext = require("../../contexts/SettingsContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Individual metric item component - memoized for performance
 */ const MetricItem = /*#__PURE__*/ (0, _react.memo)(({ metric })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "relative flex items-center gap-4 group hover:bg-blue-50 dark:hover:bg-blue-900/20 transition rounded-lg p-4",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_AnimatedIllustration.default, {
                name: metric.id === 'cicd' ? 'pipeline' : metric.id === 'k8s' ? 'k8s' : 'cloud',
                className: "absolute right-2 bottom-2 w-20 h-20 opacity-15 pointer-events-none group-hover:scale-105 transition-transform duration-300",
                alt: metric.title
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_StatusIndicator.default, {
                status: metric.status
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "z-10",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "font-medium",
                        children: metric.title
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-xs text-gray-500",
                        children: metric.value
                    }),
                    metric.detail && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-xs text-blue-400 mt-1",
                        children: metric.detail
                    })
                ]
            })
        ]
    }, metric.id));
MetricItem.displayName = 'MetricItem';
/**
 * Left panel component displaying system health signals.
 * Shows key metrics with color-coded status indicators.
 * Optimized with React.memo and useMemo for better performance.
 */ const SystemPulsePanelComponent = ()=>{
    // const { refreshInterval } = useContext(SettingsContext) || { refreshInterval: 0 };
    const { data, isLoading, error, refetch } = (0, _useSystemMetrics.useSystemMetrics)();
    const [showUnhealthy, setShowUnhealthy] = _react.default.useState(false);
    const { panelVisibility, refreshInterval } = (0, _SettingsContext.useSettings)();
    // Hide panel if not visible
    if (!panelVisibility.systemPulse) return null;
    // Memoized callback to prevent unnecessary re-renders
    const handleRefresh = (0, _react.useCallback)(async ()=>{
        (0, _analytics.trackEvent)('refresh', {
            panel: 'SystemPulse'
        });
        await refetch();
    }, [
        refetch
    ]);
    // Auto-refresh logic with memoized dependencies
    (0, _react.useEffect)(()=>{
        if (refreshInterval > 0) {
            const interval = setInterval(()=>{
                (0, _analytics.trackEvent)('auto-refresh', {
                    panel: 'SystemPulse'
                });
                refetch();
            }, refreshInterval * 1000);
            return ()=>clearInterval(interval);
        }
    }, [
        refreshInterval,
        refetch
    ]);
    // Memoized metrics parsing
    const metrics = (0, _react.useMemo)(()=>{
        return Array.isArray(data) ? data : [];
    }, [
        data
    ]);
    // Memoized filtered metrics to prevent unnecessary filtering
    const filteredMetrics = (0, _react.useMemo)(()=>{
        return showUnhealthy ? metrics.filter((m)=>m.status !== 'success') : metrics;
    }, [
        metrics,
        showUnhealthy
    ]);
    if (isLoading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("section", {
            className: "bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-2",
                    "aria-label": "Loading system metrics"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    className: "text-gray-500",
                    children: "Loading system metrics..."
                })
            ]
        });
    }
    if (error) {
        (0, _analytics.trackEvent)('error', {
            panel: 'SystemPulse',
            error: String(error)
        });
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("section", {
            className: "bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_EmptyState.default, {
                illustration: "mascot",
                title: "Error Loading Metrics",
                description: "We couldn't load your system metrics. Please try again.",
                action: {
                    label: 'Retry',
                    onClick: handleRefresh
                }
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("section", {
        className: "bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 relative overflow-hidden min-h-[320px]",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between mb-2",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                        className: "flex items-center gap-2 text-sm cursor-pointer",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                type: "checkbox",
                                checked: showUnhealthy,
                                onChange: (e)=>setShowUnhealthy(e.target.checked),
                                className: "accent-blue-500",
                                "aria-label": "Show only unhealthy systems"
                            }),
                            "Show only unhealthy systems"
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            refreshInterval > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-xs text-blue-400",
                                title: "Auto-refresh enabled",
                                children: [
                                    "Auto-refresh: ",
                                    refreshInterval,
                                    "s"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleRefresh,
                                className: "px-3 py-1 rounded bg-blue-500 text-white font-medium hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition",
                                children: "Refresh"
                            })
                        ]
                    })
                ]
            }),
            filteredMetrics.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_EmptyState.default, {
                illustration: "mascot",
                title: "No System Metrics",
                description: "Everything is quiet. Enjoy your coffee â˜•",
                action: {
                    label: 'Refresh',
                    onClick: handleRefresh
                }
            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "flex flex-col gap-4",
                children: filteredMetrics.map((metric)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(MetricItem, {
                        metric: metric
                    }, metric.id))
            })
        ]
    });
};
// Memoized component export with display name
const SystemPulsePanel = /*#__PURE__*/ (0, _react.memo)(SystemPulsePanelComponent, (prevProps, nextProps)=>{
    // Custom comparison function - since this component has no props,
    // it only re-renders when internal state or context changes
    return true; // Always consider props equal since there are no props
});
SystemPulsePanel.displayName = 'SystemPulsePanel';
const _default = SystemPulsePanel;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvU3lzdGVtUHVsc2VQYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBbmltYXRlZElsbHVzdHJhdGlvbiBmcm9tICcuLi91aS9BbmltYXRlZElsbHVzdHJhdGlvbic7XG5pbXBvcnQgU3RhdHVzSW5kaWNhdG9yIGZyb20gJy4uL3VpL1N0YXR1c0luZGljYXRvcic7XG5pbXBvcnQgRW1wdHlTdGF0ZSBmcm9tICcuLi91aS9FbXB0eVN0YXRlJztcbmltcG9ydCB7IHVzZVN5c3RlbU1ldHJpY3MgfSBmcm9tICcuLi8uLi9ob29rcy91c2VTeXN0ZW1NZXRyaWNzJztcbmltcG9ydCB7IHRyYWNrRXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy9hbmFseXRpY3MnO1xuaW1wb3J0IHR5cGUgeyBTdGF0dXNUeXBlIH0gZnJvbSAnLi4vdWkvU3RhdHVzSW5kaWNhdG9yJztcbmltcG9ydCB7IHVzZVNldHRpbmdzIH0gZnJvbSAnLi4vLi4vY29udGV4dHMvU2V0dGluZ3NDb250ZXh0JztcblxuaW50ZXJmYWNlIE1ldHJpYyB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICBkZXRhaWw6IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbmRpdmlkdWFsIG1ldHJpYyBpdGVtIGNvbXBvbmVudCAtIG1lbW9pemVkIGZvciBwZXJmb3JtYW5jZVxuICovXG5jb25zdCBNZXRyaWNJdGVtID0gbWVtbzx7IG1ldHJpYzogTWV0cmljIH0+KCh7IG1ldHJpYyB9KSA9PiAoXG4gIDxkaXYga2V5PXttZXRyaWMuaWR9IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC00IGdyb3VwIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC8yMCB0cmFuc2l0aW9uIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgPEFuaW1hdGVkSWxsdXN0cmF0aW9uXG4gICAgICBuYW1lPXttZXRyaWMuaWQgPT09ICdjaWNkJyA/ICdwaXBlbGluZScgOiBtZXRyaWMuaWQgPT09ICdrOHMnID8gJ2s4cycgOiAnY2xvdWQnfVxuICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiBib3R0b20tMiB3LTIwIGgtMjAgb3BhY2l0eS0xNSBwb2ludGVyLWV2ZW50cy1ub25lIGdyb3VwLWhvdmVyOnNjYWxlLTEwNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDBcIlxuICAgICAgYWx0PXttZXRyaWMudGl0bGV9XG4gICAgLz5cbiAgICA8U3RhdHVzSW5kaWNhdG9yIHN0YXR1cz17bWV0cmljLnN0YXR1cyBhcyBTdGF0dXNUeXBlfSAvPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiei0xMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnttZXRyaWMudGl0bGV9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPnttZXRyaWMudmFsdWV9PC9kaXY+XG4gICAgICB7bWV0cmljLmRldGFpbCAmJiA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTQwMCBtdC0xXCI+e21ldHJpYy5kZXRhaWx9PC9kaXY+fVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbikpO1xuXG5NZXRyaWNJdGVtLmRpc3BsYXlOYW1lID0gJ01ldHJpY0l0ZW0nO1xuXG4vKipcbiAqIExlZnQgcGFuZWwgY29tcG9uZW50IGRpc3BsYXlpbmcgc3lzdGVtIGhlYWx0aCBzaWduYWxzLlxuICogU2hvd3Mga2V5IG1ldHJpY3Mgd2l0aCBjb2xvci1jb2RlZCBzdGF0dXMgaW5kaWNhdG9ycy5cbiAqIE9wdGltaXplZCB3aXRoIFJlYWN0Lm1lbW8gYW5kIHVzZU1lbW8gZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqL1xuY29uc3QgU3lzdGVtUHVsc2VQYW5lbENvbXBvbmVudDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIC8vIGNvbnN0IHsgcmVmcmVzaEludGVydmFsIH0gPSB1c2VDb250ZXh0KFNldHRpbmdzQ29udGV4dCkgfHwgeyByZWZyZXNoSW50ZXJ2YWw6IDAgfTtcbiAgY29uc3QgeyBkYXRhLCBpc0xvYWRpbmcsIGVycm9yLCByZWZldGNoIH0gPSB1c2VTeXN0ZW1NZXRyaWNzKCk7XG4gIGNvbnN0IFtzaG93VW5oZWFsdGh5LCBzZXRTaG93VW5oZWFsdGh5XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyBwYW5lbFZpc2liaWxpdHksIHJlZnJlc2hJbnRlcnZhbCB9ID0gdXNlU2V0dGluZ3MoKTtcblxuICAvLyBIaWRlIHBhbmVsIGlmIG5vdCB2aXNpYmxlXG4gIGlmICghcGFuZWxWaXNpYmlsaXR5LnN5c3RlbVB1bHNlKSByZXR1cm4gbnVsbDtcblxuICAvLyBNZW1vaXplZCBjYWxsYmFjayB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlLXJlbmRlcnNcbiAgY29uc3QgaGFuZGxlUmVmcmVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cmFja0V2ZW50KCdyZWZyZXNoJywgeyBwYW5lbDogJ1N5c3RlbVB1bHNlJyB9KTtcbiAgICBhd2FpdCByZWZldGNoKCk7XG4gIH0sIFtyZWZldGNoXSk7XG5cbiAgLy8gQXV0by1yZWZyZXNoIGxvZ2ljIHdpdGggbWVtb2l6ZWQgZGVwZW5kZW5jaWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlZnJlc2hJbnRlcnZhbCA+IDApIHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cmFja0V2ZW50KCdhdXRvLXJlZnJlc2gnLCB7IHBhbmVsOiAnU3lzdGVtUHVsc2UnIH0pO1xuICAgICAgICByZWZldGNoKCk7XG4gICAgICB9LCByZWZyZXNoSW50ZXJ2YWwgKiAxMDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9XG4gIH0sIFtyZWZyZXNoSW50ZXJ2YWwsIHJlZmV0Y2hdKTtcblxuICAvLyBNZW1vaXplZCBtZXRyaWNzIHBhcnNpbmdcbiAgY29uc3QgbWV0cmljczogTWV0cmljW10gPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbXTtcbiAgfSwgW2RhdGFdKTtcbiAgLy8gTWVtb2l6ZWQgZmlsdGVyZWQgbWV0cmljcyB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IGZpbHRlcmluZ1xuICBjb25zdCBmaWx0ZXJlZE1ldHJpY3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gc2hvd1VuaGVhbHRoeVxuICAgICAgPyBtZXRyaWNzLmZpbHRlcihtID0+IG0uc3RhdHVzICE9PSAnc3VjY2VzcycpXG4gICAgICA6IG1ldHJpY3M7XG4gIH0sIFttZXRyaWNzLCBzaG93VW5oZWFsdGh5XSk7XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJiZy13aGl0ZS84MCBkYXJrOmJnLWdyYXktOTAwLzgwIHJvdW5kZWQteGwgc2hhZG93LWxnIHAtNiBmbGV4IGZsZXgtY29sIGdhcC02IG1pbi1oLVszMjBweF0gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEwIHctMTAgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDAgbWItMlwiIGFyaWEtbGFiZWw9XCJMb2FkaW5nIHN5c3RlbSBtZXRyaWNzXCIgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkxvYWRpbmcgc3lzdGVtIG1ldHJpY3MuLi48L3NwYW4+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIHRyYWNrRXZlbnQoJ2Vycm9yJywgeyBwYW5lbDogJ1N5c3RlbVB1bHNlJywgZXJyb3I6IFN0cmluZyhlcnJvcikgfSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS05MDAvODAgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02IGZsZXggZmxleC1jb2wgZ2FwLTYgbWluLWgtWzMyMHB4XSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPEVtcHR5U3RhdGVcbiAgICAgICAgICBpbGx1c3RyYXRpb249XCJtYXNjb3RcIlxuICAgICAgICAgIHRpdGxlPVwiRXJyb3IgTG9hZGluZyBNZXRyaWNzXCJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIldlIGNvdWxkbid0IGxvYWQgeW91ciBzeXN0ZW0gbWV0cmljcy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIlxuICAgICAgICAgIGFjdGlvbj17eyBsYWJlbDogJ1JldHJ5Jywgb25DbGljazogaGFuZGxlUmVmcmVzaCB9fVxuICAgICAgICAvPlxuICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS05MDAvODAgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02IGZsZXggZmxleC1jb2wgZ2FwLTYgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIG1pbi1oLVszMjBweF1cIj5cbiAgICAgIHsvKiBQYW5lbCBDb250cm9scyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBjaGVja2VkPXtzaG93VW5oZWFsdGh5fVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U2hvd1VuaGVhbHRoeShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjY2VudC1ibHVlLTUwMFwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2hvdyBvbmx5IHVuaGVhbHRoeSBzeXN0ZW1zXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIFNob3cgb25seSB1bmhlYWx0aHkgc3lzdGVtc1xuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAge3JlZnJlc2hJbnRlcnZhbCA+IDAgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNDAwXCIgdGl0bGU9XCJBdXRvLXJlZnJlc2ggZW5hYmxlZFwiPlxuICAgICAgICAgICAgICBBdXRvLXJlZnJlc2g6IHtyZWZyZXNoSW50ZXJ2YWx9c1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVmcmVzaH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSByb3VuZGVkIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gaG92ZXI6YmctYmx1ZS02MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNDAwIHRyYW5zaXRpb25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJlZnJlc2hcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHsvKiBNZXRyaWNzIG9yIEVtcHR5IFN0YXRlICovfVxuICAgICAge2ZpbHRlcmVkTWV0cmljcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgIDxFbXB0eVN0YXRlXG4gICAgICAgICAgaWxsdXN0cmF0aW9uPVwibWFzY290XCJcbiAgICAgICAgICB0aXRsZT1cIk5vIFN5c3RlbSBNZXRyaWNzXCJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIkV2ZXJ5dGhpbmcgaXMgcXVpZXQuIEVuam95IHlvdXIgY29mZmVlIOKYlVwiXG4gICAgICAgICAgYWN0aW9uPXt7IGxhYmVsOiAnUmVmcmVzaCcsIG9uQ2xpY2s6IGhhbmRsZVJlZnJlc2ggfX1cbiAgICAgICAgLz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxuICAgICAgICAgIHtmaWx0ZXJlZE1ldHJpY3MubWFwKG1ldHJpYyA9PiAoXG4gICAgICAgICAgICA8TWV0cmljSXRlbSBrZXk9e21ldHJpYy5pZH0gbWV0cmljPXttZXRyaWN9IC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59O1xuXG4vLyBNZW1vaXplZCBjb21wb25lbnQgZXhwb3J0IHdpdGggZGlzcGxheSBuYW1lXG5jb25zdCBTeXN0ZW1QdWxzZVBhbmVsID0gbWVtbyhTeXN0ZW1QdWxzZVBhbmVsQ29tcG9uZW50LCAocHJldlByb3BzLCBuZXh0UHJvcHMpID0+IHtcbiAgLy8gQ3VzdG9tIGNvbXBhcmlzb24gZnVuY3Rpb24gLSBzaW5jZSB0aGlzIGNvbXBvbmVudCBoYXMgbm8gcHJvcHMsXG4gIC8vIGl0IG9ubHkgcmUtcmVuZGVycyB3aGVuIGludGVybmFsIHN0YXRlIG9yIGNvbnRleHQgY2hhbmdlc1xuICByZXR1cm4gdHJ1ZTsgLy8gQWx3YXlzIGNvbnNpZGVyIHByb3BzIGVxdWFsIHNpbmNlIHRoZXJlIGFyZSBubyBwcm9wc1xufSk7XG5cblN5c3RlbVB1bHNlUGFuZWwuZGlzcGxheU5hbWUgPSAnU3lzdGVtUHVsc2VQYW5lbCc7XG5cbmV4cG9ydCBkZWZhdWx0IFN5c3RlbVB1bHNlUGFuZWw7ICJdLCJuYW1lcyI6WyJNZXRyaWNJdGVtIiwibWVtbyIsIm1ldHJpYyIsImRpdiIsImNsYXNzTmFtZSIsIkFuaW1hdGVkSWxsdXN0cmF0aW9uIiwibmFtZSIsImlkIiwiYWx0IiwidGl0bGUiLCJTdGF0dXNJbmRpY2F0b3IiLCJzdGF0dXMiLCJ2YWx1ZSIsImRldGFpbCIsImRpc3BsYXlOYW1lIiwiU3lzdGVtUHVsc2VQYW5lbENvbXBvbmVudCIsImRhdGEiLCJpc0xvYWRpbmciLCJlcnJvciIsInJlZmV0Y2giLCJ1c2VTeXN0ZW1NZXRyaWNzIiwic2hvd1VuaGVhbHRoeSIsInNldFNob3dVbmhlYWx0aHkiLCJSZWFjdCIsInVzZVN0YXRlIiwicGFuZWxWaXNpYmlsaXR5IiwicmVmcmVzaEludGVydmFsIiwidXNlU2V0dGluZ3MiLCJzeXN0ZW1QdWxzZSIsImhhbmRsZVJlZnJlc2giLCJ1c2VDYWxsYmFjayIsInRyYWNrRXZlbnQiLCJwYW5lbCIsInVzZUVmZmVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibWV0cmljcyIsInVzZU1lbW8iLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXJlZE1ldHJpY3MiLCJmaWx0ZXIiLCJtIiwic2VjdGlvbiIsImFyaWEtbGFiZWwiLCJzcGFuIiwiU3RyaW5nIiwiRW1wdHlTdGF0ZSIsImlsbHVzdHJhdGlvbiIsImRlc2NyaXB0aW9uIiwiYWN0aW9uIiwibGFiZWwiLCJvbkNsaWNrIiwiaW5wdXQiLCJ0eXBlIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImJ1dHRvbiIsImxlbmd0aCIsIm1hcCIsIlN5c3RlbVB1bHNlUGFuZWwiLCJw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