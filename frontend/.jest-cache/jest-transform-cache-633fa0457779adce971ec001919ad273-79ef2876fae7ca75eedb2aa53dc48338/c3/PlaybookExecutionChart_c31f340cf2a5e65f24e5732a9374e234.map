{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/charts/PlaybookExecutionChart.tsx"],"sourcesContent":["/**\n * Playbook Execution Chart Component\n * \n * Comprehensive visualization of Ansible playbook execution data.\n * Features:\n * - Timeline chart showing execution trends\n * - Success/failure rate visualization\n * - Duration analysis with bar charts\n * - Interactive filtering and grouping\n * - Real-time updates and responsive design\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { AutomationRun, AutomationTrend, AutomationStatus, PlaybookMetrics } from '../../types/automation';\nimport { formatDuration, formatRelativeTime } from '../../utils/time';\nimport { useResponsive } from '../../hooks/useResponsive';\n\ninterface PlaybookExecutionChartProps {\n  /** Array of automation runs */\n  automationRuns: AutomationRun[];\n  /** Trend data for timeline visualization */\n  trends?: AutomationTrend[];\n  /** Playbook metrics for analysis */\n  playbookMetrics?: PlaybookMetrics[];\n  /** Chart type selection */\n  chartType?: 'timeline' | 'success-rate' | 'duration' | 'recent';\n  /** Time range filter */\n  timeRange?: 'day' | 'week' | 'month' | 'quarter';\n  /** Playbook filter */\n  selectedPlaybook?: string;\n  /** Status filter */\n  statusFilter?: AutomationStatus[];\n  /** Custom className for styling */\n  className?: string;\n  /** Callback when a run is clicked */\n  onRunClick?: (run: AutomationRun) => void;\n  /** Callback when chart type changes */\n  onChartTypeChange?: (type: string) => void;\n  /** Callback when filters change */\n  onFiltersChange?: (filters: any) => void;\n}\n\n/**\n * Get status color for automation runs\n */\nconst getStatusColor = (status: AutomationStatus): {\n  color: string;\n  bgColor: string;\n  borderColor: string;\n} => {\n  switch (status) {\n    case 'success':\n      return {\n        color: '#10B981',\n        bgColor: '#D1FAE5',\n        borderColor: '#6EE7B7'\n      };\n    case 'failed':\n      return {\n        color: '#EF4444',\n        bgColor: '#FEE2E2',\n        borderColor: '#FCA5A5'\n      };\n    case 'running':\n      return {\n        color: '#3B82F6',\n        bgColor: '#DBEAFE',\n        borderColor: '#93C5FD'\n      };\n    case 'pending':\n      return {\n        color: '#F59E0B',\n        bgColor: '#FEF3C7',\n        borderColor: '#FCD34D'\n      };\n    case 'partial_success':\n      return {\n        color: '#F59E0B',\n        bgColor: '#FEF3C7',\n        borderColor: '#FCD34D'\n      };\n    case 'cancelled':\n    case 'skipped':\n    default:\n      return {\n        color: '#6B7280',\n        bgColor: '#F9FAFB',\n        borderColor: '#E5E7EB'\n      };\n  }\n};\n\n/**\n * Timeline Chart Component\n */\nconst TimelineChart: React.FC<{\n  trends: AutomationTrend[];\n  runs: AutomationRun[];\n  onRunClick?: (run: AutomationRun) => void;\n}> = ({ trends, runs, onRunClick }) => {\n  const maxValue = Math.max(...trends.map(t => t.total_runs));\n  const maxSuccessRate = 100;\n\n  return (\n    <div className=\"space-y-4\">\n      <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n        Execution Timeline\n      </h4>\n      \n      {/* Chart area */}\n      <div className=\"relative h-64\">\n        <svg className=\"w-full h-full\" viewBox=\"0 0 800 200\">\n          {/* Grid lines */}\n          {[0, 25, 50, 75, 100].map((value) => (\n            <g key={value}>\n              <line\n                x1=\"60\"\n                y1={40 + (value / 100) * 120}\n                x2=\"780\"\n                y2={40 + (value / 100) * 120}\n                stroke=\"#E5E7EB\"\n                strokeWidth=\"1\"\n                strokeDasharray=\"2,2\"\n              />\n              <text\n                x=\"50\"\n                y={45 + (value / 100) * 120}\n                fontSize=\"10\"\n                fill=\"#6B7280\"\n                textAnchor=\"end\"\n              >\n                {100 - value}%\n              </text>\n            </g>\n          ))}\n\n          {/* Success rate line */}\n          <polyline\n            points={trends.map((trend, index) => \n              `${80 + (index * 650 / (trends.length - 1))},${40 + (100 - trend.success_rate) * 1.2}`\n            ).join(' ')}\n            fill=\"none\"\n            stroke=\"#10B981\"\n            strokeWidth=\"2\"\n          />\n\n          {/* Data points */}\n          {trends.map((trend, index) => (\n            <g key={trend.date}>\n              <circle\n                cx={80 + (index * 650 / (trends.length - 1))}\n                cy={40 + (100 - trend.success_rate) * 1.2}\n                r=\"4\"\n                fill=\"#10B981\"\n                className=\"hover:r-6 cursor-pointer transition-all\"\n              />\n              \n              {/* Bars for total runs */}\n              <rect\n                x={75 + (index * 650 / (trends.length - 1))}\n                y={180 - (trend.total_runs / maxValue) * 20}\n                width=\"10\"\n                height={(trend.total_runs / maxValue) * 20}\n                fill=\"#3B82F6\"\n                opacity=\"0.6\"\n                className=\"hover:opacity-100 cursor-pointer transition-all\"\n              />\n              \n              {/* Date labels */}\n              <text\n                x={80 + (index * 650 / (trends.length - 1))}\n                y=\"195\"\n                fontSize=\"10\"\n                fill=\"#6B7280\"\n                textAnchor=\"middle\"\n              >\n                {trend.date_label}\n              </text>\n            </g>\n          ))}\n        </svg>\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex items-center space-x-6 text-xs\">\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-3 h-1 bg-green-500 rounded\" />\n          <span className=\"text-gray-600 dark:text-gray-400\">Success Rate</span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-3 h-3 bg-blue-500 opacity-60 rounded\" />\n          <span className=\"text-gray-600 dark:text-gray-400\">Total Runs</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Success Rate Chart Component\n */\nconst SuccessRateChart: React.FC<{\n  playbookMetrics: PlaybookMetrics[];\n}> = ({ playbookMetrics }) => {\n  const sortedMetrics = [...playbookMetrics]\n    .sort((a, b) => b.success_rate - a.success_rate)\n    .slice(0, 10); // Top 10 playbooks\n\n  return (\n    <div className=\"space-y-4\">\n      <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n        Playbook Success Rates\n      </h4>\n      \n      <div className=\"space-y-3\">\n        {sortedMetrics.map((metric, index) => (\n          <div key={metric.name} className=\"flex items-center space-x-3\">\n            <div className=\"w-32 text-xs text-gray-600 dark:text-gray-400 truncate\">\n              {metric.name}\n            </div>\n            \n            <div className=\"flex-1 relative\">\n              <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all duration-500\"\n                  style={{ width: `${metric.success_rate}%` }}\n                />\n              </div>\n              <div className=\"absolute inset-0 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300\">\n                {metric.success_rate.toFixed(1)}%\n              </div>\n            </div>\n            \n            <div className=\"w-16 text-xs text-gray-500 dark:text-gray-400 text-right\">\n              {metric.total_runs} runs\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n/**\n * Duration Analysis Component\n */\nconst DurationChart: React.FC<{\n  playbookMetrics: PlaybookMetrics[];\n}> = ({ playbookMetrics }) => {\n  const validMetrics = playbookMetrics.filter(m => m.average_duration);\n  const maxDuration = Math.max(...validMetrics.map(m => m.average_duration || 0));\n\n  return (\n    <div className=\"space-y-4\">\n      <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n        Average Execution Duration\n      </h4>\n      \n      <div className=\"space-y-3\">\n        {validMetrics.slice(0, 10).map((metric) => (\n          <div key={metric.name} className=\"flex items-center space-x-3\">\n            <div className=\"w-32 text-xs text-gray-600 dark:text-gray-400 truncate\">\n              {metric.name}\n            </div>\n            \n            <div className=\"flex-1 relative\">\n              <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500\"\n                  style={{ width: `${((metric.average_duration || 0) / maxDuration) * 100}%` }}\n                />\n              </div>\n              <div className=\"absolute inset-0 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300\">\n                {formatDuration((metric.average_duration || 0) * 1000)}\n              </div>\n            </div>\n            \n            <div className=\"w-16 text-xs text-gray-500 dark:text-gray-400 text-right\">\n              {metric.total_runs} runs\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n/**\n * Recent Runs List Component\n */\nconst RecentRunsList: React.FC<{\n  runs: AutomationRun[];\n  onRunClick?: (run: AutomationRun) => void;\n}> = ({ runs, onRunClick }) => {\n  const recentRuns = runs\n    .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n    .slice(0, 8);\n\n  return (\n    <div className=\"space-y-4\">\n      <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n        Recent Executions\n      </h4>\n      \n      <div className=\"space-y-2\">\n        {recentRuns.map((run) => {\n          const statusColors = getStatusColor(run.status);\n          \n          return (\n            <div\n              key={run.id}\n              className=\"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer transition-colors\"\n              onClick={() => onRunClick?.(run)}\n            >\n              <div\n                className=\"w-3 h-3 rounded-full\"\n                style={{ backgroundColor: statusColors.color }}\n              />\n              \n              <div className=\"flex-1 min-w-0\">\n                <div className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n                  {run.playbook_name || run.name}\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  {formatRelativeTime(run.created_at)} â€¢ {run.total_hosts} hosts\n                </div>\n              </div>\n              \n              <div className=\"text-right\">\n                <div className=\"text-sm font-medium\" style={{ color: statusColors.color }}>\n                  {run.status}\n                </div>\n                {run.duration_seconds && (\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {formatDuration(run.duration_seconds * 1000)}\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n/**\n * PlaybookExecutionChart Component\n */\nexport const PlaybookExecutionChart: React.FC<PlaybookExecutionChartProps> = ({\n  automationRuns,\n  trends = [],\n  playbookMetrics = [],\n  chartType = 'timeline',\n  timeRange = 'week',\n  selectedPlaybook,\n  statusFilter,\n  className = '',\n  onRunClick,\n  onChartTypeChange,\n  onFiltersChange\n}) => {\n  const { isMobile } = useResponsive();\n  const [activeTab, setActiveTab] = useState<'timeline' | 'success-rate' | 'duration' | 'recent'>(chartType);\n\n  // Filter runs based on current filters\n  const filteredRuns = useMemo(() => {\n    let filtered = [...automationRuns];\n\n    if (selectedPlaybook) {\n      filtered = filtered.filter(run => \n        run.playbook_name === selectedPlaybook || run.name === selectedPlaybook\n      );\n    }\n\n    if (statusFilter && statusFilter.length > 0) {\n      filtered = filtered.filter(run => statusFilter.includes(run.status));\n    }\n\n    return filtered;\n  }, [automationRuns, selectedPlaybook, statusFilter]);\n\n  // Get unique playbooks for filter\n  const playbooks = useMemo(() => {\n    const playbookSet = new Set<string>();\n    automationRuns.forEach(run => {\n      if (run.playbook_name) playbookSet.add(run.playbook_name);\n      if (run.name && !run.playbook_name) playbookSet.add(run.name);\n    });\n    return Array.from(playbookSet).sort();\n  }, [automationRuns]);\n\n  const chartTabs = [\n    { id: 'timeline', label: 'Timeline', icon: 'ðŸ“ˆ' },\n    { id: 'success-rate', label: 'Success Rate', icon: 'âœ…' },\n    { id: 'duration', label: 'Duration', icon: 'â±ï¸' },\n    { id: 'recent', label: 'Recent Runs', icon: 'ðŸ•’' }\n  ];\n\n  const renderChart = () => {\n    switch (activeTab) {\n      case 'timeline':\n        return <TimelineChart trends={trends} runs={filteredRuns} onRunClick={onRunClick} />;\n      case 'success-rate':\n        return <SuccessRateChart playbookMetrics={playbookMetrics} />;\n      case 'duration':\n        return <DurationChart playbookMetrics={playbookMetrics} />;\n      case 'recent':\n        return <RecentRunsList runs={filteredRuns} onRunClick={onRunClick} />;\n      default:\n        return <TimelineChart trends={trends} runs={filteredRuns} onRunClick={onRunClick} />;\n    }\n  };\n\n  return (\n    <div className={`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Playbook Execution Analysis\n          </h3>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n            {filteredRuns.length} executions â€¢ {trends.length > 0 ? `${trends[trends.length - 1]?.success_rate.toFixed(1)}%` : 'N/A'} avg success rate\n          </p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex flex-col sm:flex-row gap-3 mt-4 lg:mt-0\">\n          {/* Playbook filter */}\n          <select\n            value={selectedPlaybook || ''}\n            onChange={(e) => onFiltersChange?.({ playbook: e.target.value || undefined })}\n            className=\"px-3 py-1 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"\">All Playbooks</option>\n            {playbooks.map((playbook) => (\n              <option key={playbook} value={playbook}>\n                {playbook}\n              </option>\n            ))}\n          </select>\n\n          {/* Time range filter */}\n          <select\n            value={timeRange}\n            onChange={(e) => onFiltersChange?.({ timeRange: e.target.value })}\n            className=\"px-3 py-1 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"day\">Last 24 Hours</option>\n            <option value=\"week\">Last Week</option>\n            <option value=\"month\">Last Month</option>\n            <option value=\"quarter\">Last Quarter</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-700 rounded-lg p-1\">\n        {chartTabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => {\n              setActiveTab(tab.id as 'timeline' | 'success-rate' | 'duration' | 'recent');\n              onChartTypeChange?.(tab.id);\n            }}\n            className={`\n              flex-1 flex items-center justify-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors\n              ${activeTab === tab.id\n                ? 'bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm'\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\n              }\n            `}\n          >\n            {!isMobile && <span>{tab.icon}</span>}\n            <span>{isMobile ? tab.icon : tab.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Chart Content */}\n      <div className=\"min-h-64\">\n        {renderChart()}\n      </div>\n\n      {/* Summary Stats */}\n      <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4 mt-6\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\n          <div>\n            <div className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              {filteredRuns.length}\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Total Runs</div>\n          </div>\n          <div>\n            <div className=\"text-lg font-semibold text-green-600 dark:text-green-400\">\n              {filteredRuns.filter(r => r.status === 'success').length}\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Successful</div>\n          </div>\n          <div>\n            <div className=\"text-lg font-semibold text-red-600 dark:text-red-400\">\n              {filteredRuns.filter(r => r.status === 'failed').length}\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Failed</div>\n          </div>\n          <div>\n            <div className=\"text-lg font-semibold text-blue-600 dark:text-blue-400\">\n              {filteredRuns.filter(r => r.status === 'running').length}\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Running</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; "],"names":["PlaybookExecutionChart","getStatusColor","status","color","bgColor","borderColor","TimelineChart","trends","runs","onRunClick","maxValue","Math","max","map","t","total_runs","maxSuccessRate","div","className","h4","svg","viewBox","value","g","line","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","text","x","y","fontSize","fill","textAnchor","polyline","points","trend","index","length","success_rate","join","circle","cx","cy","r","rect","width","height","opacity","date_label","date","span","SuccessRateChart","playbookMetrics","sortedMetrics","sort","a","b","slice","metric","name","style","toFixed","DurationChart","validMetrics","filter","m","average_duration","maxDuration","formatDuration","RecentRunsList","recentRuns","Date","created_at","getTime","run","statusColors","onClick","backgroundColor","playbook_name","formatRelativeTime","total_hosts","duration_seconds","id","automationRuns","chartType","timeRange","selectedPlaybook","statusFilter","onChartTypeChange","onFiltersChange","isMobile","useResponsive","activeTab","setActiveTab","useState","filteredRuns","useMemo","filtered","includes","playbooks","playbookSet","Set","forEach","add","Array","from","chartTabs","label","icon","renderChart","h3","p","select","onChange","e","playbook","target","undefined","option","tab","button"],"mappings":"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"}