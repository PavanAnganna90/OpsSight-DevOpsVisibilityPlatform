{"version":3,"names":["GitHubRepoModal","isOpen","onClose","onSelect","selectedRepos","cov_2jrrl9z7ug","f","searchQuery","setSearchQuery","s","_react","useState","repositories","setRepositories","loading","setLoading","error","setError","selected","setSelected","Set","useEffect","b","loadRepositories","response","_api","api","get","data","Error","message","filteredRepositories","filter","repo","full_name","toLowerCase","includes","description","toggleRepository","fullName","newSelected","has","delete","add","handleSave","Array","from","_jsxruntime","jsxs","_Modal","Modal","title","maxWidth","jsx","className","_outline","MagnifyingGlassIcon","type","placeholder","value","onChange","e","target","map","i","onClick","checked","Date","updated_at","toLocaleDateString","private","id"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/settings/GitHubRepoModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { MagnifyingGlassIcon } from '@heroicons/react/24/outline';\nimport { Modal } from '@/components/common/Modal';\nimport { api } from '@/utils/api';\n\ninterface Repository {\n  id: number;\n  name: string;\n  full_name: string;\n  description: string | null;\n  private: boolean;\n  html_url: string;\n  updated_at: string;\n}\n\ninterface GitHubRepoModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSelect: (repos: string[]) => void;\n  selectedRepos: string[];\n}\n\n/**\n * Modal component for selecting GitHub repositories\n */\nexport function GitHubRepoModal({ isOpen, onClose, onSelect, selectedRepos }: GitHubRepoModalProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [repositories, setRepositories] = useState<Repository[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selected, setSelected] = useState<Set<string>>(new Set(selectedRepos));\n\n  // Load repositories when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      loadRepositories();\n    }\n  }, [isOpen]);\n\n  // Load repositories from GitHub\n  const loadRepositories = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.get<Repository[]>('/github/repositories');\n      setRepositories(response.data);\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'Failed to load repositories');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter repositories based on search query\n  const filteredRepositories = repositories.filter(repo =>\n    repo.full_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    (repo.description?.toLowerCase() || '').includes(searchQuery.toLowerCase())\n  );\n\n  // Toggle repository selection\n  const toggleRepository = (fullName: string) => {\n    const newSelected = new Set(selected);\n    if (newSelected.has(fullName)) {\n      newSelected.delete(fullName);\n    } else {\n      newSelected.add(fullName);\n    }\n    setSelected(newSelected);\n  };\n\n  // Handle save\n  const handleSave = () => {\n    onSelect(Array.from(selected));\n    onClose();\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Select GitHub Repositories\" maxWidth=\"xl\">\n      {/* Search input */}\n      <div className=\"mb-4\">\n        <div className=\"relative\">\n          <div className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\">\n            <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n          </div>\n          <input\n            type=\"text\"\n            className=\"block w-full rounded-md border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            placeholder=\"Search repositories...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Error message */}\n      {error && (\n        <div className=\"mb-4 rounded-md bg-red-50 p-4\">\n          <div className=\"flex\">\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\n              <div className=\"mt-2 text-sm text-red-700\">{error}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Repository list */}\n      <div className=\"max-h-96 overflow-y-auto\">\n        {loading ? (\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"animate-pulse\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                <div className=\"mt-2 h-3 bg-gray-200 rounded w-1/2\"></div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredRepositories.map((repo) => (\n              <div\n                key={repo.id}\n                className=\"flex items-center py-4 hover:bg-gray-50 cursor-pointer\"\n                onClick={() => toggleRepository(repo.full_name)}\n              >\n                <input\n                  type=\"checkbox\"\n                  className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                  checked={selected.has(repo.full_name)}\n                  onChange={() => toggleRepository(repo.full_name)}\n                />\n                <div className=\"ml-3 flex-1\">\n                  <p className=\"text-sm font-medium text-gray-900\">{repo.full_name}</p>\n                  {repo.description && (\n                    <p className=\"text-sm text-gray-500 line-clamp-2\">{repo.description}</p>\n                  )}\n                  <p className=\"text-xs text-gray-400 mt-1\">\n                    Last updated: {new Date(repo.updated_at).toLocaleDateString()}\n                  </p>\n                </div>\n                {repo.private && (\n                  <span className=\"ml-2 inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800\">\n                    Private\n                  </span>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Actions */}\n      <div className=\"mt-6 flex items-center justify-end space-x-3\">\n        <button\n          type=\"button\"\n          className=\"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50\"\n          onClick={onClose}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n          onClick={handleSave}\n        >\n          Save Changes\n        </button>\n      </div>\n    </Modal>\n  );\n} "],"mappings":"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","ignoreList":[]}