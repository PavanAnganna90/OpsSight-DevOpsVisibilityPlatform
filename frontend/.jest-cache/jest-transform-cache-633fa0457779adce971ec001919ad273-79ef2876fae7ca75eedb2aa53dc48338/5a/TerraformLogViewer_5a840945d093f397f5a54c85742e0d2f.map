{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/infrastructure/TerraformLogViewer.tsx"],"sourcesContent":["/**\n * Terraform Log Viewer Component\n * \n * Interactive component for displaying parsed Terraform logs with risk assessment,\n * filtering capabilities, and expandable modules. Integrates with the existing theme system.\n */\n\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { \n  StatusIndicator, \n  MetricCard, \n  MetricCardGrid, \n  LoadingSkeleton, \n  Button,\n  type StatusType \n} from '../ui';\nimport { \n  TerraformLogViewerProps, \n  ResourceChange, \n  RiskLevel, \n  ActionType,\n  TerraformViewerFilters,\n  TerraformModule,\n  TerraformSummaryStats\n} from '../../types/terraform';\n\n// Risk level to status mapping for consistent theming\nconst getRiskStatus = (riskLevel: RiskLevel): StatusType => {\n  switch (riskLevel) {\n    case 'CRITICAL': return 'error';\n    case 'HIGH': return 'error';\n    case 'MEDIUM': return 'warning';\n    case 'LOW': return 'success';\n    default: return 'neutral';\n  }\n};\n\n// Action type styling\nconst getActionStyle = (action: ActionType): string => {\n  switch (action) {\n    case 'create': return 'text-green-600 bg-green-50 border-green-200';\n    case 'update': return 'text-blue-600 bg-blue-50 border-blue-200';\n    case 'delete': return 'text-red-600 bg-red-50 border-red-200';\n    case 'replace': return 'text-orange-600 bg-orange-50 border-orange-200';\n    case 'no-op': return 'text-gray-600 bg-gray-50 border-gray-200';\n    default: return 'text-gray-600 bg-gray-50 border-gray-200';\n  }\n};\n\n// Action icons\nconst getActionIcon = (action: ActionType): string => {\n  switch (action) {\n    case 'create': return '+';\n    case 'update': return '~';\n    case 'delete': return '-';\n    case 'replace': return 'â†»';\n    case 'no-op': return 'â—‹';\n    default: return '?';\n  }\n};\n\n// Filter Controls Component\ninterface FilterControlsProps {\n  filters: TerraformViewerFilters;\n  availableResourceTypes: string[];\n  availableEnvironments: string[];\n  onFiltersChange: (filters: TerraformViewerFilters) => void;\n}\n\nconst FilterControls: React.FC<FilterControlsProps> = ({\n  filters,\n  availableResourceTypes,\n  availableEnvironments,\n  onFiltersChange\n}) => {\n  const handleFilterChange = (key: keyof TerraformViewerFilters, value: any) => {\n    onFiltersChange({ ...filters, [key]: value });\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 mb-6\">\n      <h3 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3\">\n        Filter Resources\n      </h3>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {/* Risk Level Filter */}\n        <div>\n          <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Risk Level\n          </label>\n          <select\n            value={filters.riskLevel || 'all'}\n            onChange={(e) => handleFilterChange('riskLevel', e.target.value === 'all' ? undefined : e.target.value)}\n            className=\"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n          >\n            <option value=\"all\">All Risk Levels</option>\n            <option value=\"LOW\">Low Risk</option>\n            <option value=\"MEDIUM\">Medium Risk</option>\n            <option value=\"HIGH\">High Risk</option>\n            <option value=\"CRITICAL\">Critical Risk</option>\n          </select>\n        </div>\n\n        {/* Resource Type Filter */}\n        <div>\n          <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Resource Type\n          </label>\n          <select\n            value={filters.resourceType || 'all'}\n            onChange={(e) => handleFilterChange('resourceType', e.target.value === 'all' ? undefined : e.target.value)}\n            className=\"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n          >\n            <option value=\"all\">All Resource Types</option>\n            {availableResourceTypes.map(type => (\n              <option key={type} value={type}>{type}</option>\n            ))}\n          </select>\n        </div>\n\n        {/* Action Filter */}\n        <div>\n          <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Action\n          </label>\n          <select\n            value={filters.action || 'all'}\n            onChange={(e) => handleFilterChange('action', e.target.value === 'all' ? undefined : e.target.value)}\n            className=\"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n          >\n            <option value=\"all\">All Actions</option>\n            <option value=\"create\">Create</option>\n            <option value=\"update\">Update</option>\n            <option value=\"delete\">Delete</option>\n            <option value=\"replace\">Replace</option>\n            <option value=\"no-op\">No Operation</option>\n          </select>\n        </div>\n\n        {/* Environment Filter */}\n        <div>\n          <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            Environment\n          </label>\n          <select\n            value={filters.environment || 'all'}\n            onChange={(e) => handleFilterChange('environment', e.target.value === 'all' ? undefined : e.target.value)}\n            className=\"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n          >\n            <option value=\"all\">All Environments</option>\n            {availableEnvironments.map(env => (\n              <option key={env} value={env}>{env}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Sensitive Data Toggle */}\n      <div className=\"mt-4 flex items-center\">\n        <input\n          type=\"checkbox\"\n          id=\"showSensitiveData\"\n          checked={filters.showSensitiveData || false}\n          onChange={(e) => handleFilterChange('showSensitiveData', e.target.checked)}\n          className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n        />\n        <label htmlFor=\"showSensitiveData\" className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">\n          Show sensitive data\n        </label>\n      </div>\n    </div>\n  );\n};\n\n// Resource Change Component\ninterface ResourceChangeItemProps {\n  resource: ResourceChange;\n  showSensitiveData: boolean;\n  onResourceSelect?: (resource: ResourceChange) => void;\n}\n\nconst ResourceChangeItem: React.FC<ResourceChangeItemProps> = ({\n  resource,\n  showSensitiveData,\n  onResourceSelect\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  \n  const hasSensitiveData = resource.sensitive_attributes && resource.sensitive_attributes.length > 0;\n  const shouldHideSensitive = hasSensitiveData && !showSensitiveData;\n\n  const formatValue = (value: any): string => {\n    if (value === null || value === undefined) return 'null';\n    if (typeof value === 'object') return JSON.stringify(value, null, 2);\n    return String(value);\n  };\n\n  const maskedValue = (value: any): string => {\n    return shouldHideSensitive ? '********' : formatValue(value);\n  };\n\n  return (\n    <div className=\"border border-gray-200 dark:border-gray-700 rounded-lg mb-4 overflow-hidden\">\n      {/* Header */}\n      <div \n        className=\"bg-gray-50 dark:bg-gray-800 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n        onClick={() => setExpanded(!expanded)}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            {/* Action Icon */}\n            <span className={`inline-flex items-center justify-center w-6 h-6 rounded text-xs font-mono font-bold border ${getActionStyle(resource.action)}`}>\n              {getActionIcon(resource.action)}\n            </span>\n            \n            {/* Resource Info */}\n            <div>\n              <div className=\"font-medium text-gray-900 dark:text-gray-100\">\n                {resource.address}\n              </div>\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {resource.resource_type} â€¢ {resource.action}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-3\">\n            {/* Risk Level */}\n            <StatusIndicator \n              status={getRiskStatus(resource.risk_level)}\n              size=\"sm\"\n              label={resource.risk_level}\n            />\n            \n            {/* Sensitive Data Warning */}\n            {hasSensitiveData && (\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\">\n                ðŸ”’ Sensitive\n              </span>\n            )}\n\n            {/* Expand Arrow */}\n            <svg \n              className={`w-5 h-5 text-gray-400 transition-transform ${expanded ? 'rotate-180' : ''}`}\n              fill=\"none\" \n              stroke=\"currentColor\" \n              viewBox=\"0 0 24 24\"\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n            </svg>\n          </div>\n        </div>\n      </div>\n\n      {/* Expanded Content */}\n      {expanded && (\n        <div className=\"p-4 bg-white dark:bg-gray-900\">\n          {/* Change Summary */}\n          {resource.change_summary && (\n            <div className=\"mb-4\">\n              <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\">Summary</h4>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">{resource.change_summary}</p>\n            </div>\n          )}\n\n          {/* Before/After Changes */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n            {/* Before */}\n            {resource.before && (\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center\">\n                  <span className=\"w-2 h-2 bg-red-400 rounded-full mr-2\"></span>\n                  Before\n                </h4>\n                <pre className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded border overflow-x-auto\">\n                  {maskedValue(resource.before)}\n                </pre>\n              </div>\n            )}\n\n            {/* After */}\n            {resource.after && (\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2 flex items-center\">\n                  <span className=\"w-2 h-2 bg-green-400 rounded-full mr-2\"></span>\n                  After\n                </h4>\n                <pre className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded border overflow-x-auto\">\n                  {maskedValue(resource.after)}\n                </pre>\n              </div>\n            )}\n          </div>\n\n          {/* Additional Info */}\n          <div className=\"mt-4 grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm\">\n            {resource.requires_replacement && (\n              <div className=\"flex items-center text-orange-600 dark:text-orange-400\">\n                <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n                Requires Replacement\n              </div>\n            )}\n            \n            {resource.provider_name && (\n              <div className=\"text-gray-600 dark:text-gray-400\">\n                Provider: {resource.provider_name}\n              </div>\n            )}\n          </div>\n\n          {/* Action Button */}\n          <div className=\"mt-4 flex justify-end\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onResourceSelect?.(resource)}\n            >\n              View Details\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Summary Stats Component\ninterface SummaryStatsProps {\n  stats: TerraformSummaryStats;\n  loading?: boolean;\n}\n\nconst SummaryStats: React.FC<SummaryStatsProps> = ({ stats, loading }) => {\n  if (loading) {\n    return (\n      <MetricCardGrid>\n        <LoadingSkeleton variant=\"card\" />\n        <LoadingSkeleton variant=\"card\" />\n        <LoadingSkeleton variant=\"card\" />\n        <LoadingSkeleton variant=\"card\" />\n      </MetricCardGrid>\n    );\n  }\n\n  return (\n    <MetricCardGrid>\n      <MetricCard\n        title=\"Total Changes\"\n        value={stats.total_changes.toString()}\n        size=\"sm\"\n      />\n      \n      <MetricCard\n        title=\"High Risk Changes\"\n        value={(stats.changes_by_risk.HIGH + stats.changes_by_risk.CRITICAL).toString()}\n        size=\"sm\"\n      />\n      \n      <MetricCard\n        title=\"Requires Approval\"\n        value={stats.requires_approval ? \"Yes\" : \"No\"}\n        size=\"sm\"\n      />\n      \n      {stats.cost_impact && (\n        <MetricCard\n          title=\"Cost Impact\"\n          value={`${stats.cost_impact.estimated_change >= 0 ? '+' : ''}$${stats.cost_impact.estimated_change}`}\n          size=\"sm\"\n        />\n      )}\n    </MetricCardGrid>\n  );\n};\n\n// Main Component\nexport const TerraformLogViewer: React.FC<TerraformLogViewerProps> = ({\n  logData,\n  infrastructureChange,\n  loading = false,\n  error,\n  className = '',\n  filters = {},\n  config = {},\n  onFiltersChange,\n  onResourceSelect,\n  onRefresh\n}) => {\n  const [currentFilters, setCurrentFilters] = useState<TerraformViewerFilters>(filters);\n\n  // Compute filtered resources and summary stats\n  const { filteredResources, summaryStats, availableTypes, availableEnvironments } = useMemo(() => {\n    if (!logData?.resource_changes) {\n      return {\n        filteredResources: [],\n        summaryStats: {\n          total_changes: 0,\n          changes_by_risk: { LOW: 0, MEDIUM: 0, HIGH: 0, CRITICAL: 0 },\n          changes_by_action: { create: 0, update: 0, delete: 0, replace: 0, 'no-op': 0 },\n          resources_by_type: {},\n          environments: [],\n          requires_approval: false\n        } as TerraformSummaryStats,\n        availableTypes: [],\n        availableEnvironments: []\n      };\n    }\n\n    const resources = logData.resource_changes;\n    \n    // Apply filters\n    const filtered = resources.filter(resource => {\n      if (currentFilters.riskLevel && resource.risk_level !== currentFilters.riskLevel) return false;\n      if (currentFilters.resourceType && resource.resource_type !== currentFilters.resourceType) return false;\n      if (currentFilters.action && resource.action !== currentFilters.action) return false;\n      return true;\n    });\n\n    // Compute stats\n    const stats: TerraformSummaryStats = {\n      total_changes: filtered.length,\n      changes_by_risk: { LOW: 0, MEDIUM: 0, HIGH: 0, CRITICAL: 0 },\n      changes_by_action: { create: 0, update: 0, delete: 0, replace: 0, 'no-op': 0 },\n      resources_by_type: {},\n      environments: infrastructureChange ? [infrastructureChange.target_environment] : [],\n      requires_approval: logData.risk_assessment.requires_approval\n    };\n\n    filtered.forEach(resource => {\n      stats.changes_by_risk[resource.risk_level]++;\n      stats.changes_by_action[resource.action]++;\n      stats.resources_by_type[resource.resource_type] = (stats.resources_by_type[resource.resource_type] || 0) + 1;\n    });\n\n    return {\n      filteredResources: filtered,\n      summaryStats: stats,\n      availableTypes: [...new Set(resources.map(r => r.resource_type))],\n      availableEnvironments: infrastructureChange ? [infrastructureChange.target_environment] : []\n    };\n  }, [logData, currentFilters, infrastructureChange]);\n\n  const handleFiltersChange = useCallback((newFilters: TerraformViewerFilters) => {\n    setCurrentFilters(newFilters);\n    onFiltersChange?.(newFilters);\n  }, [onFiltersChange]);\n\n  // Error state\n  if (error) {\n    return (\n      <div className={`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 ${className}`}>\n        <div className=\"flex items-center\">\n          <svg className=\"w-5 h-5 text-red-500 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n          </svg>\n          <h3 className=\"text-lg font-medium text-red-800 dark:text-red-200\">Error Loading Terraform Data</h3>\n        </div>\n        <p className=\"mt-2 text-red-700 dark:text-red-300\">{error}</p>\n        {onRefresh && (\n          <Button variant=\"outline\" size=\"sm\" className=\"mt-4\" onClick={onRefresh}>\n            Retry\n          </Button>\n        )}\n      </div>\n    );\n  }\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className={`space-y-6 ${className}`}>\n        <LoadingSkeleton variant=\"card\" />\n        <LoadingSkeleton variant=\"list\" />\n        <LoadingSkeleton variant=\"list\" />\n      </div>\n    );\n  }\n\n  // No data state\n  if (!logData) {\n    return (\n      <div className={`bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-8 text-center ${className}`}>\n        <svg className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">No Terraform Data</h3>\n        <p className=\"text-gray-600 dark:text-gray-400\">Upload or paste Terraform logs to view parsed results.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n            Terraform Log Analysis\n          </h2>\n          {logData.terraform_version && (\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Terraform v{logData.terraform_version} â€¢ {logData.format} format\n            </p>\n          )}\n        </div>\n        \n        {onRefresh && (\n          <Button variant=\"outline\" size=\"sm\" onClick={onRefresh}>\n            <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Refresh\n          </Button>\n        )}\n      </div>\n\n      {/* Summary Stats */}\n      <SummaryStats stats={summaryStats} loading={loading} />\n\n      {/* Risk Assessment Summary */}\n      {logData.risk_assessment && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">Risk Assessment</h3>\n            <StatusIndicator \n              status={getRiskStatus(logData.risk_assessment.overall_risk)}\n              label={`${logData.risk_assessment.overall_risk} RISK`}\n            />\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Risk Score</div>\n              <div className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                {(logData.risk_assessment.risk_score * 100).toFixed(1)}%\n              </div>\n            </div>\n            \n            <div>\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Impact Scope</div>\n              <div className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 capitalize\">\n                {logData.risk_assessment.impact_scope}\n              </div>\n            </div>\n          </div>\n\n          {logData.risk_assessment.mitigation_recommendations.length > 0 && (\n            <div className=\"mt-4\">\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">Recommendations</div>\n              <ul className=\"space-y-1\">\n                {logData.risk_assessment.mitigation_recommendations.slice(0, 3).map((rec, index) => (\n                  <li key={index} className=\"text-sm text-gray-700 dark:text-gray-300 flex items-start\">\n                    <span className=\"text-blue-500 mr-2\">â€¢</span>\n                    {rec}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Filters */}\n      {config.enableFiltering !== false && (\n        <FilterControls\n          filters={currentFilters}\n          availableResourceTypes={availableTypes}\n          availableEnvironments={availableEnvironments}\n          onFiltersChange={handleFiltersChange}\n        />\n      )}\n\n      {/* Resource Changes */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n            Resource Changes ({filteredResources.length})\n          </h3>\n        </div>\n\n        {filteredResources.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-600 dark:text-gray-400\">No resources match the current filters.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-0\">\n            {filteredResources.map((resource, index) => (\n              <ResourceChangeItem\n                key={`${resource.address}-${index}`}\n                resource={resource}\n                showSensitiveData={currentFilters.showSensitiveData || false}\n                onResourceSelect={onResourceSelect}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TerraformLogViewer; "],"names":["TerraformLogViewer","getRiskStatus","riskLevel","getActionStyle","action","getActionIcon","FilterControls","filters","availableResourceTypes","availableEnvironments","onFiltersChange","handleFilterChange","key","value","div","className","h3","label","select","onChange","e","target","undefined","option","resourceType","map","type","environment","env","input","id","checked","showSensitiveData","htmlFor","ResourceChangeItem","resource","onResourceSelect","expanded","setExpanded","useState","hasSensitiveData","sensitive_attributes","length","shouldHideSensitive","formatValue","JSON","stringify","String","maskedValue","onClick","span","address","resource_type","StatusIndicator","status","risk_level","size","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","change_summary","h4","p","before","pre","after","requires_replacement","fillRule","clipRule","provider_name","Button","variant","SummaryStats","stats","loading","MetricCardGrid","LoadingSkeleton","MetricCard","title","total_changes","toString","changes_by_risk","HIGH","CRITICAL","requires_approval","cost_impact","estimated_change","logData","infrastructureChange","error","config","onRefresh","currentFilters","setCurrentFilters","filteredResources","summaryStats","availableTypes","useMemo","resource_changes","LOW","MEDIUM","changes_by_action","create","update","delete","replace","resources_by_type","environments","resources","filtered","filter","target_environment","risk_assessment","forEach","Set","r","handleFiltersChange","useCallback","newFilters","h2","terraform_version","format","overall_risk","risk_score","toFixed","impact_scope","mitigation_recommendations","ul","slice","rec","index","li","enableFiltering"],"mappings":"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"}