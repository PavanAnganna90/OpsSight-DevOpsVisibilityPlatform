{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/ui/Select.tsx"],"sourcesContent":["/**\n * Select Component\n * \n * Reusable select dropdown component with validation, error states, and accessibility features.\n * Provides consistent styling and behavior for select inputs across the application.\n */\n\nimport React, { forwardRef, useState, useRef, useEffect } from 'react';\nimport { ChevronDownIcon, CheckIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\nimport { cn } from '@/utils/cn';\n\nexport interface SelectOption {\n  value: string;\n  label: string;\n  disabled?: boolean;\n}\n\nexport interface SelectProps {\n  /** Array of options */\n  options: SelectOption[];\n  /** Selected value */\n  value: string | null;\n  /** Change handler */\n  onChange: (value: string | null) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Field label */\n  label?: string;\n  /** Help text displayed below the select */\n  description?: string;\n  /** Error message */\n  error?: string;\n  /** Whether the field is required */\n  required?: boolean;\n  /** Whether the field is disabled */\n  disabled?: boolean;\n  /** Select size */\n  size?: 'sm' | 'md' | 'lg';\n  /** Whether to allow clearing the selection */\n  clearable?: boolean;\n  /** Custom CSS classes */\n  className?: string;\n  /** Select ID */\n  id?: string;\n  /** ARIA label for accessibility */\n  'aria-label'?: string;\n  /** ARIA described by */\n  'aria-describedby'?: string;\n}\n\nconst sizeClasses = {\n  sm: 'px-2 py-1.5 text-sm',\n  md: 'px-3 py-2 text-sm',\n  lg: 'px-4 py-3 text-base'\n};\n\nexport const Select = forwardRef<HTMLButtonElement, SelectProps>(\n  (\n    {\n      options,\n      value,\n      onChange,\n      placeholder = 'Select an option',\n      label,\n      description,\n      error,\n      required = false,\n      disabled = false,\n      size = 'md',\n      clearable = false,\n      className,\n      id,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedBy,\n      ...props\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [focusedIndex, setFocusedIndex] = useState(-1);\n    const selectRef = useRef<HTMLDivElement>(null);\n    const listRef = useRef<HTMLUListElement>(null);\n\n    const selectId = id || `select-${Math.random().toString(36).substr(2, 9)}`;\n    const listboxId = `${selectId}-listbox`;\n    const descriptionId = description ? `${selectId}-description` : undefined;\n    const errorId = error ? `${selectId}-error` : undefined;\n\n    const describedBy = [\n      ariaDescribedBy,\n      descriptionId,\n      errorId\n    ].filter(Boolean).join(' ') || undefined;\n\n    const selectedOption = options.find(option => option.value === value);\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (selectRef.current && !selectRef.current.contains(event.target as Node)) {\n          setIsOpen(false);\n          setFocusedIndex(-1);\n        }\n      };\n\n      if (isOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n      }\n    }, [isOpen]);\n\n    // Handle keyboard navigation\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          if (!isOpen) {\n            setIsOpen(true);\n            setFocusedIndex(value ? options.findIndex(opt => opt.value === value) : 0);\n          } else if (focusedIndex >= 0) {\n            const option = options[focusedIndex];\n            if (!option.disabled) {\n              onChange(option.value);\n              setIsOpen(false);\n              setFocusedIndex(-1);\n            }\n          }\n          break;\n        case 'Escape':\n          setIsOpen(false);\n          setFocusedIndex(-1);\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (!isOpen) {\n            setIsOpen(true);\n            setFocusedIndex(0);\n          } else {\n            setFocusedIndex(prev => {\n              const nextIndex = prev + 1;\n              return nextIndex >= options.length ? 0 : nextIndex;\n            });\n          }\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (!isOpen) {\n            setIsOpen(true);\n            setFocusedIndex(options.length - 1);\n          } else {\n            setFocusedIndex(prev => {\n              const nextIndex = prev - 1;\n              return nextIndex < 0 ? options.length - 1 : nextIndex;\n            });\n          }\n          break;\n      }\n    };\n\n    const handleOptionClick = (option: SelectOption) => {\n      if (!option.disabled) {\n        onChange(option.value);\n        setIsOpen(false);\n        setFocusedIndex(-1);\n      }\n    };\n\n    const handleClear = (e: React.MouseEvent) => {\n      e.stopPropagation();\n      onChange(null);\n    };\n\n    return (\n      <div ref={selectRef} className={cn('relative', className)}>\n        {/* Label */}\n        {label && (\n          <label \n            htmlFor={selectId}\n            className={cn(\n              'block text-sm font-medium mb-2',\n              error \n                ? 'text-red-700 dark:text-red-400' \n                : 'text-gray-700 dark:text-gray-300',\n              disabled && 'text-gray-400 dark:text-gray-600'\n            )}\n          >\n            {label}\n            {required && (\n              <span className=\"text-red-500 ml-1\" aria-label=\"required\">\n                *\n              </span>\n            )}\n          </label>\n        )}\n\n        {/* Description */}\n        {description && (\n          <p \n            id={descriptionId}\n            className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\"\n          >\n            {description}\n          </p>\n        )}\n\n        {/* Select Button */}\n        <button\n          ref={ref}\n          type=\"button\"\n          id={selectId}\n          onClick={() => !disabled && setIsOpen(!isOpen)}\n          onKeyDown={handleKeyDown}\n          disabled={disabled}\n          aria-haspopup=\"listbox\"\n          aria-expanded={isOpen}\n          aria-controls={isOpen ? listboxId : undefined}\n          aria-label={ariaLabel}\n          aria-describedby={describedBy}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-required={required}\n          className={cn(\n            'relative w-full cursor-default rounded-lg border text-left transition-colors duration-200',\n            'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',\n            'dark:text-gray-100',\n            sizeClasses[size],\n            error\n              ? 'border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20'\n              : 'border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800',\n            disabled \n              ? 'opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-900' \n              : 'hover:border-gray-400 dark:hover:border-gray-500'\n          )}\n          {...props}\n        >\n          <span className=\"block truncate\">\n            {selectedOption ? selectedOption.label : (\n              <span className=\"text-gray-500 dark:text-gray-400\">\n                {placeholder}\n              </span>\n            )}\n          </span>\n          \n          <span className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2\">\n            {clearable && value && !disabled && (\n              <button\n                type=\"button\"\n                onClick={handleClear}\n                className=\"pointer-events-auto rounded-full p-0.5 hover:bg-gray-100 dark:hover:bg-gray-700 mr-1\"\n                aria-label=\"Clear selection\"\n              >\n                <span className=\"sr-only\">Clear</span>\n                Ã—\n              </button>\n            )}\n            <ChevronDownIcon \n              className={cn(\n                'h-5 w-5 text-gray-400 transition-transform duration-200',\n                isOpen && 'transform rotate-180'\n              )} \n            />\n          </span>\n        </button>\n\n        {/* Dropdown */}\n        {isOpen && (\n          <ul\n            ref={listRef}\n            id={listboxId}\n            role=\"listbox\"\n            aria-labelledby={selectId}\n            className={cn(\n              'absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md',\n              'bg-white dark:bg-gray-800 py-1 text-base shadow-lg',\n              'ring-1 ring-black ring-opacity-5 dark:ring-gray-700',\n              'focus:outline-none sm:text-sm'\n            )}\n          >\n            {options.map((option, index) => (\n              <li\n                key={option.value}\n                role=\"option\"\n                aria-selected={option.value === value}\n                className={cn(\n                  'relative cursor-default select-none py-2 pl-10 pr-4',\n                  option.disabled\n                    ? 'text-gray-400 dark:text-gray-600 cursor-not-allowed'\n                    : index === focusedIndex\n                    ? 'bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100'\n                    : 'text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700',\n                  'transition-colors duration-150'\n                )}\n                onClick={() => handleOptionClick(option)}\n              >\n                <span className={cn(\n                  'block truncate',\n                  option.value === value ? 'font-medium' : 'font-normal'\n                )}>\n                  {option.label}\n                </span>\n                \n                {option.value === value && (\n                  <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600 dark:text-blue-400\">\n                    <CheckIcon className=\"h-5 w-5\" />\n                  </span>\n                )}\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <p \n            id={errorId}\n            className=\"text-sm text-red-600 dark:text-red-400 flex items-center gap-1 mt-2\"\n            role=\"alert\"\n          >\n            <ExclamationTriangleIcon className=\"h-4 w-4 flex-shrink-0\" />\n            {error}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = 'Select';\n\nexport default Select; "],"names":["Select","sizeClasses","sm","md","lg","forwardRef","options","value","onChange","placeholder","label","description","error","required","disabled","size","clearable","className","id","ariaLabel","ariaDescribedBy","props","ref","isOpen","setIsOpen","useState","focusedIndex","setFocusedIndex","selectRef","useRef","listRef","selectId","Math","random","toString","substr","listboxId","descriptionId","undefined","errorId","describedBy","filter","Boolean","join","selectedOption","find","option","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleKeyDown","e","key","preventDefault","findIndex","opt","prev","nextIndex","length","handleOptionClick","handleClear","stopPropagation","div","cn","htmlFor","span","aria-label","p","button","type","onClick","onKeyDown","aria-haspopup","aria-expanded","aria-controls","aria-describedby","aria-invalid","aria-required","ChevronDownIcon","ul","role","aria-labelledby","map","index","li","aria-selected","CheckIcon","ExclamationTriangleIcon","displayName"],"mappings":"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"}