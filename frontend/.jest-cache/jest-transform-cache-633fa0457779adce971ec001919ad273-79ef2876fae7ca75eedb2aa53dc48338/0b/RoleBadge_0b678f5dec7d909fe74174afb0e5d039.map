{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/rbac/RoleBadge.tsx"],"sourcesContent":["/**\n * Role Badge Component\n * \n * Displays user roles as badges with appropriate styling\n */\n\nimport React from 'react';\nimport { \n  ShieldCheckIcon, \n  UserIcon, \n  CogIcon, \n  EyeIcon,\n  KeyIcon,\n  UsersIcon,\n} from '@heroicons/react/24/outline';\n\ninterface Role {\n  id: string;\n  name: string;\n  display_name: string;\n  description: string;\n  priority: number;\n  is_system_role: boolean;\n}\n\ninterface RoleBadgeProps {\n  role: Role;\n  size?: 'sm' | 'md' | 'lg';\n  showIcon?: boolean;\n  showDescription?: boolean;\n  variant?: 'default' | 'compact' | 'detailed';\n}\n\nexport function RoleBadge({ \n  role, \n  size = 'md', \n  showIcon = true, \n  showDescription = false,\n  variant = 'default'\n}: RoleBadgeProps) {\n  const getRoleIcon = (roleName: string) => {\n    switch (roleName.toLowerCase()) {\n      case 'super_admin':\n      case 'admin':\n        return ShieldCheckIcon;\n      case 'organization_owner':\n        return CogIcon;\n      case 'devops_admin':\n        return KeyIcon;\n      case 'manager':\n        return UsersIcon;\n      case 'engineer':\n        return UserIcon;\n      case 'viewer':\n        return EyeIcon;\n      default:\n        return UserIcon;\n    }\n  };\n\n  const getRoleColor = (roleName: string, priority: number) => {\n    if (priority >= 90) return 'bg-red-500/10 text-red-500 border-red-500/20';\n    if (priority >= 80) return 'bg-orange-500/10 text-orange-500 border-orange-500/20';\n    if (priority >= 60) return 'bg-yellow-500/10 text-yellow-500 border-yellow-500/20';\n    if (priority >= 40) return 'bg-blue-500/10 text-blue-500 border-blue-500/20';\n    if (priority >= 20) return 'bg-green-500/10 text-green-500 border-green-500/20';\n    return 'bg-gray-500/10 text-gray-500 border-gray-500/20';\n  };\n\n  const getSizeClasses = (size: string) => {\n    switch (size) {\n      case 'sm':\n        return 'px-2 py-1 text-xs';\n      case 'lg':\n        return 'px-4 py-2 text-base';\n      default:\n        return 'px-3 py-1 text-sm';\n    }\n  };\n\n  const getIconSize = (size: string) => {\n    switch (size) {\n      case 'sm':\n        return 'h-3 w-3';\n      case 'lg':\n        return 'h-5 w-5';\n      default:\n        return 'h-4 w-4';\n    }\n  };\n\n  const Icon = getRoleIcon(role.name);\n  const colorClasses = getRoleColor(role.name, role.priority);\n  const sizeClasses = getSizeClasses(size);\n  const iconSize = getIconSize(size);\n\n  if (variant === 'compact') {\n    return (\n      <span \n        className={`inline-flex items-center rounded-full border font-medium ${colorClasses} ${sizeClasses}`}\n        title={`${role.display_name} - ${role.description}`}\n      >\n        {showIcon && <Icon className={`mr-1 ${iconSize}`} />}\n        {role.display_name}\n      </span>\n    );\n  }\n\n  if (variant === 'detailed') {\n    return (\n      <div className={`inline-flex items-center rounded-lg border ${colorClasses} ${sizeClasses}`}>\n        {showIcon && <Icon className={`mr-2 ${iconSize}`} />}\n        <div>\n          <div className=\"font-medium\">{role.display_name}</div>\n          {showDescription && (\n            <div className=\"text-xs opacity-75 mt-1\">{role.description}</div>\n          )}\n          <div className=\"text-xs opacity-60 mt-1\">\n            Priority: {role.priority}\n            {role.is_system_role && ' â€¢ System Role'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <span \n      className={`inline-flex items-center rounded-md border font-medium ${colorClasses} ${sizeClasses}`}\n      title={`${role.display_name} - ${role.description}`}\n    >\n      {showIcon && <Icon className={`mr-1.5 ${iconSize}`} />}\n      {role.display_name}\n      {role.is_system_role && (\n        <span className=\"ml-1 text-xs opacity-60\">(System)</span>\n      )}\n    </span>\n  );\n}\n\ninterface RoleBadgeListProps {\n  roles: Role[];\n  maxDisplay?: number;\n  size?: 'sm' | 'md' | 'lg';\n  showIcon?: boolean;\n  variant?: 'default' | 'compact' | 'detailed';\n}\n\nexport function RoleBadgeList({ \n  roles, \n  maxDisplay = 3, \n  size = 'md', \n  showIcon = true,\n  variant = 'default'\n}: RoleBadgeListProps) {\n  const sortedRoles = [...roles].sort((a, b) => b.priority - a.priority);\n  const displayRoles = sortedRoles.slice(0, maxDisplay);\n  const remainingCount = sortedRoles.length - maxDisplay;\n\n  return (\n    <div className=\"flex flex-wrap gap-2\">\n      {displayRoles.map((role) => (\n        <RoleBadge \n          key={role.id} \n          role={role} \n          size={size} \n          showIcon={showIcon}\n          variant={variant}\n        />\n      ))}\n      {remainingCount > 0 && (\n        <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-500 bg-gray-500/10 border border-gray-500/20 rounded-md\">\n          +{remainingCount} more\n        </span>\n      )}\n    </div>\n  );\n}\n\ninterface UserRoleDisplayProps {\n  user: {\n    roles?: Role[];\n    is_superuser?: boolean;\n  };\n  size?: 'sm' | 'md' | 'lg';\n  showIcon?: boolean;\n  variant?: 'default' | 'compact' | 'detailed';\n}\n\nexport function UserRoleDisplay({ \n  user, \n  size = 'md', \n  showIcon = true,\n  variant = 'default'\n}: UserRoleDisplayProps) {\n  if (user.is_superuser) {\n    return (\n      <RoleBadge \n        role={{\n          id: 'superuser',\n          name: 'super_admin',\n          display_name: 'Super Admin',\n          description: 'Full system access',\n          priority: 100,\n          is_system_role: true,\n        }}\n        size={size}\n        showIcon={showIcon}\n        variant={variant}\n      />\n    );\n  }\n\n  if (!user.roles || user.roles.length === 0) {\n    return (\n      <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-500 bg-gray-500/10 border border-gray-500/20 rounded-md\">\n        No roles assigned\n      </span>\n    );\n  }\n\n  return (\n    <RoleBadgeList \n      roles={user.roles} \n      size={size} \n      showIcon={showIcon}\n      variant={variant}\n    />\n  );\n}"],"names":["RoleBadge","RoleBadgeList","UserRoleDisplay","role","size","showIcon","showDescription","variant","getRoleIcon","roleName","toLowerCase","ShieldCheckIcon","CogIcon","KeyIcon","UsersIcon","UserIcon","EyeIcon","getRoleColor","priority","getSizeClasses","getIconSize","Icon","name","colorClasses","sizeClasses","iconSize","span","className","title","display_name","description","div","is_system_role","roles","maxDisplay","sortedRoles","sort","a","b","displayRoles","slice","remainingCount","length","map","id","user","is_superuser"],"mappings":"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"}