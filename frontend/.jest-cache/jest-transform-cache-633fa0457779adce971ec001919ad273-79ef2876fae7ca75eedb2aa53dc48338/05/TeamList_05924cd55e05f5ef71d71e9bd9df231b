0f01e79675bc553897f2f5fa6d2d5ad9
/**
 * Team List Component
 * 
 * Displays a list of teams with filtering, sorting, and management options.
 * Follows existing UI patterns and provides team overview functionality.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "TeamList", {
    enumerable: true,
    get: function() {
        return TeamList;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _teamApi = require("../../services/teamApi");
const _usePermissions = require("../../hooks/usePermissions");
const _PermissionGuard = require("../rbac/PermissionGuard");
const _ui = require("../ui");
const _StatusIndicator = require("../ui/StatusIndicator");
const _LoadingSkeleton = require("../ui/LoadingSkeleton");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const TeamList = ({ onTeamSelect, onCreateTeam, onEditTeam, showActions = true, compact = false })=>{
    const [teams, setTeams] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const [filter, setFilter] = (0, _react.useState)({});
    const [sort, setSort] = (0, _react.useState)({
        field: 'name',
        direction: 'asc'
    });
    const [currentPage, setCurrentPage] = (0, _react.useState)(1);
    const [totalPages, setTotalPages] = (0, _react.useState)(1);
    const [searchQuery, setSearchQuery] = (0, _react.useState)('');
    const teamPerms = (0, _usePermissions.useTeamPermissions)();
    // Early return if user can't view teams
    if (!teamPerms.canViewTeams) {
        return null;
    }
    /**
   * Fetch teams from API
   */ const fetchTeams = (0, _react.useCallback)(async ()=>{
        try {
            setLoading(true);
            setError(null);
            const response = await _teamApi.teamApi.getTeams(filter, sort, currentPage, 20 // items per page
            );
            setTeams(response.teams);
            setTotalPages(response.pages);
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to load teams');
            console.error('Failed to fetch teams:', err);
        } finally{
            setLoading(false);
        }
    }, [
        filter,
        sort,
        currentPage
    ]);
    /**
   * Handle search input change
   */ const handleSearchChange = (event)=>{
        const query = event.target.value;
        setSearchQuery(query);
        // Debounce search
        setTimeout(()=>{
            setFilter((prev)=>({
                    ...prev,
                    search: query || undefined
                }));
            setCurrentPage(1);
        }, 300);
    };
    /**
   * Format team member count
   */ const formatMemberCount = (count = 0)=>{
        return count === 1 ? '1 member' : `${count} members`;
    };
    // Initial load and refetch on dependencies
    (0, _react.useEffect)(()=>{
        fetchTeams();
    }, [
        fetchTeams
    ]);
    if (loading && teams.length === 0) {
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "space-y-4",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_LoadingSkeleton.LoadingSkeleton, {
                    className: "h-8 w-full"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_LoadingSkeleton.LoadingSkeleton, {
                    className: "h-24 w-full"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_LoadingSkeleton.LoadingSkeleton, {
                    className: "h-24 w-full"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_LoadingSkeleton.LoadingSkeleton, {
                    className: "h-24 w-full"
                })
            ]
        });
    }
    if (error) {
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "text-center py-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-red-600 dark:text-red-400 mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                            className: "w-12 h-12 mx-auto mb-2",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            })
                        }),
                        "Error loading teams"
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-gray-600 dark:text-gray-400 mb-4",
                    children: error
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                    onClick: fetchTeams,
                    variant: "outline",
                    children: "Try Again"
                })
            ]
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                className: "text-2xl font-bold text-gray-900 dark:text-white",
                                children: "Teams"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-gray-600 dark:text-gray-400",
                                children: "Manage team access and collaboration"
                            })
                        ]
                    }),
                    showActions && onCreateTeam && /*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                        permission: "create_teams",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_ui.Button, {
                            onClick: onCreateTeam,
                            className: "flex items-center gap-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: "w-4 h-4",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M12 4v16m8-8H4"
                                    })
                                }),
                                "Create Team"
                            ]
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "flex flex-col sm:flex-row gap-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "flex-1",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "text",
                        placeholder: "Search teams...",
                        value: searchQuery,
                        onChange: handleSearchChange,
                        className: "w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    })
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: `grid gap-4 ${compact ? 'grid-cols-1' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3'}`,
                children: teams.map((team)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer",
                        onClick: ()=>onTeamSelect?.(team),
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "p-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-start justify-between mb-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex-1",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                    className: "text-lg font-semibold text-gray-900 dark:text-white mb-1",
                                                    children: team.display_name || team.name
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                    className: "text-sm text-gray-500 dark:text-gray-400",
                                                    children: [
                                                        "@",
                                                        team.slug
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_StatusIndicator.StatusIndicator, {
                                            status: team.is_active ? 'success' : 'warning',
                                            size: "sm"
                                        })
                                    ]
                                }),
                                team.description && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",
                                    children: team.description
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center justify-between text-sm",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-500 dark:text-gray-400",
                                            children: formatMemberCount(team.member_count)
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "flex items-center gap-2",
                                            children: team.settings.visibility && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: `px-2 py-1 rounded-full text-xs font-medium
                      ${team.settings.visibility === 'public' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : team.settings.visibility === 'private' ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' : 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'}`,
                                                children: team.settings.visibility
                                            })
                                        })
                                    ]
                                }),
                                showActions && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                                            permission: "update_teams",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                                                size: "sm",
                                                variant: "outline",
                                                onClick: (e)=>{
                                                    e.stopPropagation();
                                                    onEditTeam?.(team);
                                                },
                                                className: "flex-1",
                                                children: "Manage"
                                            })
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                                            size: "sm",
                                            onClick: (e)=>{
                                                e.stopPropagation();
                                                onTeamSelect?.(team);
                                            },
                                            className: "flex-1",
                                            children: "View"
                                        })
                                    ]
                                })
                            ]
                        })
                    }, team.id))
            }),
            teams.length === 0 && !loading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-12",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                        className: "w-12 h-12 mx-auto mb-4 text-gray-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "text-lg font-medium text-gray-900 dark:text-white mb-2",
                        children: "No teams found"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-600 dark:text-gray-400 mb-4",
                        children: searchQuery ? 'Try adjusting your search criteria.' : 'Get started by creating your first team.'
                    }),
                    onCreateTeam && !searchQuery && /*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionGuard.PermissionGuard, {
                        permission: "create_teams",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                            onClick: onCreateTeam,
                            children: "Create Your First Team"
                        })
                    })
                ]
            }),
            totalPages > 1 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex justify-center items-center gap-2",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                        variant: "outline",
                        size: "sm",
                        disabled: currentPage === 1,
                        onClick: ()=>setCurrentPage((prev)=>Math.max(1, prev - 1)),
                        children: "Previous"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                        className: "text-sm text-gray-600 dark:text-gray-400",
                        children: [
                            "Page ",
                            currentPage,
                            " of ",
                            totalPages
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_ui.Button, {
                        variant: "outline",
                        size: "sm",
                        disabled: currentPage === totalPages,
                        onClick: ()=>setCurrentPage((prev)=>Math.min(totalPages, prev + 1)),
                        children: "Next"
                    })
                ]
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy90ZWFtcy9UZWFtTGlzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZWFtIExpc3QgQ29tcG9uZW50XG4gKiBcbiAqIERpc3BsYXlzIGEgbGlzdCBvZiB0ZWFtcyB3aXRoIGZpbHRlcmluZywgc29ydGluZywgYW5kIG1hbmFnZW1lbnQgb3B0aW9ucy5cbiAqIEZvbGxvd3MgZXhpc3RpbmcgVUkgcGF0dGVybnMgYW5kIHByb3ZpZGVzIHRlYW0gb3ZlcnZpZXcgZnVuY3Rpb25hbGl0eS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBcbiAgVGVhbSwgXG4gIFRlYW1GaWx0ZXIsIFxuICBUZWFtU29ydE9wdGlvbnMsIFxuICBUZWFtTGlzdFJlc3BvbnNlLFxuICBUZWFtUm9sZSBcbn0gZnJvbSAnQC90eXBlcy90ZWFtJztcbmltcG9ydCB7IHRlYW1BcGkgfSBmcm9tICdAL3NlcnZpY2VzL3RlYW1BcGknO1xuaW1wb3J0IHsgdXNlVGVhbVBlcm1pc3Npb25zIH0gZnJvbSAnQC9ob29rcy91c2VQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uR3VhcmQgfSBmcm9tICdAL2NvbXBvbmVudHMvcmJhYy9QZXJtaXNzaW9uR3VhcmQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpJztcbmltcG9ydCB7IFN0YXR1c0luZGljYXRvciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9TdGF0dXNJbmRpY2F0b3InO1xuaW1wb3J0IHsgTG9hZGluZ1NrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0xvYWRpbmdTa2VsZXRvbic7XG5cbmludGVyZmFjZSBUZWFtTGlzdFByb3BzIHtcbiAgb25UZWFtU2VsZWN0PzogKHRlYW06IFRlYW0pID0+IHZvaWQ7XG4gIG9uQ3JlYXRlVGVhbT86ICgpID0+IHZvaWQ7XG4gIG9uRWRpdFRlYW0/OiAodGVhbTogVGVhbSkgPT4gdm9pZDtcbiAgc2hvd0FjdGlvbnM/OiBib29sZWFuO1xuICBjb21wYWN0PzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBUZWFtIExpc3QgQ29tcG9uZW50XG4gKiBcbiAqIEBwYXJhbSBvblRlYW1TZWxlY3QgLSBDYWxsYmFjayB3aGVuIGEgdGVhbSBpcyBzZWxlY3RlZFxuICogQHBhcmFtIG9uQ3JlYXRlVGVhbSAtIENhbGxiYWNrIHdoZW4gY3JlYXRlIHRlYW0gaXMgY2xpY2tlZFxuICogQHBhcmFtIG9uRWRpdFRlYW0gLSBDYWxsYmFjayB3aGVuIGVkaXQgdGVhbSBpcyBjbGlja2VkXG4gKiBAcGFyYW0gc2hvd0FjdGlvbnMgLSBXaGV0aGVyIHRvIHNob3cgYWN0aW9uIGJ1dHRvbnNcbiAqIEBwYXJhbSBjb21wYWN0IC0gV2hldGhlciB0byB1c2UgY29tcGFjdCBkaXNwbGF5XG4gKi9cbmV4cG9ydCBjb25zdCBUZWFtTGlzdDogUmVhY3QuRkM8VGVhbUxpc3RQcm9wcz4gPSAoe1xuICBvblRlYW1TZWxlY3QsXG4gIG9uQ3JlYXRlVGVhbSxcbiAgb25FZGl0VGVhbSxcbiAgc2hvd0FjdGlvbnMgPSB0cnVlLFxuICBjb21wYWN0ID0gZmFsc2Vcbn0pID0+IHtcbiAgY29uc3QgW3RlYW1zLCBzZXRUZWFtc10gPSB1c2VTdGF0ZTxUZWFtW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWx0ZXIsIHNldEZpbHRlcl0gPSB1c2VTdGF0ZTxUZWFtRmlsdGVyPih7fSk7XG4gIGNvbnN0IFtzb3J0LCBzZXRTb3J0XSA9IHVzZVN0YXRlPFRlYW1Tb3J0T3B0aW9ucz4oe1xuICAgIGZpZWxkOiAnbmFtZScsXG4gICAgZGlyZWN0aW9uOiAnYXNjJ1xuICB9KTtcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3RvdGFsUGFnZXMsIHNldFRvdGFsUGFnZXNdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICBcbiAgY29uc3QgdGVhbVBlcm1zID0gdXNlVGVhbVBlcm1pc3Npb25zKCk7XG4gIFxuICAvLyBFYXJseSByZXR1cm4gaWYgdXNlciBjYW4ndCB2aWV3IHRlYW1zXG4gIGlmICghdGVhbVBlcm1zLmNhblZpZXdUZWFtcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHRlYW1zIGZyb20gQVBJXG4gICAqL1xuICBjb25zdCBmZXRjaFRlYW1zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBUZWFtTGlzdFJlc3BvbnNlID0gYXdhaXQgdGVhbUFwaS5nZXRUZWFtcyhcbiAgICAgICAgZmlsdGVyLFxuICAgICAgICBzb3J0LFxuICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgMjAgLy8gaXRlbXMgcGVyIHBhZ2VcbiAgICAgICk7XG5cbiAgICAgIHNldFRlYW1zKHJlc3BvbnNlLnRlYW1zKTtcbiAgICAgIHNldFRvdGFsUGFnZXMocmVzcG9uc2UucGFnZXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gbG9hZCB0ZWFtcycpO1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRlYW1zOicsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2ZpbHRlciwgc29ydCwgY3VycmVudFBhZ2VdKTtcblxuICAvKipcbiAgICogSGFuZGxlIHNlYXJjaCBpbnB1dCBjaGFuZ2VcbiAgICovXG4gIGNvbnN0IGhhbmRsZVNlYXJjaENoYW5nZSA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBzZXRTZWFyY2hRdWVyeShxdWVyeSk7XG4gICAgXG4gICAgLy8gRGVib3VuY2Ugc2VhcmNoXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRGaWx0ZXIocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBzZWFyY2g6IHF1ZXJ5IHx8IHVuZGVmaW5lZFxuICAgICAgfSkpO1xuICAgICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gICAgfSwgMzAwKTtcbiAgfTtcblxuICAvKipcbiAgICogRm9ybWF0IHRlYW0gbWVtYmVyIGNvdW50XG4gICAqL1xuICBjb25zdCBmb3JtYXRNZW1iZXJDb3VudCA9IChjb3VudDogbnVtYmVyID0gMCk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgbWVtYmVyJyA6IGAke2NvdW50fSBtZW1iZXJzYDtcbiAgfTtcblxuICAvLyBJbml0aWFsIGxvYWQgYW5kIHJlZmV0Y2ggb24gZGVwZW5kZW5jaWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hUZWFtcygpO1xuICB9LCBbZmV0Y2hUZWFtc10pO1xuXG4gIGlmIChsb2FkaW5nICYmIHRlYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICA8TG9hZGluZ1NrZWxldG9uIGNsYXNzTmFtZT1cImgtOCB3LWZ1bGxcIiAvPlxuICAgICAgICA8TG9hZGluZ1NrZWxldG9uIGNsYXNzTmFtZT1cImgtMjQgdy1mdWxsXCIgLz5cbiAgICAgICAgPExvYWRpbmdTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTI0IHctZnVsbFwiIC8+XG4gICAgICAgIDxMb2FkaW5nU2tlbGV0b24gY2xhc3NOYW1lPVwiaC0yNCB3LWZ1bGxcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAgbWItNFwiPlxuICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0xMiBoLTEyIG14LWF1dG8gbWItMlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDh2NG0wIDRoLjAxTTIxIDEyYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgRXJyb3IgbG9hZGluZyB0ZWFtc1xuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItNFwiPntlcnJvcn08L3A+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17ZmV0Y2hUZWFtc30gdmFyaWFudD1cIm91dGxpbmVcIj5cbiAgICAgICAgICBUcnkgQWdhaW5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtNCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgc206aXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgVGVhbXNcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICBNYW5hZ2UgdGVhbSBhY2Nlc3MgYW5kIGNvbGxhYm9yYXRpb25cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAge3Nob3dBY3Rpb25zICYmIG9uQ3JlYXRlVGVhbSAmJiAoXG4gICAgICAgICAgPFBlcm1pc3Npb25HdWFyZCBwZXJtaXNzaW9uPVwiY3JlYXRlX3RlYW1zXCI+XG4gICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNyZWF0ZVRlYW19IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA0djE2bTgtOEg0XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIENyZWF0ZSBUZWFtXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L1Blcm1pc3Npb25HdWFyZD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU2VhcmNoIGFuZCBGaWx0ZXJzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCB0ZWFtcy4uLlwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlU2VhcmNoQ2hhbmdlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgXG4gICAgICAgICAgICAgICAgICAgICBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXG4gICAgICAgICAgICAgICAgICAgICBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBUZWFtcyBHcmlkICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BncmlkIGdhcC00ICR7Y29tcGFjdCA/ICdncmlkLWNvbHMtMScgOiAnZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMnfWB9PlxuICAgICAgICB7dGVhbXMubWFwKCh0ZWFtKSA9PiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAga2V5PXt0ZWFtLmlkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcbiAgICAgICAgICAgICAgICAgICAgIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblRlYW1TZWxlY3Q/Lih0ZWFtKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgICB7LyogVGVhbSBIZWFkZXIgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAge3RlYW0uZGlzcGxheV9uYW1lIHx8IHRlYW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIEB7dGVhbS5zbHVnfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxTdGF0dXNJbmRpY2F0b3IgXG4gICAgICAgICAgICAgICAgICBzdGF0dXM9e3RlYW0uaXNfYWN0aXZlID8gJ3N1Y2Nlc3MnIDogJ3dhcm5pbmcnfVxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogVGVhbSBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICAgICAge3RlYW0uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRleHQtc20gbWItNCBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgIHt0ZWFtLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogVGVhbSBTdGF0cyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7Zm9ybWF0TWVtYmVyQ291bnQodGVhbS5tZW1iZXJfY291bnQpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICB7dGVhbS5zZXR0aW5ncy52aXNpYmlsaXR5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtbWVkaXVtXG4gICAgICAgICAgICAgICAgICAgICAgJHt0ZWFtLnNldHRpbmdzLnZpc2liaWxpdHkgPT09ICdwdWJsaWMnIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIGRhcms6YmctZ3JlZW4tOTAwIGRhcms6dGV4dC1ncmVlbi0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRlYW0uc2V0dGluZ3MudmlzaWJpbGl0eSA9PT0gJ3ByaXZhdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCBkYXJrOmJnLXJlZC05MDAgZGFyazp0ZXh0LXJlZC0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwIGRhcms6YmctYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMjAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3RlYW0uc2V0dGluZ3MudmlzaWJpbGl0eX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICB7c2hvd0FjdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBtdC00IHB0LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHBlcm1pc3Npb249XCJ1cGRhdGVfdGVhbXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0VGVhbT8uKHRlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIE1hbmFnZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvUGVybWlzc2lvbkd1YXJkPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgb25UZWFtU2VsZWN0Py4odGVhbSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFZpZXdcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBFbXB0eSBTdGF0ZSAqL31cbiAgICAgIHt0ZWFtcy5sZW5ndGggPT09IDAgJiYgIWxvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNyAyMGg1di0yYTMgMyAwIDAwLTUuMzU2LTEuODU3TTE3IDIwSDdtMTAgMHYtMmMwLS42NTYtLjEyNi0xLjI4My0uMzU2LTEuODU3TTcgMjBIMnYtMmEzIDMgMCAwMTUuMzU2LTEuODU3TTcgMjB2LTJjMC0uNjU2LjEyNi0xLjI4My4zNTYtMS44NTdtMCAwYTUuMDAyIDUuMDAyIDAgMDE5LjI4OCAwTTE1IDdhMyAzIDAgMTEtNiAwIDMgMyAwIDAxNiAwem02IDNhMiAyIDAgMTEtNCAwIDIgMiAwIDAxNCAwek03IDEwYTIgMiAwIDExLTQgMCAyIDIgMCAwMTQgMHpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTJcIj5cbiAgICAgICAgICAgIE5vIHRlYW1zIGZvdW5kXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi00XCI+XG4gICAgICAgICAgICB7c2VhcmNoUXVlcnkgPyAnVHJ5IGFkanVzdGluZyB5b3VyIHNlYXJjaCBjcml0ZXJpYS4nIDogJ0dldCBzdGFydGVkIGJ5IGNyZWF0aW5nIHlvdXIgZmlyc3QgdGVhbS4nfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICB7b25DcmVhdGVUZWFtICYmICFzZWFyY2hRdWVyeSAmJiAoXG4gICAgICAgICAgICA8UGVybWlzc2lvbkd1YXJkIHBlcm1pc3Npb249XCJjcmVhdGVfdGVhbXNcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtvbkNyZWF0ZVRlYW19PlxuICAgICAgICAgICAgICAgIENyZWF0ZSBZb3VyIEZpcnN0IFRlYW1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L1Blcm1pc3Npb25HdWFyZD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQYWdpbmF0aW9uICovfVxuICAgICAge3RvdGFsUGFnZXMgPiAxICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPT09IDF9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZShwcmV2ID0+IE1hdGgubWF4KDEsIHByZXYgLSAxKSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUHJldmlvdXNcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICBQYWdlIHtjdXJyZW50UGFnZX0gb2Yge3RvdGFsUGFnZXN9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPT09IHRvdGFsUGFnZXN9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZShwcmV2ID0+IE1hdGgubWluKHRvdGFsUGFnZXMsIHByZXYgKyAxKSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgTmV4dFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59OyAiXSwibmFtZXMiOlsiVGVhbUxpc3QiLCJvblRlYW1TZWxlY3QiLCJvbkNyZWF0ZVRlYW0iLCJvbkVkaXRUZWFtIiwic2hvd0FjdGlvbnMiLCJjb21wYWN0IiwidGVhbXMiLCJzZXRUZWFtcyIsInVzZVN0YXRlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmlsdGVyIiwic2V0RmlsdGVyIiwic29ydCIsInNldFNvcnQiLCJmaWVsZCIsImRpcmVjdGlvbiIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJ0b3RhbFBhZ2VzIiwic2V0VG90YWxQYWdlcyIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJ0ZWFtUGVybXMiLCJ1c2VUZWFtUGVybWlzc2lvbnMiLCJjYW5WaWV3VGVhbXMiLCJmZXRjaFRlYW1zIiwidXNlQ2FsbGJhY2siLCJyZXNwb25zZSIsInRlYW1BcGkiLCJnZXRUZWFtcyIsInBhZ2VzIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIiwiY29uc29sZSIsImhhbmRsZVNlYXJjaENoYW5nZSIsImV2ZW50IiwicXVlcnkiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNldFRpbWVvdXQiLCJwcmV2Iiwic2VhcmNoIiwidW5kZWZpbmVkIiwiZm9ybWF0TWVtYmVyQ291bnQiLCJjb3VudCIsInVzZUVmZmVjdCIsImxlbmd0aCIsImRpdiIsImNsYXNzTmFtZSIsIkxvYWRpbmdTa2VsZXRvbiIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsInAiLCJCdXR0b24iLCJvbkNsaWNrIiwidmFyaWFudCIsImgyIiwiUGVybWlzc2lvbkd1YXJkIiwicGVybWlzc2lvbiIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJtYXAiLCJ0ZWFtIiwiaDMiLCJkaXNwbGF5X25hbWUiLCJuYW1lIiwic2x1ZyIsIlN0YXR1c0luZGljYXRvciIsInN0YXR1cyIsImlzX2FjdGl2ZSIsInNpemUiLCJkZXNjcmlwdGlvbiIsInNwYW4iLCJtZW1iZXJfY291bnQiLCJzZXR0aW5ncyIsInZpc2liaWxpdHkiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaWQiLCJkaXNhYmxlZCIsIk1hdGgiLCJtYXgiLCJtaW4iXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7OytCQWtDWUE7OztlQUFBQTs7OzsrREFoQzJDO3lCQVFoQztnQ0FDVztpQ0FDSDtvQkFDVDtpQ0FDUztpQ0FDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJ6QixNQUFNQSxXQUFvQyxDQUFDLEVBQ2hEQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsVUFBVSxFQUNWQyxjQUFjLElBQUksRUFDbEJDLFVBQVUsS0FBSyxFQUNoQjtJQUNDLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHQyxJQUFBQSxlQUFRLEVBQVMsRUFBRTtJQUM3QyxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0YsSUFBQUEsZUFBUSxFQUFDO0lBQ3ZDLE1BQU0sQ0FBQ0csT0FBT0MsU0FBUyxHQUFHSixJQUFBQSxlQUFRLEVBQWdCO0lBQ2xELE1BQU0sQ0FBQ0ssUUFBUUMsVUFBVSxHQUFHTixJQUFBQSxlQUFRLEVBQWEsQ0FBQztJQUNsRCxNQUFNLENBQUNPLE1BQU1DLFFBQVEsR0FBR1IsSUFBQUEsZUFBUSxFQUFrQjtRQUNoRFMsT0FBTztRQUNQQyxXQUFXO0lBQ2I7SUFDQSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1osSUFBQUEsZUFBUSxFQUFDO0lBQy9DLE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCxJQUFBQSxlQUFRLEVB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