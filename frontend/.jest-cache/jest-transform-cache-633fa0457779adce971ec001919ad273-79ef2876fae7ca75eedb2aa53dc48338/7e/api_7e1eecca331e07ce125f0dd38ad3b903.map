{"version":3,"names":["api","apiClient","cov_17r02py4du","s","_axios","default","create","baseURL","headers","withCredentials","_auth","setupRefreshInterceptor","get","url","config","b","f","response","data","error","isAxiosError","message","code","status","post","put","delete"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/utils/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { setupRefreshInterceptor } from './auth';\n\n/**\n * Base API client configuration\n */\nconst apiClient = axios.create({\n  baseURL: '/api/v1',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // Important for cookies\n});\n\n// Set up token refresh interceptor\nsetupRefreshInterceptor(apiClient);\n\n/**\n * API error type\n */\nexport interface ApiError {\n  message: string;\n  code: string;\n  status: number;\n}\n\n/**\n * Generic API response type\n */\nexport interface ApiResponse<T> {\n  data: T;\n  message?: string;\n}\n\n/**\n * API client with error handling\n */\nexport const api = {\n  /**\n   * Make a GET request\n   * @param url - API endpoint\n   * @param config - Axios config\n   */\n  async get<T>(url: string, config = {}): Promise<ApiResponse<T>> {\n    try {\n      const response = await apiClient.get<ApiResponse<T>>(url, config);\n      return response.data;\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response) {\n        throw {\n          message: error.response.data.message || 'Request failed',\n          code: error.response.data.code || 'API_ERROR',\n          status: error.response.status,\n        } as ApiError;\n      }\n      throw {\n        message: 'Network error',\n        code: 'NETWORK_ERROR',\n        status: 500,\n      } as ApiError;\n    }\n  },\n\n  /**\n   * Make a POST request\n   * @param url - API endpoint\n   * @param data - Request body\n   * @param config - Axios config\n   */\n  async post<T>(url: string, data = {}, config = {}): Promise<ApiResponse<T>> {\n    try {\n      const response = await apiClient.post<ApiResponse<T>>(url, data, config);\n      return response.data;\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response) {\n        throw {\n          message: error.response.data.message || 'Request failed',\n          code: error.response.data.code || 'API_ERROR',\n          status: error.response.status,\n        } as ApiError;\n      }\n      throw {\n        message: 'Network error',\n        code: 'NETWORK_ERROR',\n        status: 500,\n      } as ApiError;\n    }\n  },\n\n  /**\n   * Make a PUT request\n   * @param url - API endpoint\n   * @param data - Request body\n   * @param config - Axios config\n   */\n  async put<T>(url: string, data = {}, config = {}): Promise<ApiResponse<T>> {\n    try {\n      const response = await apiClient.put<ApiResponse<T>>(url, data, config);\n      return response.data;\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response) {\n        throw {\n          message: error.response.data.message || 'Request failed',\n          code: error.response.data.code || 'API_ERROR',\n          status: error.response.status,\n        } as ApiError;\n      }\n      throw {\n        message: 'Network error',\n        code: 'NETWORK_ERROR',\n        status: 500,\n      } as ApiError;\n    }\n  },\n\n  /**\n   * Make a DELETE request\n   * @param url - API endpoint\n   * @param config - Axios config\n   */\n  async delete<T>(url: string, config = {}): Promise<ApiResponse<T>> {\n    try {\n      const response = await apiClient.delete<ApiResponse<T>>(url, config);\n      return response.data;\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response) {\n        throw {\n          message: error.response.data.message || 'Request failed',\n          code: error.response.data.code || 'API_ERROR',\n          status: error.response.status,\n        } as ApiError;\n      }\n      throw {\n        message: 'Network error',\n        code: 'NETWORK_ERROR',\n        status: 500,\n      } as ApiError;\n    }\n  },\n}; "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}