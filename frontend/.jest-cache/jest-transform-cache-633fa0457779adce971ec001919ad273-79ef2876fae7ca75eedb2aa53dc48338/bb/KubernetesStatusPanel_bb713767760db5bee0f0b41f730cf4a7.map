{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/KubernetesStatusPanel.tsx"],"sourcesContent":["/**\n * Kubernetes Cluster Status Panel Component\n * \n * Comprehensive dashboard panel for monitoring Kubernetes cluster health,\n * including cluster overview, node status, resource utilization, and alerts.\n */\n\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { StatusIndicator, MetricCard, MetricCardGrid, LoadingSkeleton, Button } from '../ui';\nimport { ClusterNodeMap } from '../charts';\nimport { useResponsive } from '../../hooks/useResponsive';\nimport { useKubernetesEvents, useWebSocketConnection } from '../../hooks/useKubernetesEvents';\nimport PodDetailView from './PodDetailView';\nimport ContainerLogsViewer from './ContainerLogsViewer';\nimport EventsTimeline from './EventsTimeline';\nimport ResourceUsagePanel from './ResourceUsagePanel';\nimport { \n  Cluster, \n  ClusterStats, \n  ClusterStatus, \n  NodeDetail, \n  KubernetesMetrics \n} from '../../types/cluster';\n\ninterface KubernetesStatusPanelProps {\n  /** Optional project ID to filter clusters */\n  projectId?: number;\n  /** Refresh interval in milliseconds */\n  refreshInterval?: number;\n  /** Show detailed node view */\n  showNodeDetails?: boolean;\n  /** Enable real-time updates */\n  enableRealTimeUpdates?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n// Enhanced types for health scoring and alerts\ninterface ClusterAlert {\n  id: string;\n  severity: 'critical' | 'warning' | 'info';\n  message: string;\n  timestamp: string;\n  type: 'resource' | 'node' | 'pod' | 'security' | 'network';\n}\n\ninterface ClusterHealthScore {\n  overall: number;\n  breakdown: {\n    resources: number;\n    nodes: number;\n    pods: number;\n    network: number;\n  };\n}\n\ninterface PodHealthBreakdown {\n  running: number;\n  pending: number;\n  failed: number;\n  succeeded: number;\n  unknown: number;\n  crashLoopBackOff: number;\n  imagePullBackOff: number;\n  total: number;\n}\n\n/**\n * AlertIndicator Component for displaying cluster alerts\n */\nconst AlertIndicator: React.FC<{ alerts: ClusterAlert[] }> = ({ alerts }) => {\n  const criticalAlerts = alerts.filter(a => a.severity === 'critical');\n  const warningAlerts = alerts.filter(a => a.severity === 'warning');\n  \n  if (alerts.length === 0) return null;\n\n  return (\n    <div className=\"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6\">\n      <div className=\"flex items-start space-x-3\">\n        <div className=\"flex-shrink-0\">\n          {criticalAlerts.length > 0 ? (\n            <svg className=\"h-6 w-6 text-red-500 animate-pulse\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          ) : (\n            <svg className=\"h-6 w-6 text-orange-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          )}\n        </div>\n        <div className=\"flex-1\">\n          <h4 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n            {criticalAlerts.length > 0 ? 'Critical Issues Detected' : 'Warnings Detected'}\n          </h4>\n          <div className=\"mt-2 text-sm text-red-700 dark:text-red-300\">\n            {criticalAlerts.length > 0 && (\n              <div className=\"mb-2\">\n                <span className=\"font-medium\">{criticalAlerts.length} Critical:</span>\n                <ul className=\"ml-4 list-disc\">\n                  {criticalAlerts.slice(0, 3).map(alert => (\n                    <li key={alert.id}>{alert.message}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            {warningAlerts.length > 0 && (\n              <div>\n                <span className=\"font-medium\">{warningAlerts.length} Warning{warningAlerts.length > 1 ? 's' : ''}</span>\n                {warningAlerts.length <= 3 && (\n                  <ul className=\"ml-4 list-disc\">\n                    {warningAlerts.map(alert => (\n                      <li key={alert.id}>{alert.message}</li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * HealthScoreIndicator Component for displaying cluster health score\n */\nconst HealthScoreIndicator: React.FC<{ healthScore: ClusterHealthScore }> = ({ healthScore }) => {\n  const getScoreColor = (score: number): string => {\n    if (score >= 90) return 'text-green-600 dark:text-green-400';\n    if (score >= 80) return 'text-yellow-600 dark:text-yellow-400';\n    if (score >= 70) return 'text-orange-600 dark:text-orange-400';\n    return 'text-red-600 dark:text-red-400';\n  };\n\n  const getScoreBgColor = (score: number): string => {\n    if (score >= 90) return 'bg-green-100 dark:bg-green-900/30';\n    if (score >= 80) return 'bg-yellow-100 dark:bg-yellow-900/30';\n    if (score >= 70) return 'bg-orange-100 dark:bg-orange-900/30';\n    return 'bg-red-100 dark:bg-red-900/30';\n  };\n\n  return (\n    <div className={`${getScoreBgColor(healthScore.overall)} rounded-lg p-4 border`}>\n      <div className=\"flex items-center justify-between mb-3\">\n        <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">Cluster Health Score</h4>\n        <div className={`text-2xl font-bold ${getScoreColor(healthScore.overall)}`}>\n          {Math.round(healthScore.overall)}%\n        </div>\n      </div>\n      \n      <div className=\"grid grid-cols-2 gap-2 text-xs\">\n        <div className=\"flex justify-between\">\n          <span className=\"text-gray-600 dark:text-gray-400\">Resources:</span>\n          <span className={getScoreColor(healthScore.breakdown.resources)}>\n            {Math.round(healthScore.breakdown.resources)}%\n          </span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span className=\"text-gray-600 dark:text-gray-400\">Nodes:</span>\n          <span className={getScoreColor(healthScore.breakdown.nodes)}>\n            {Math.round(healthScore.breakdown.nodes)}%\n          </span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span className=\"text-gray-600 dark:text-gray-400\">Pods:</span>\n          <span className={getScoreColor(healthScore.breakdown.pods)}>\n            {Math.round(healthScore.breakdown.pods)}%\n          </span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span className=\"text-gray-600 dark:text-gray-400\">Network:</span>\n          <span className={getScoreColor(healthScore.breakdown.network)}>\n            {Math.round(healthScore.breakdown.network)}%\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * PodHealthVisualization Component for detailed pod status breakdown\n */\nconst PodHealthVisualization: React.FC<{ podHealth: PodHealthBreakdown }> = ({ podHealth }) => {\n  const getStatusColor = (status: string): string => {\n    switch (status) {\n      case 'running': return 'bg-green-500';\n      case 'pending': return 'bg-yellow-500';\n      case 'failed': return 'bg-red-500';\n      case 'succeeded': return 'bg-blue-500';\n      case 'crashLoopBackOff': return 'bg-red-600';\n      case 'imagePullBackOff': return 'bg-orange-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  const getStatusPercentage = (count: number): number => {\n    return podHealth.total > 0 ? (count / podHealth.total) * 100 : 0;\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">Pod Health Breakdown</h4>\n      \n      {/* Visual Bar Chart */}\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden\">\n        <div className=\"h-full flex\">\n          {podHealth.running > 0 && (\n            <div \n              className=\"bg-green-500 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.running)}%` }}\n              title={`Running: ${podHealth.running} pods`}\n            />\n          )}\n          {podHealth.pending > 0 && (\n            <div \n              className=\"bg-yellow-500 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.pending)}%` }}\n              title={`Pending: ${podHealth.pending} pods`}\n            />\n          )}\n          {podHealth.failed > 0 && (\n            <div \n              className=\"bg-red-500 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.failed)}%` }}\n              title={`Failed: ${podHealth.failed} pods`}\n            />\n          )}\n          {podHealth.crashLoopBackOff > 0 && (\n            <div \n              className=\"bg-red-600 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.crashLoopBackOff)}%` }}\n              title={`CrashLoop: ${podHealth.crashLoopBackOff} pods`}\n            />\n          )}\n          {podHealth.imagePullBackOff > 0 && (\n            <div \n              className=\"bg-orange-500 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.imagePullBackOff)}%` }}\n              title={`ImagePull: ${podHealth.imagePullBackOff} pods`}\n            />\n          )}\n          {podHealth.unknown > 0 && (\n            <div \n              className=\"bg-gray-500 h-full\" \n              style={{ width: `${getStatusPercentage(podHealth.unknown)}%` }}\n              title={`Unknown: ${podHealth.unknown} pods`}\n            />\n          )}\n        </div>\n      </div>\n\n      {/* Detailed Stats */}\n      <div className=\"grid grid-cols-3 gap-2 text-xs\">\n        {podHealth.running > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Running: {podHealth.running}</span>\n          </div>\n        )}\n        {podHealth.pending > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Pending: {podHealth.pending}</span>\n          </div>\n        )}\n        {podHealth.failed > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Failed: {podHealth.failed}</span>\n          </div>\n        )}\n        {podHealth.crashLoopBackOff > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-red-600 rounded-full animate-pulse\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">CrashLoop: {podHealth.crashLoopBackOff}</span>\n          </div>\n        )}\n        {podHealth.imagePullBackOff > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-orange-500 rounded-full\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">ImagePull: {podHealth.imagePullBackOff}</span>\n          </div>\n        )}\n        {podHealth.unknown > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-gray-500 rounded-full\"></div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Unknown: {podHealth.unknown}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n/**\n * KubernetesStatusPanel Component\n * \n * Displays comprehensive Kubernetes cluster monitoring information including:\n * - Cluster health overview with status indicators\n * - Resource utilization metrics and trends\n * - Node status visualization and details\n * - Real-time updates and filtering\n * - Interactive cluster management\n * - Enhanced alerting and health scoring\n */\nexport const KubernetesStatusPanel: React.FC<KubernetesStatusPanelProps> = ({\n  projectId,\n  refreshInterval = 30000, // 30 seconds default\n  showNodeDetails = true,\n  enableRealTimeUpdates = true,\n  className = ''\n}) => {\n  // State management\n  const [clusters, setClusters] = useState<Cluster[]>([]);\n  const [selectedCluster, setSelectedCluster] = useState<Cluster | null>(null);\n  const [selectedNode, setSelectedNode] = useState<NodeDetail | undefined>(undefined);\n  const [clusterStats, setClusterStats] = useState<ClusterStats | null>(null);\n  const [liveMetrics, setLiveMetrics] = useState<KubernetesMetrics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [lastRefresh, setLastRefresh] = useState<Date>(new Date());\n  const [filterStatus, setFilterStatus] = useState<ClusterStatus | 'all'>('all');\n\n  // Enhanced state for alerts and health\n  const [clusterAlerts, setClusterAlerts] = useState<ClusterAlert[]>([]);\n  const [healthScore, setHealthScore] = useState<ClusterHealthScore | null>(null);\n  const [podHealthBreakdown, setPodHealthBreakdown] = useState<PodHealthBreakdown | null>(null);\n\n  // Detailed view states\n  const [showPodDetails, setShowPodDetails] = useState(false);\n  const [showContainerLogs, setShowContainerLogs] = useState(false);\n  const [selectedPodForLogs, setSelectedPodForLogs] = useState<{ podName: string; containerName: string } | null>(null);\n  const [showEventsTimeline, setShowEventsTimeline] = useState(false);\n  const [showResourceUsage, setShowResourceUsage] = useState(false);\n\n  // Real-time updates\n  const [eventsState, eventsActions] = useKubernetesEvents({\n    clusterId: selectedCluster?.id.toString(),\n    enabled: enableRealTimeUpdates,\n    autoConnect: enableRealTimeUpdates,\n    maxEvents: 50\n  });\n\n  const { isConnected: wsConnected, isConnecting: wsConnecting, error: wsError } = useWebSocketConnection();\n\n  // Responsive design\n  const { isMobile, isTablet } = useResponsive();\n\n  // Calculate cluster health score based on metrics\n  const calculateHealthScore = useCallback((cluster: Cluster): ClusterHealthScore => {\n    // Resource health (CPU, Memory, Storage)\n    const cpuHealth = 100 - Math.max(0, (cluster.cpu_utilization_percent || 0) - 70) * 3; // Penalty after 70%\n    const memoryHealth = 100 - Math.max(0, (cluster.memory_utilization_percent || 0) - 80) * 2.5; // Penalty after 80%\n    const storageHealth = 100 - Math.max(0, (cluster.storage_utilization_percent || 0) - 85) * 2; // Penalty after 85%\n    const resourcesScore = Math.max(0, (cpuHealth + memoryHealth + storageHealth) / 3);\n\n    // Node health\n    const nodeReadyRatio = cluster.total_nodes > 0 ? (cluster.ready_nodes / cluster.total_nodes) * 100 : 100;\n    const nodesScore = Math.max(0, nodeReadyRatio);\n\n    // Pod health\n    const podRunningRatio = cluster.total_pods > 0 ? ((cluster.running_pods || 0) / cluster.total_pods) * 100 : 100;\n    const podsScore = Math.max(0, podRunningRatio);\n\n    // Network health (simplified - based on overall cluster status)\n    const networkScore = cluster.status === 'healthy' ? 100 : \n                        cluster.status === 'warning' ? 75 : \n                        cluster.status === 'critical' ? 40 : 20;\n\n    // Overall score (weighted average)\n    const overallScore = (resourcesScore * 0.3) + (nodesScore * 0.25) + (podsScore * 0.25) + (networkScore * 0.2);\n\n    return {\n      overall: Math.max(0, Math.min(100, overallScore)),\n      breakdown: {\n        resources: Math.max(0, Math.min(100, resourcesScore)),\n        nodes: Math.max(0, Math.min(100, nodesScore)),\n        pods: Math.max(0, Math.min(100, podsScore)),\n        network: Math.max(0, Math.min(100, networkScore))\n      }\n    };\n  }, []);\n\n  // Generate cluster alerts based on current metrics\n  const generateClusterAlerts = useCallback((cluster: Cluster): ClusterAlert[] => {\n    const alerts: ClusterAlert[] = [];\n    const timestamp = new Date().toISOString();\n\n    // Resource alerts\n    if ((cluster.cpu_utilization_percent || 0) > 90) {\n      alerts.push({\n        id: `cpu-critical-${cluster.id}`,\n        severity: 'critical',\n        message: `CPU utilization is critically high at ${Math.round(cluster.cpu_utilization_percent || 0)}%`,\n        timestamp,\n        type: 'resource'\n      });\n    } else if ((cluster.cpu_utilization_percent || 0) > 80) {\n      alerts.push({\n        id: `cpu-warning-${cluster.id}`,\n        severity: 'warning',\n        message: `CPU utilization is high at ${Math.round(cluster.cpu_utilization_percent || 0)}%`,\n        timestamp,\n        type: 'resource'\n      });\n    }\n\n    if ((cluster.memory_utilization_percent || 0) > 95) {\n      alerts.push({\n        id: `memory-critical-${cluster.id}`,\n        severity: 'critical',\n        message: `Memory utilization is critically high at ${Math.round(cluster.memory_utilization_percent || 0)}%`,\n        timestamp,\n        type: 'resource'\n      });\n    } else if ((cluster.memory_utilization_percent || 0) > 85) {\n      alerts.push({\n        id: `memory-warning-${cluster.id}`,\n        severity: 'warning',\n        message: `Memory utilization is high at ${Math.round(cluster.memory_utilization_percent || 0)}%`,\n        timestamp,\n        type: 'resource'\n      });\n    }\n\n    // Node alerts\n    const nodeReadyRatio = cluster.total_nodes > 0 ? cluster.ready_nodes / cluster.total_nodes : 1;\n    if (nodeReadyRatio < 0.8) {\n      alerts.push({\n        id: `nodes-critical-${cluster.id}`,\n        severity: 'critical',\n        message: `Only ${cluster.ready_nodes}/${cluster.total_nodes} nodes are ready`,\n        timestamp,\n        type: 'node'\n      });\n    } else if (nodeReadyRatio < 0.9) {\n      alerts.push({\n        id: `nodes-warning-${cluster.id}`,\n        severity: 'warning',\n        message: `${cluster.ready_nodes}/${cluster.total_nodes} nodes are ready`,\n        timestamp,\n        type: 'node'\n      });\n    }\n\n    // Pod alerts\n    if ((cluster.failed_pods || 0) > 0) {\n      alerts.push({\n        id: `pods-failed-${cluster.id}`,\n        severity: cluster.failed_pods > 5 ? 'critical' : 'warning',\n        message: `${cluster.failed_pods} pod${cluster.failed_pods > 1 ? 's' : ''} in failed state`,\n        timestamp,\n        type: 'pod'\n      });\n    }\n\n    if ((cluster.pending_pods || 0) > 10) {\n      alerts.push({\n        id: `pods-pending-${cluster.id}`,\n        severity: 'warning',\n        message: `${cluster.pending_pods} pods are pending scheduling`,\n        timestamp,\n        type: 'pod'\n      });\n    }\n\n    return alerts;\n  }, []);\n\n  // Generate pod health breakdown\n  const generatePodHealthBreakdown = useCallback((cluster: Cluster): PodHealthBreakdown => {\n    return {\n      running: cluster.running_pods || 0,\n      pending: cluster.pending_pods || 0,\n      failed: cluster.failed_pods || 0,\n      succeeded: 0, // Would need additional API data\n      unknown: 0, // Would need additional API data\n      crashLoopBackOff: 0, // Would need additional API data\n      imagePullBackOff: 0, // Would need additional API data\n      total: cluster.total_pods || 0\n    };\n  }, []);\n\n  // Fetch clusters data\n  const fetchClusters = useCallback(async () => {\n    try {\n      setError(null);\n      const params = new URLSearchParams();\n      if (projectId) params.append('project_id', projectId.toString());\n      \n      const response = await fetch(`/api/v1/kubernetes/clusters?${params}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch clusters: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      setClusters(data);\n      \n      // Select first cluster if none selected\n      if (!selectedCluster && data.length > 0) {\n        setSelectedCluster(data[0]);\n      }\n      \n      setLastRefresh(new Date());\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch cluster data');\n    }\n  }, [projectId, selectedCluster]);\n\n  // Fetch cluster statistics\n  const fetchClusterStats = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n      if (projectId) params.append('project_id', projectId.toString());\n      \n      const response = await fetch(`/api/v1/kubernetes/stats?${params}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch cluster statistics: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      setClusterStats(data);\n    } catch (err) {\n      console.warn('Failed to fetch cluster statistics:', err);\n    }\n  }, [projectId]);\n\n  // Fetch live metrics for selected cluster\n  const fetchLiveMetrics = useCallback(async () => {\n    if (!selectedCluster) return;\n    \n    try {\n      const response = await fetch(`/api/v1/kubernetes/clusters/${selectedCluster.id}/metrics`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch live metrics: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      setLiveMetrics(data);\n    } catch (err) {\n      console.warn('Failed to fetch live metrics:', err);\n    }\n  }, [selectedCluster]);\n\n  // Sync cluster health (trigger background sync)\n  const syncClusterHealth = useCallback(async () => {\n    if (!selectedCluster) return;\n    \n    try {\n      await fetch(`/api/v1/kubernetes/clusters/${selectedCluster.id}/sync`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      // Refresh data after sync\n      setTimeout(() => {\n        fetchClusters();\n        fetchLiveMetrics();\n      }, 2000);\n    } catch (err) {\n      console.warn('Failed to sync cluster health:', err);\n    }\n  }, [selectedCluster, fetchClusters, fetchLiveMetrics]);\n\n  // Initial load and setup refresh intervals\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      await Promise.all([\n        fetchClusters(),\n        fetchClusterStats()\n      ]);\n      setLoading(false);\n    };\n\n    loadData();\n    \n    if (enableRealTimeUpdates && refreshInterval > 0) {\n      const interval = setInterval(() => {\n        fetchClusters();\n        fetchClusterStats();\n        if (selectedCluster) {\n          fetchLiveMetrics();\n        }\n      }, refreshInterval);\n      \n      return () => clearInterval(interval);\n    }\n  }, [fetchClusters, fetchClusterStats, refreshInterval, enableRealTimeUpdates, selectedCluster]);\n\n  // Fetch live metrics when cluster selection changes\n  useEffect(() => {\n    if (selectedCluster) {\n      fetchLiveMetrics();\n      \n      // Update health score and alerts for selected cluster\n      const health = calculateHealthScore(selectedCluster);\n      const alerts = generateClusterAlerts(selectedCluster);\n      const podHealth = generatePodHealthBreakdown(selectedCluster);\n      \n      setHealthScore(health);\n      setClusterAlerts(alerts);\n      setPodHealthBreakdown(podHealth);\n    } else {\n      setHealthScore(null);\n      setClusterAlerts([]);\n      setPodHealthBreakdown(null);\n    }\n  }, [selectedCluster, fetchLiveMetrics, calculateHealthScore, generateClusterAlerts, generatePodHealthBreakdown]);\n\n  // Handle real-time events for optimized updates\n  useEffect(() => {\n    if (!enableRealTimeUpdates || !eventsState.events.length) return;\n\n    // Process recent events to trigger selective updates\n    const recentEvents = eventsState.events.filter(event => {\n      const eventTime = new Date(event.timestamp);\n      const now = new Date();\n      return (now.getTime() - eventTime.getTime()) < 30000; // Last 30 seconds\n    });\n\n    if (recentEvents.length === 0) return;\n\n    // Check if any events affect the current cluster\n    const clusterEvents = selectedCluster \n      ? recentEvents.filter(event => event.clusterId === selectedCluster.id.toString())\n      : recentEvents;\n\n    if (clusterEvents.length === 0) return;\n\n    // Trigger selective updates based on event types\n    const hasClusterEvents = clusterEvents.some(e => e.type === 'cluster');\n    const hasNodeEvents = clusterEvents.some(e => e.type === 'node');\n    const hasPodEvents = clusterEvents.some(e => e.type === 'pod');\n    const hasResourceEvents = clusterEvents.some(e => e.type === 'resource');\n\n    // Debounced updates to prevent too frequent refreshes\n    const updateTimer = setTimeout(() => {\n      if (hasClusterEvents || hasNodeEvents) {\n        fetchClusters();\n      }\n      if (hasResourceEvents || hasPodEvents) {\n        fetchLiveMetrics();\n      }\n      if (selectedCluster && (hasClusterEvents || hasNodeEvents || hasPodEvents || hasResourceEvents)) {\n        // Recalculate health metrics\n        const health = calculateHealthScore(selectedCluster);\n        const alerts = generateClusterAlerts(selectedCluster);\n        const podHealth = generatePodHealthBreakdown(selectedCluster);\n        \n        setHealthScore(health);\n        setClusterAlerts(alerts);\n        setPodHealthBreakdown(podHealth);\n      }\n    }, 1000); // 1 second debounce\n\n    return () => clearTimeout(updateTimer);\n  }, [eventsState.events, enableRealTimeUpdates, selectedCluster, fetchClusters, fetchLiveMetrics, calculateHealthScore, generateClusterAlerts, generatePodHealthBreakdown]);\n\n  // Filter clusters by status\n  const filteredClusters = useMemo(() => {\n    if (filterStatus === 'all') return clusters;\n    return clusters.filter(cluster => cluster.status === filterStatus);\n  }, [clusters, filterStatus]);\n\n  // Get status color for cluster status\n  const getStatusColor = (status: ClusterStatus): 'success' | 'warning' | 'error' | 'info' | 'neutral' => {\n    switch (status) {\n      case 'healthy': return 'success';\n      case 'warning': return 'warning';\n      case 'critical': return 'error';\n      case 'offline': return 'error';\n      case 'unknown': return 'neutral';\n      default: return 'neutral';\n    }\n  };\n\n  // Format large numbers\n  const formatNumber = (num: number): string => {\n    if (num < 1000) return num.toString();\n    if (num < 1000000) return `${(num / 1000).toFixed(1)}K`;\n    return `${(num / 1000000).toFixed(1)}M`;\n  };\n\n  // Format bytes to readable units\n  const formatBytes = (bytes?: number): string => {\n    if (!bytes) return 'N/A';\n    const units = ['B', 'KB', 'MB', 'GB', 'TB'];\n    let size = bytes;\n    let unitIndex = 0;\n    \n    while (size >= 1024 && unitIndex < units.length - 1) {\n      size /= 1024;\n      unitIndex++;\n    }\n    \n    return `${size.toFixed(1)} ${units[unitIndex]}`;\n  };\n\n  // Format duration\n  const formatDuration = (dateString?: string): string => {\n    if (!dateString) return 'Never';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMinutes = Math.floor(diffMs / (1000 * 60));\n    \n    if (diffMinutes < 1) return 'Just now';\n    if (diffMinutes < 60) return `${diffMinutes}m ago`;\n    \n    const diffHours = Math.floor(diffMinutes / 60);\n    if (diffHours < 24) return `${diffHours}h ago`;\n    \n    const diffDays = Math.floor(diffHours / 24);\n    return `${diffDays}d ago`;\n  };\n\n  // Handle node selection\n  const handleNodeClick = useCallback((node: NodeDetail) => {\n    setSelectedNode(selectedNode?.name === node.name ? undefined : node);\n  }, [selectedNode]);\n\n  // Handle detailed view actions\n  const handleShowPodDetails = () => {\n    setShowPodDetails(true);\n  };\n\n  const handleClosePodDetails = () => {\n    setShowPodDetails(false);\n  };\n\n  const handleContainerLogsRequest = (podName: string, containerName: string) => {\n    setSelectedPodForLogs({ podName, containerName });\n    setShowContainerLogs(true);\n  };\n\n  const handleCloseContainerLogs = () => {\n    setShowContainerLogs(false);\n    setSelectedPodForLogs(null);\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className={`space-y-6 ${className}`}>\n        <LoadingSkeleton variant=\"card\" />\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className={`bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg p-6 ${className}`}>\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <svg className=\"h-6 w-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n              Failed to load cluster data\n            </h3>\n            <p className=\"mt-1 text-sm text-red-700 dark:text-red-300\">{error}</p>\n            <div className=\"mt-4\">\n              <Button\n                onClick={() => {\n                  setError(null);\n                  fetchClusters();\n                }}\n                size=\"sm\"\n                variant=\"outline\"\n              >\n                Retry\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // No clusters state\n  if (clusters.length === 0) {\n    return (\n      <div className={`text-center py-12 ${className}`}>\n        <div className=\"text-gray-400 dark:text-gray-600\">\n          <svg className=\"mx-auto h-16 w-16 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n          </svg>\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\n            No Kubernetes Clusters\n          </h3>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\n            No clusters are configured for monitoring. Add a cluster to get started.\n          </p>\n          <Button onClick={() => window.location.reload()}>\n            Refresh\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header Section */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n            Kubernetes Clusters\n          </h2>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n            Monitor cluster health, resource utilization, and node status\n          </p>\n        </div>\n        \n        <div className=\"mt-4 sm:mt-0 flex items-center space-x-4\">\n          {/* Status Filter */}\n          <select\n            value={filterStatus}\n            onChange={(e) => setFilterStatus(e.target.value as ClusterStatus | 'all')}\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-sm bg-white dark:bg-gray-800\"\n          >\n            <option value=\"all\">All Status</option>\n            <option value=\"healthy\">Healthy</option>\n            <option value=\"warning\">Warning</option>\n            <option value=\"critical\">Critical</option>\n            <option value=\"offline\">Offline</option>\n          </select>\n\n          {/* Events Timeline Toggle */}\n          <Button\n            onClick={() => setShowEventsTimeline(!showEventsTimeline)}\n            size=\"sm\"\n            variant={showEventsTimeline ? \"default\" : \"outline\"}\n            className=\"relative\"\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            Events\n            {enableRealTimeUpdates && (\n              <div className={`absolute -top-1 -right-1 w-2 h-2 rounded-full ${\n                wsConnected ? 'bg-green-500' : 'bg-red-500'\n              }`} />\n            )}\n          </Button>\n\n          {/* Resource Usage Toggle */}\n          <Button\n            onClick={() => setShowResourceUsage(!showResourceUsage)}\n            size=\"sm\"\n            variant={showResourceUsage ? \"default\" : \"outline\"}\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n            </svg>\n            Resources\n          </Button>\n\n          {/* Sync Button */}\n          <Button\n            onClick={syncClusterHealth}\n            disabled={!selectedCluster}\n            size=\"sm\"\n            variant=\"outline\"\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Sync Health\n          </Button>\n\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n            Last updated: {formatDuration(lastRefresh.toISOString())}\n          </div>\n        </div>\n      </div>\n\n      {/* Overall Statistics */}\n      {clusterStats && (\n        <MetricCardGrid columns={{ sm: 2, md: 3, lg: 5 }} gap=\"md\">\n          <MetricCard\n            title=\"Total Clusters\"\n            value={clusterStats.total_clusters}\n            icon={\n              <svg className=\"h-6 w-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n              </svg>\n            }\n            size=\"sm\"\n          />\n          \n          <MetricCard\n            title=\"Healthy Clusters\"\n            value={clusterStats.healthy_clusters}\n            subtitle={`${Math.round((clusterStats.healthy_clusters / clusterStats.total_clusters) * 100)}% healthy`}\n            icon={\n              <svg className=\"h-6 w-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            }\n            size=\"sm\"\n          />\n          \n          <MetricCard\n            title=\"Total Nodes\"\n            value={formatNumber(clusterStats.total_nodes)}\n            icon={\n              <svg className=\"h-6 w-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2\" />\n              </svg>\n            }\n            size=\"sm\"\n          />\n          \n          <MetricCard\n            title=\"Total Pods\"\n            value={formatNumber(clusterStats.total_pods)}\n            icon={\n              <svg className=\"h-6 w-6 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n              </svg>\n            }\n            size=\"sm\"\n          />\n          \n          <MetricCard\n            title=\"Avg CPU Usage\"\n            value={`${Math.round(clusterStats.average_cpu_utilization)}%`}\n            trend={{\n              value: clusterStats.average_cpu_utilization < 70 ? 'Good' : 'High',\n              direction: clusterStats.average_cpu_utilization < 70 ? 'neutral' : 'up'\n            }}\n            icon={\n              <svg className=\"h-6 w-6 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n              </svg>\n            }\n            size=\"sm\"\n          />\n        </MetricCardGrid>\n      )}\n\n      {/* Cluster Selection */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n          Cluster Overview\n        </h3>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6\">\n          {filteredClusters.map((cluster) => (\n            <div\n              key={cluster.id}\n              className={`\n                p-4 border-2 rounded-lg cursor-pointer transition-all duration-200\n                ${selectedCluster?.id === cluster.id \n                  ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/50' \n                  : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                }\n              `}\n              onClick={() => setSelectedCluster(cluster)}\n            >\n              <div className=\"flex items-start justify-between mb-3\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900 dark:text-gray-100\">\n                    {cluster.display_name || cluster.name}\n                  </h4>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    {cluster.provider} â€¢ {cluster.region}\n                  </p>\n                </div>\n                <StatusIndicator \n                  status={getStatusColor(cluster.status)} \n                  size=\"sm\"\n                  label={cluster.status}\n                />\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-gray-500 dark:text-gray-400\">Nodes:</span>\n                  <span className=\"ml-1 font-medium\">{cluster.ready_nodes}/{cluster.total_nodes}</span>\n                </div>\n                <div>\n                  <span className=\"text-gray-500 dark:text-gray-400\">Pods:</span>\n                  <span className=\"ml-1 font-medium\">{cluster.running_pods}</span>\n                </div>\n                <div>\n                  <span className=\"text-gray-500 dark:text-gray-400\">CPU:</span>\n                  <span className=\"ml-1 font-medium\">{Math.round(cluster.cpu_utilization_percent || 0)}%</span>\n                </div>\n                <div>\n                  <span className=\"text-gray-500 dark:text-gray-400\">Memory:</span>\n                  <span className=\"ml-1 font-medium\">{Math.round(cluster.memory_utilization_percent || 0)}%</span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Cluster Health and Alerts */}\n      {selectedCluster && clusterAlerts.length > 0 && (\n        <AlertIndicator alerts={clusterAlerts} />\n      )}\n\n      {/* Selected Cluster Details */}\n      {selectedCluster && (\n        <div className=\"space-y-6\">\n          {/* Health Score and Pod Health Row */}\n          <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\n            {healthScore && (\n              <HealthScoreIndicator healthScore={healthScore} />\n            )}\n            {podHealthBreakdown && (\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n                <PodHealthVisualization podHealth={podHealthBreakdown} />\n              </div>\n            )}\n          </div>\n\n          {/* Resource Metrics Row */}\n          <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\n          {/* Cluster Resource Metrics */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n              Resource Utilization\n            </h3>\n            \n            <MetricCardGrid columns={{ sm: 1, md: 2 }} gap=\"md\">\n              <MetricCard\n                title=\"CPU Usage\"\n                value={`${Math.round(selectedCluster.cpu_utilization_percent || 0)}%`}\n                subtitle={`${selectedCluster.used_cpu_cores || 0} of ${selectedCluster.allocatable_cpu_cores || 0} cores`}\n                trend={{\n                  value: `${Math.round(selectedCluster.cpu_utilization_percent || 0)}%`,\n                  direction: (selectedCluster.cpu_utilization_percent || 0) > 90 ? 'up' : \n                           (selectedCluster.cpu_utilization_percent || 0) > 80 ? 'neutral' : 'down'\n                }}\n                icon={\n                  <svg className={`h-6 w-6 ${\n                    (selectedCluster.cpu_utilization_percent || 0) > 90 ? 'text-red-600' :\n                    (selectedCluster.cpu_utilization_percent || 0) > 80 ? 'text-orange-600' :\n                    'text-green-600'\n                  }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                }\n                size=\"md\"\n                className={\n                  (selectedCluster.cpu_utilization_percent || 0) > 90 ? 'border-red-300 bg-red-50 dark:bg-red-900/20' :\n                  (selectedCluster.cpu_utilization_percent || 0) > 80 ? 'border-orange-300 bg-orange-50 dark:bg-orange-900/20' :\n                  ''\n                }\n              />\n              \n              <MetricCard\n                title=\"Memory Usage\"\n                value={`${Math.round(selectedCluster.memory_utilization_percent || 0)}%`}\n                subtitle={`${formatBytes((selectedCluster.used_memory_gb || 0) * 1024 * 1024 * 1024)} of ${formatBytes((selectedCluster.allocatable_memory_gb || 0) * 1024 * 1024 * 1024)}`}\n                trend={{\n                  value: `${Math.round(selectedCluster.memory_utilization_percent || 0)}%`,\n                  direction: (selectedCluster.memory_utilization_percent || 0) > 95 ? 'up' : \n                           (selectedCluster.memory_utilization_percent || 0) > 85 ? 'neutral' : 'down'\n                }}\n                icon={\n                  <svg className={`h-6 w-6 ${\n                    (selectedCluster.memory_utilization_percent || 0) > 95 ? 'text-red-600' :\n                    (selectedCluster.memory_utilization_percent || 0) > 85 ? 'text-orange-600' :\n                    'text-green-600'\n                  }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z\" />\n                  </svg>\n                }\n                size=\"md\"\n                className={\n                  (selectedCluster.memory_utilization_percent || 0) > 95 ? 'border-red-300 bg-red-50 dark:bg-red-900/20' :\n                  (selectedCluster.memory_utilization_percent || 0) > 85 ? 'border-orange-300 bg-orange-50 dark:bg-orange-900/20' :\n                  ''\n                }\n              />\n              \n              <MetricCard\n                title=\"Storage Usage\"\n                value={`${Math.round(selectedCluster.storage_utilization_percent || 0)}%`}\n                subtitle={`${formatBytes((selectedCluster.used_storage_gb || 0) * 1024 * 1024 * 1024)} of ${formatBytes((selectedCluster.total_storage_gb || 0) * 1024 * 1024 * 1024)}`}\n                trend={{\n                  value: `${Math.round(selectedCluster.storage_utilization_percent || 0)}%`,\n                  direction: (selectedCluster.storage_utilization_percent || 0) > 90 ? 'up' : \n                           (selectedCluster.storage_utilization_percent || 0) > 80 ? 'neutral' : 'down'\n                }}\n                icon={\n                  <svg className={`h-6 w-6 ${\n                    (selectedCluster.storage_utilization_percent || 0) > 90 ? 'text-red-600' :\n                    (selectedCluster.storage_utilization_percent || 0) > 80 ? 'text-orange-600' :\n                    'text-blue-600'\n                  }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4\" />\n                  </svg>\n                }\n                size=\"md\"\n                className={\n                  (selectedCluster.storage_utilization_percent || 0) > 90 ? 'border-red-300 bg-red-50 dark:bg-red-900/20' :\n                  (selectedCluster.storage_utilization_percent || 0) > 80 ? 'border-orange-300 bg-orange-50 dark:bg-orange-900/20' :\n                  ''\n                }\n              />\n              \n              <MetricCard\n                title=\"Pod Count\"\n                value={selectedCluster.running_pods}\n                subtitle={`${selectedCluster.pending_pods} pending, ${selectedCluster.failed_pods} failed`}\n                icon={\n                  <svg className=\"h-6 w-6 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n                  </svg>\n                }\n                size=\"md\"\n              />\n            </MetricCardGrid>\n          </div>\n\n          {/* Node Status Visualization */}\n          {showNodeDetails && selectedCluster.node_details && (\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n                Node Status Map\n              </h3>\n              \n              <ClusterNodeMap\n                nodes={selectedCluster.node_details}\n                onNodeClick={handleNodeClick}\n                selectedNode={selectedNode}\n                showTooltip={true}\n                gridConfig={{ columns: 'auto', maxWidth: '100%' }}\n                size={isMobile ? 'sm' : 'md'}\n              />\n              \n              {/* Selected Node Details */}\n              {selectedNode && (\n                <div className=\"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                  <h4 className=\"font-medium text-gray-900 dark:text-gray-100 mb-3\">\n                    Node Details: {selectedNode.name}\n                  </h4>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-gray-500 dark:text-gray-400\">Status:</span>\n                      <StatusIndicator \n                        status={getStatusColor(selectedNode.status as ClusterStatus)} \n                        size=\"sm\"\n                        label={selectedNode.status}\n                        className=\"ml-2\"\n                      />\n                    </div>\n                    <div>\n                      <span className=\"text-gray-500 dark:text-gray-400\">Last Heartbeat:</span>\n                      <span className=\"ml-2\">{formatDuration(selectedNode.last_heartbeat)}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-500 dark:text-gray-400\">CPU Usage:</span>\n                      <span className=\"ml-2\">{Math.round(selectedNode.cpu_usage || 0)}%</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-500 dark:text-gray-400\">Memory Usage:</span>\n                      <span className=\"ml-2\">{Math.round(selectedNode.memory_usage || 0)}%</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-500 dark:text-gray-400\">Disk Usage:</span>\n                      <span className=\"ml-2\">{Math.round(selectedNode.disk_usage || 0)}%</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Workload Summary */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n              Workload Summary\n            </h3>\n            <div className=\"flex space-x-2\">\n              <Button\n                onClick={handleShowPodDetails}\n                size=\"sm\"\n                variant=\"outline\"\n              >\n                <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n                </svg>\n                Pod Details\n              </Button>\n            </div>\n          </div>\n          \n          <MetricCardGrid columns={{ sm: 2, md: 3, lg: 6 }} gap=\"sm\">\n            <MetricCard\n              title=\"Namespaces\"\n              value={selectedCluster?.total_namespaces || 0}\n              size=\"sm\"\n            />\n            <MetricCard\n              title=\"Services\"\n              value={selectedCluster?.total_services || 0}\n              size=\"sm\"\n            />\n            <MetricCard\n              title=\"Ingresses\"\n              value={selectedCluster?.total_ingresses || 0}\n              size=\"sm\"\n            />\n            <MetricCard\n              title=\"Deployments\"\n              value={selectedCluster?.total_deployments || 0}\n              size=\"sm\"\n            />\n            <MetricCard\n              title=\"StatefulSets\"\n              value={selectedCluster?.total_statefulsets || 0}\n              size=\"sm\"\n            />\n            <MetricCard\n              title=\"DaemonSets\"\n              value={selectedCluster?.total_daemonsets || 0}\n              size=\"sm\"\n            />\n          </MetricCardGrid>\n        </div>\n      </div>\n      )}\n\n      {/* Events Timeline */}\n      {showEventsTimeline && (\n        <div className=\"mt-6\">\n          <EventsTimeline\n            clusterId={selectedCluster?.id.toString()}\n            maxEvents={100}\n            showConnectionStatus={true}\n            autoRefresh={enableRealTimeUpdates}\n            className=\"max-h-96\"\n          />\n        </div>\n      )}\n\n      {/* Resource Usage Panel */}\n      {showResourceUsage && selectedCluster && (\n        <div className=\"mt-6\">\n                     <ResourceUsagePanel\n             currentMetrics={liveMetrics ? {\n               cpu: {\n                 usage: liveMetrics.resource_metrics.cpu.used || 0,\n                 limit: liveMetrics.resource_metrics.cpu.allocatable || 1,\n                 requests: liveMetrics.resource_metrics.cpu.used || 0\n               },\n               memory: {\n                 usage: (liveMetrics.resource_metrics.memory.used_gb || 0) * 1024,\n                 limit: (liveMetrics.resource_metrics.memory.allocatable_gb || 1) * 1024,\n                 requests: (liveMetrics.resource_metrics.memory.used_gb || 0) * 1024\n               },\n               storage: {\n                 usage: liveMetrics.resource_metrics.storage.used_gb || 0,\n                 limit: liveMetrics.resource_metrics.storage.total_gb || 100\n               },\n               network: {\n                 inbound: selectedCluster.network_in_bytes || 0,\n                 outbound: selectedCluster.network_out_bytes || 0\n               }\n             } : {\n               cpu: {\n                 usage: selectedCluster.used_cpu_cores || 0,\n                 limit: selectedCluster.allocatable_cpu_cores || 1,\n                 requests: selectedCluster.used_cpu_cores || 0\n               },\n               memory: {\n                 usage: (selectedCluster.used_memory_gb || 0) * 1024,\n                 limit: (selectedCluster.allocatable_memory_gb || 1) * 1024,\n                 requests: (selectedCluster.used_memory_gb || 0) * 1024\n               },\n               storage: {\n                 usage: selectedCluster.used_storage_gb || 0,\n                 limit: selectedCluster.total_storage_gb || 100\n               },\n               network: {\n                 inbound: selectedCluster.network_in_bytes || 0,\n                 outbound: selectedCluster.network_out_bytes || 0\n               }\n             }}\n            clusterId={selectedCluster.id.toString()}\n            realTimeEnabled={enableRealTimeUpdates}\n            title={`${selectedCluster.name} Resource Monitoring`}\n            showTrends={true}\n            defaultTimeRange=\"24h\"\n            className=\"max-h-[600px]\"\n          />\n        </div>\n      )}\n\n      {/* Real-time Connection Status */}\n      {enableRealTimeUpdates && wsError && (\n        <div className=\"mt-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-yellow-800 dark:text-yellow-200\">\n                Real-time Connection Issue\n              </h3>\n              <p className=\"mt-1 text-sm text-yellow-700 dark:text-yellow-300\">\n                {wsError} - Falling back to polling updates every {Math.round(refreshInterval / 1000)} seconds.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Pod Detail View Modal */}\n      {showPodDetails && selectedCluster && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n                Pod Details - {selectedCluster.name}\n              </h3>\n              <Button\n                onClick={handleClosePodDetails}\n                size=\"sm\"\n                variant=\"ghost\"\n              >\n                <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </Button>\n            </div>\n            <div className=\"p-4 overflow-y-auto max-h-[calc(90vh-80px)]\">\n              <PodDetailView\n                clusterId={selectedCluster.id.toString()}\n                onContainerLogsRequest={handleContainerLogsRequest}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Container Logs Modal */}\n      {showContainerLogs && selectedPodForLogs && selectedCluster && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden\">\n            <div className=\"overflow-y-auto max-h-[90vh]\">\n              <ContainerLogsViewer\n                clusterId={selectedCluster.id.toString()}\n                podName={selectedPodForLogs.podName}\n                containerName={selectedPodForLogs.containerName}\n                onClose={handleCloseContainerLogs}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default KubernetesStatusPanel;\n"],"names":["KubernetesStatusPanel","AlertIndicator","alerts","criticalAlerts","filter","a","severity","warningAlerts","length","div","className","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","h4","span","ul","slice","map","alert","li","message","id","HealthScoreIndicator","healthScore","getScoreColor","score","getScoreBgColor","overall","Math","round","breakdown","resources","nodes","pods","network","PodHealthVisualization","podHealth","getStatusColor","status","getStatusPercentage","count","total","running","style","width","title","pending","failed","crashLoopBackOff","imagePullBackOff","unknown","projectId","refreshInterval","showNodeDetails","enableRealTimeUpdates","clusters","setClusters","useState","selectedCluster","setSelectedCluster","selectedNode","setSelectedNode","undefined","clusterStats","setClusterStats","liveMetrics","setLiveMetrics","loading","setLoading","error","setError","lastRefresh","setLastRefresh","Date","filterStatus","setFilterStatus","clusterAlerts","setClusterAlerts","setHealthScore","podHealthBreakdown","setPodHealthBreakdown","showPodDetails","setShowPodDetails","showContainerLogs","setShowContainerLogs","selectedPodForLogs","setSelectedPodForLogs","showEventsTimeline","setShowEventsTimeline","showResourceUsage","setShowResourceUsage","eventsState","eventsActions","useKubernetesEvents","clusterId","toString","enabled","autoConnect","maxEvents","isConnected","wsConnected","isConnecting","wsConnecting","wsError","useWebSocketConnection","isMobile","isTablet","useResponsive","calculateHealthScore","useCallback","cluster","cpuHealth","max","cpu_utilization_percent","memoryHealth","memory_utilization_percent","storageHealth","storage_utilization_percent","resourcesScore","nodeReadyRatio","total_nodes","ready_nodes","nodesScore","podRunningRatio","total_pods","running_pods","podsScore","networkScore","overallScore","min","generateClusterAlerts","timestamp","toISOString","push","type","failed_pods","pending_pods","generatePodHealthBreakdown","succeeded","fetchClusters","params","URLSearchParams","append","response","fetch","headers","localStorage","getItem","ok","Error","statusText","data","json","err","fetchClusterStats","console","warn","fetchLiveMetrics","syncClusterHealth","method","setTimeout","useEffect","loadData","Promise","all","interval","setInterval","clearInterval","health","events","recentEvents","event","eventTime","now","getTime","clusterEvents","hasClusterEvents","some","e","hasNodeEvents","hasPodEvents","hasResourceEvents","updateTimer","clearTimeout","filteredClusters","useMemo","formatNumber","num","toFixed","formatBytes","bytes","units","size","unitIndex","formatDuration","dateString","date","diffMs","diffMinutes","floor","diffHours","diffDays","handleNodeClick","node","name","handleShowPodDetails","handleClosePodDetails","handleContainerLogsRequest","podName","containerName","handleCloseContainerLogs","LoadingSkeleton","variant","h3","p","Button","onClick","window","location","reload","h2","select","value","onChange","target","option","disabled","MetricCardGrid","columns","sm","md","lg","gap","MetricCard","total_clusters","icon","healthy_clusters","subtitle","average_cpu_utilization","trend","direction","display_name","provider","region","StatusIndicator","label","used_cpu_cores","allocatable_cpu_cores","used_memory_gb","allocatable_memory_gb","used_storage_gb","total_storage_gb","node_details","ClusterNodeMap","onNodeClick","showTooltip","gridConfig","maxWidth","last_heartbeat","cpu_usage","memory_usage","disk_usage","total_namespaces","total_services","total_ingresses","total_deployments","total_statefulsets","total_daemonsets","EventsTimeline","showConnectionStatus","autoRefresh","ResourceUsagePanel","currentMetrics","cpu","usage","resource_metrics","used","limit","allocatable","requests","memory","used_gb","allocatable_gb","storage","total_gb","inbound","network_in_bytes","outbound","network_out_bytes","realTimeEnabled","showTrends","defaultTimeRange","PodDetailView","onContainerLogsRequest","ContainerLogsViewer","onClose"],"mappings":"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"}