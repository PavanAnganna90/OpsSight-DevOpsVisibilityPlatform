59cd2654867e2db76bb61ab84619baab
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _RoleTable = /*#__PURE__*/ _interop_require_default(require("./RoleTable"));
const _RoleEditorModal = /*#__PURE__*/ _interop_require_default(require("./RoleEditorModal"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Main page for managing roles and permissions.
 */ const RoleManagementPage = ()=>{
    const [selectedRole, setSelectedRole] = (0, _react.useState)(null);
    const [isModalOpen, setIsModalOpen] = (0, _react.useState)(false);
    const [refreshTrigger, setRefreshTrigger] = (0, _react.useState)(0);
    const tableRef = (0, _react.useRef)(null);
    const handleEditRole = (role)=>{
        setSelectedRole(role);
        setIsModalOpen(true);
    };
    const handleCreateRole = ()=>{
        setSelectedRole(null);
        setIsModalOpen(true);
    };
    const handleCloseModal = ()=>{
        setIsModalOpen(false);
        setSelectedRole(null);
    };
    const handleRoleUpdated = ()=>{
        // Trigger a refresh of the roles table
        setRefreshTrigger((prev)=>prev + 1);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "p-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                className: "text-2xl font-bold mb-4",
                children: "Role Management"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_RoleTable.default, {
                onEditRole: handleEditRole,
                onCreateRole: handleCreateRole,
                refreshTrigger: refreshTrigger,
                ref: tableRef
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_RoleEditorModal.default, {
                isOpen: isModalOpen,
                onClose: handleCloseModal,
                role: selectedRole,
                onRoleUpdated: handleRoleUpdated
            })
        ]
    });
};
const _default = RoleManagementPage;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9hZG1pbi9yb2xlLW1hbmFnZW1lbnQvUm9sZU1hbmFnZW1lbnRQYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSb2xlVGFibGUgZnJvbSAnLi9Sb2xlVGFibGUnO1xuaW1wb3J0IFJvbGVFZGl0b3JNb2RhbCBmcm9tICcuL1JvbGVFZGl0b3JNb2RhbCc7XG5pbXBvcnQgeyBSb2xlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvcm9sZSc7XG5cbi8qKlxuICogTWFpbiBwYWdlIGZvciBtYW5hZ2luZyByb2xlcyBhbmQgcGVybWlzc2lvbnMuXG4gKi9cbmNvbnN0IFJvbGVNYW5hZ2VtZW50UGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFtzZWxlY3RlZFJvbGUsIHNldFNlbGVjdGVkUm9sZV0gPSB1c2VTdGF0ZTxSb2xlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc01vZGFsT3Blbiwgc2V0SXNNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVmcmVzaFRyaWdnZXIsIHNldFJlZnJlc2hUcmlnZ2VyXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCB0YWJsZVJlZiA9IHVzZVJlZjx7IHJlZnJlc2hSb2xlczogKCkgPT4gdm9pZCB9IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlRWRpdFJvbGUgPSAocm9sZTogUm9sZSkgPT4ge1xuICAgIHNldFNlbGVjdGVkUm9sZShyb2xlKTtcbiAgICBzZXRJc01vZGFsT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDcmVhdGVSb2xlID0gKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkUm9sZShudWxsKTtcbiAgICBzZXRJc01vZGFsT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgIHNldElzTW9kYWxPcGVuKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZFJvbGUobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUm9sZVVwZGF0ZWQgPSAoKSA9PiB7XG4gICAgLy8gVHJpZ2dlciBhIHJlZnJlc2ggb2YgdGhlIHJvbGVzIHRhYmxlXG4gICAgc2V0UmVmcmVzaFRyaWdnZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00XCI+Um9sZSBNYW5hZ2VtZW50PC9oMT5cbiAgICAgIDxSb2xlVGFibGUgXG4gICAgICAgIG9uRWRpdFJvbGU9e2hhbmRsZUVkaXRSb2xlfSBcbiAgICAgICAgb25DcmVhdGVSb2xlPXtoYW5kbGVDcmVhdGVSb2xlfVxuICAgICAgICByZWZyZXNoVHJpZ2dlcj17cmVmcmVzaFRyaWdnZXJ9XG4gICAgICAgIHJlZj17dGFibGVSZWZ9XG4gICAgICAvPlxuICAgICAgPFJvbGVFZGl0b3JNb2RhbFxuICAgICAgICBpc09wZW49e2lzTW9kYWxPcGVufVxuICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZU1vZGFsfVxuICAgICAgICByb2xlPXtzZWxlY3RlZFJvbGV9XG4gICAgICAgIG9uUm9sZVVwZGF0ZWQ9e2hhbmRsZVJvbGVVcGRhdGVkfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvbGVNYW5hZ2VtZW50UGFnZTtcbiJdLCJuYW1lcyI6WyJSb2xlTWFuYWdlbWVudFBhZ2UiLCJzZWxlY3RlZFJvbGUiLCJzZXRTZWxlY3RlZFJvbGUiLCJ1c2VTdGF0ZSIsImlzTW9kYWxPcGVuIiwic2V0SXNNb2RhbE9wZW4iLCJyZWZyZXNoVHJpZ2dlciIsInNldFJlZnJlc2hUcmlnZ2VyIiwidGFibGVSZWYiLCJ1c2VSZWYiLCJoYW5kbGVFZGl0Um9sZSIsInJvbGUiLCJoYW5kbGVDcmVhdGVSb2xlIiwiaGFuZGxlQ2xvc2VNb2RhbCIsImhhbmRsZVJvbGVVcGRhdGVkIiwicHJldiIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwiUm9sZVRhYmxlIiwib25FZGl0Um9sZSIsIm9uQ3JlYXRlUm9sZSIsInJlZiIsIlJvbGVFZGl0b3JNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblJvbGVVcGRhdGVkIl0sIm1hcHBpbmdzIjoiOzs7OytCQXFEQTs7O2VBQUE7Ozs7K0RBckR3QztrRUFDbEI7d0VBQ007Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRzVCOztDQUVDLEdBQ0QsTUFBTUEscUJBQStCO0lBQ25DLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdDLElBQUFBLGVBQVEsRUFBYztJQUM5RCxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR0YsSUFBQUEsZUFBUSxFQUFDO0lBQy9DLE1BQU0sQ0FBQ0csZ0JBQWdCQyxrQkFBa0IsR0FBR0osSUFBQUEsZUFBUSxFQUFDO0lBQ3JELE1BQU1LLFdBQVdDLElBQUFBLGFBQU0sRUFBc0M7SUFFN0QsTUFBTUMsaUJBQWlCLENBQUNDO1FBQ3RCVCxnQkFBZ0JTO1FBQ2hCTixlQUFlO0lBQ2pCO0lBRUEsTUFBTU8sbUJBQW1CO1FBQ3ZCVixnQkFBZ0I7UUFDaEJHLGVBQWU7SUFDakI7SUFFQSxNQUFNUSxtQkFBbUI7UUFDdkJSLGVBQWU7UUFDZkgsZ0JBQWdCO0lBQ2xCO0lBRUEsTUFBTVksb0JBQW9CO1FBQ3hCLHVDQUF1QztRQUN2Q1Asa0JBQWtCUSxDQUFBQSxPQUFRQSxPQUFPO0lBQ25DO0lBRUEscUJBQ0Usc0JBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLHFCQUFDQztnQkFBR0QsV0FBVTswQkFBMEI7OzBCQUN4QyxxQkFBQ0Usa0JBQVM7Z0JBQ1JDLFlBQVlWO2dCQUNaVyxjQUFjVDtnQkFDZE4sZ0JBQWdCQTtnQkFDaEJnQixLQUFLZDs7MEJBRVAscUJBQUNlLHdCQUFlO2dCQUNkQyxRQUFRcEI7Z0JBQ1JxQixTQUFTWjtnQkFDVEYsTUFBTVY7Z0JBQ055QixlQUFlWjs7OztBQUl2QjtNQUVBLFdBQWVkIn0=