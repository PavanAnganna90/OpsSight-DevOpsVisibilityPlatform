08c7c58e38ff5a9d92582ea91df62130
/**
 * Host Coverage Map Component
 * 
 * Interactive visualization of Ansible automation coverage across infrastructure hosts.
 * Features:
 * - Grid layout showing all managed hosts
 * - Color-coded status indicators based on success rates
 * - Hover tooltips with detailed host information
 * - Interactive filtering by environment and success rate
 * - Responsive grid that adapts to screen size
 * - Loading and error states
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "HostCoverageMap", {
    enumerable: true,
    get: function() {
        return HostCoverageMap;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _useResponsive = require("../../hooks/useResponsive");
const _time = require("../../utils/time");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Get status color and level based on success rate
 */ const getHostStatus = (successRate, hasRecentRuns)=>{
    if (!hasRecentRuns) {
        return {
            status: 'No Data',
            color: '#6B7280',
            bgColor: '#F9FAFB',
            borderColor: '#E5E7EB'
        };
    }
    if (successRate >= 95) {
        return {
            status: 'Excellent',
            color: '#10B981',
            bgColor: '#D1FAE5',
            borderColor: '#6EE7B7'
        };
    } else if (successRate >= 85) {
        return {
            status: 'Good',
            color: '#059669',
            bgColor: '#A7F3D0',
            borderColor: '#34D399'
        };
    } else if (successRate >= 70) {
        return {
            status: 'Warning',
            color: '#F59E0B',
            bgColor: '#FEF3C7',
            borderColor: '#FCD34D'
        };
    } else {
        return {
            status: 'Critical',
            color: '#EF4444',
            bgColor: '#FEE2E2',
            borderColor: '#FCA5A5'
        };
    }
};
/**
 * Host tile component
 */ const HostTile = ({ host, onHostClick, showTooltips })=>{
    const [showTooltip, setShowTooltip] = (0, _react.useState)(false);
    const hasRecentRuns = host.total_runs > 0;
    const status = getHostStatus(host.success_rate, hasRecentRuns);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "relative",
        onMouseEnter: ()=>setShowTooltip(true),
        onMouseLeave: ()=>setShowTooltip(false),
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: `
          relative w-full h-16 rounded-lg border-2 transition-all duration-200 cursor-pointer
          hover:shadow-md hover:scale-105 flex flex-col justify-center items-center p-2
        `,
                style: {
                    backgroundColor: status.bgColor,
                    borderColor: status.borderColor,
                    color: status.color
                },
                onClick: ()=>onHostClick?.(host),
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-xs font-medium text-center leading-tight truncate w-full",
                        children: host.hostname
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-xs opacity-75 mt-1",
                        children: hasRecentRuns ? `${host.success_rate.toFixed(0)}%` : 'N/A'
                    }),
                    hasRecentRuns && host.total_runs > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "absolute top-1 right-1 w-2 h-2 rounded-full",
                        style: {
                            backgroundColor: status.color
                        }
                    })
                ]
            }),
            showTooltips && showTooltip && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-3",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "font-semibold mb-2",
                        children: host.hostname
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-1",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Status:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        style: {
                                            color: status.color
                                        },
                                        children: status.status
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Success Rate:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: hasRecentRuns ? `${host.success_rate.toFixed(1)}%` : 'No data'
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Total Runs:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: host.total_runs
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Successful:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-green-400",
                                        children: host.successful_runs
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Failed:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-red-400",
                                        children: host.failed_runs
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Unreachable:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-orange-400",
                                        children: host.unreachable_count
                                    })
                                ]
                            }),
                            host.last_successful_run && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Last Success:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: (0, _time.formatRelativeTime)(host.last_successful_run)
                                    })
                                ]
                            }),
                            host.environments.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mt-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-300",
                                        children: "Environments:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex flex-wrap gap-1 mt-1",
                                        children: [
                                            host.environments.slice(0, 3).map((env)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "px-1 py-0.5 bg-gray-700 rounded text-xs",
                                                    children: env
                                                }, env)),
                                            host.environments.length > 3 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                className: "text-gray-400",
                                                children: [
                                                    "+",
                                                    host.environments.length - 3
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-800"
                    })
                ]
            })
        ]
    });
};
const HostCoverageMap = ({ hostCoverage, environments, selectedEnvironment, minSuccessRate, columns = 8, showTooltips = true, className = '', onHostClick, onEnvironmentChange, onSuccessRateChange })=>{
    const { isMobile, isTablet } = (0, _useResponsive.useResponsive)();
    // Adjust columns based on screen size
    const gridColumns = (0, _react.useMemo)(()=>{
        if (isMobile) return 3;
        if (isTablet) return 5;
        return columns;
    }, [
        isMobile,
        isTablet,
        columns
    ]);
    // Filter hosts based on selected filters
    const filteredHosts = (0, _react.useMemo)(()=>{
        let filtered = [
            ...hostCoverage
        ];
        // Filter by environment
        if (selectedEnvironment) {
            filtered = filtered.filter((host)=>host.environments.includes(selectedEnvironment));
        }
        // Filter by minimum success rate
        if (minSuccessRate !== undefined) {
            filtered = filtered.filter((host)=>host.total_runs === 0 || host.success_rate >= minSuccessRate);
        }
        // Sort by success rate (descending) and then by hostname
        return filtered.sort((a, b)=>{
            if (a.success_rate !== b.success_rate) {
                return b.success_rate - a.success_rate;
            }
            return a.hostname.localeCompare(b.hostname);
        });
    }, [
        hostCoverage,
        selectedEnvironment,
        minSuccessRate
    ]);
    // Calculate statistics
    const stats = (0, _react.useMemo)(()=>{
        const total = filteredHosts.length;
        const excellent = filteredHosts.filter((h)=>h.success_rate >= 95).length;
        const good = filteredHosts.filter((h)=>h.success_rate >= 85 && h.success_rate < 95).length;
        const warning = filteredHosts.filter((h)=>h.success_rate >= 70 && h.success_rate < 85).length;
        const critical = filteredHosts.filter((h)=>h.success_rate < 70 && h.total_runs > 0).length;
        const noData = filteredHosts.filter((h)=>h.total_runs === 0).length;
        return {
            total,
            excellent,
            good,
            warning,
            critical,
            noData
        };
    }, [
        filteredHosts
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 ${className}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: "text-lg font-semibold text-gray-900 dark:text-white",
                                children: "Host Coverage Map"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                className: "text-sm text-gray-500 dark:text-gray-400",
                                children: [
                                    stats.total,
                                    " hosts • ",
                                    Math.round((stats.excellent + stats.good) / stats.total * 100),
                                    "% healthy"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex flex-col sm:flex-row gap-3 mt-4 lg:mt-0",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                value: selectedEnvironment || '',
                                onChange: (e)=>onEnvironmentChange?.(e.target.value || undefined),
                                className: "px-3 py-1 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "",
                                        children: "All Environments"
                                    }),
                                    environments.map((env)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("option", {
                                            value: env.name,
                                            children: [
                                                env.name,
                                                " (",
                                                env.host_count,
                                                ")"
                                            ]
                                        }, env.name))
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                value: minSuccessRate || '',
                                onChange: (e)=>onSuccessRateChange?.(e.target.value ? Number(e.target.value) : undefined),
                                className: "px-3 py-1 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "",
                                        children: "All Success Rates"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "95",
                                        children: "≥95% (Excellent)"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "85",
                                        children: "≥85% (Good)"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "70",
                                        children: "≥70% (Warning)"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "0",
                                        children: "≥0% (All)"
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-lg font-semibold text-green-600 dark:text-green-400",
                                children: stats.excellent
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "Excellent"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-lg font-semibold text-green-500 dark:text-green-400",
                                children: stats.good
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "Good"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-lg font-semibold text-yellow-500 dark:text-yellow-400",
                                children: stats.warning
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "Warning"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-lg font-semibold text-red-500 dark:text-red-400",
                                children: stats.critical
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "Critical"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-lg font-semibold text-gray-500 dark:text-gray-400",
                                children: stats.noData
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "No Data"
                            })
                        ]
                    })
                ]
            }),
            filteredHosts.length > 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "grid gap-3",
                style: {
                    gridTemplateColumns: `repeat(${gridColumns}, minmax(0, 1fr))`
                },
                children: filteredHosts.map((host)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(HostTile, {
                        host: host,
                        onHostClick: onHostClick,
                        showTooltips: showTooltips
                    }, host.hostname))
            }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-12",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-gray-500 dark:text-gray-400",
                        children: "No hosts match the current filters"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: ()=>{
                            onEnvironmentChange?.(undefined);
                            onSuccessRateChange?.(undefined);
                        },
                        className: "mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",
                        children: "Clear filters"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "border-t border-gray-200 dark:border-gray-700 pt-4 mt-6",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex flex-wrap items-center justify-between gap-4 text-xs",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex flex-wrap items-center gap-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-3 h-3 rounded bg-green-400 border border-green-500"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-600 dark:text-gray-400",
                                            children: "Excellent (≥95%)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-3 h-3 rounded bg-green-300 border border-green-400"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-600 dark:text-gray-400",
                                            children: "Good (85-94%)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-3 h-3 rounded bg-yellow-300 border border-yellow-400"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-600 dark:text-gray-400",
                                            children: "Warning (70-84%)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-3 h-3 rounded bg-red-300 border border-red-400"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-600 dark:text-gray-400",
                                            children: "Critical (<70%)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-3 h-3 rounded bg-gray-200 border border-gray-300"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-600 dark:text-gray-400",
                                            children: "No Data"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "text-gray-500 dark:text-gray-400",
                            children: "Click a host for details"
                        })
                    ]
                })
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9jaGFydHMvSG9zdENvdmVyYWdlTWFwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhvc3QgQ292ZXJhZ2UgTWFwIENvbXBvbmVudFxuICogXG4gKiBJbnRlcmFjdGl2ZSB2aXN1YWxpemF0aW9uIG9mIEFuc2libGUgYXV0b21hdGlvbiBjb3ZlcmFnZSBhY3Jvc3MgaW5mcmFzdHJ1Y3R1cmUgaG9zdHMuXG4gKiBGZWF0dXJlczpcbiAqIC0gR3JpZCBsYXlvdXQgc2hvd2luZyBhbGwgbWFuYWdlZCBob3N0c1xuICogLSBDb2xvci1jb2RlZCBzdGF0dXMgaW5kaWNhdG9ycyBiYXNlZCBvbiBzdWNjZXNzIHJhdGVzXG4gKiAtIEhvdmVyIHRvb2x0aXBzIHdpdGggZGV0YWlsZWQgaG9zdCBpbmZvcm1hdGlvblxuICogLSBJbnRlcmFjdGl2ZSBmaWx0ZXJpbmcgYnkgZW52aXJvbm1lbnQgYW5kIHN1Y2Nlc3MgcmF0ZVxuICogLSBSZXNwb25zaXZlIGdyaWQgdGhhdCBhZGFwdHMgdG8gc2NyZWVuIHNpemVcbiAqIC0gTG9hZGluZyBhbmQgZXJyb3Igc3RhdGVzXG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSG9zdENvdmVyYWdlLCBFbnZpcm9ubWVudCB9IGZyb20gJy4uLy4uL3R5cGVzL2F1dG9tYXRpb24nO1xuaW1wb3J0IHsgdXNlUmVzcG9uc2l2ZSB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZVJlc3BvbnNpdmUnO1xuaW1wb3J0IHsgZm9ybWF0UmVsYXRpdmVUaW1lLCBmb3JtYXREdXJhdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3RpbWUnO1xuXG5pbnRlcmZhY2UgSG9zdENvdmVyYWdlTWFwUHJvcHMge1xuICAvKiogQXJyYXkgb2YgaG9zdCBjb3ZlcmFnZSBkYXRhICovXG4gIGhvc3RDb3ZlcmFnZTogSG9zdENvdmVyYWdlW107XG4gIC8qKiBBdmFpbGFibGUgZW52aXJvbm1lbnRzIGZvciBmaWx0ZXJpbmcgKi9cbiAgZW52aXJvbm1lbnRzOiBFbnZpcm9ubWVudFtdO1xuICAvKiogU2VsZWN0ZWQgZW52aXJvbm1lbnQgZmlsdGVyICovXG4gIHNlbGVjdGVkRW52aXJvbm1lbnQ/OiBzdHJpbmc7XG4gIC8qKiBNaW5pbXVtIHN1Y2Nlc3MgcmF0ZSBmaWx0ZXIgKi9cbiAgbWluU3VjY2Vzc1JhdGU/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgZ3JpZCAqL1xuICBjb2x1bW5zPzogbnVtYmVyO1xuICAvKiogV2hldGhlciB0byBzaG93IGhvc3QgZGV0YWlscyBvbiBob3ZlciAqL1xuICBzaG93VG9vbHRpcHM/OiBib29sZWFuO1xuICAvKiogQ3VzdG9tIGNsYXNzTmFtZSBmb3Igc3R5bGluZyAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIC8qKiBDYWxsYmFjayB3aGVuIGEgaG9zdCBpcyBjbGlja2VkICovXG4gIG9uSG9zdENsaWNrPzogKGhvc3Q6IEhvc3RDb3ZlcmFnZSkgPT4gdm9pZDtcbiAgLyoqIENhbGxiYWNrIHdoZW4gZW52aXJvbm1lbnQgZmlsdGVyIGNoYW5nZXMgKi9cbiAgb25FbnZpcm9ubWVudENoYW5nZT86IChlbnZpcm9ubWVudDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAvKiogQ2FsbGJhY2sgd2hlbiBzdWNjZXNzIHJhdGUgZmlsdGVyIGNoYW5nZXMgKi9cbiAgb25TdWNjZXNzUmF0ZUNoYW5nZT86IChtaW5SYXRlOiBudW1iZXIgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogR2V0IHN0YXR1cyBjb2xvciBhbmQgbGV2ZWwgYmFzZWQgb24gc3VjY2VzcyByYXRlXG4gKi9cbmNvbnN0IGdldEhvc3RTdGF0dXMgPSAoc3VjY2Vzc1JhdGU6IG51bWJlciwgaGFzUmVjZW50UnVuczogYm9vbGVhbik6IHtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIGJnQ29sb3I6IHN0cmluZztcbiAgYm9yZGVyQ29sb3I6IHN0cmluZztcbn0gPT4ge1xuICBpZiAoIWhhc1JlY2VudFJ1bnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnTm8gRGF0YScsXG4gICAgICBjb2xvcjogJyM2QjcyODAnLFxuICAgICAgYmdDb2xvcjogJyNGOUZBRkInLFxuICAgICAgYm9yZGVyQ29sb3I6ICcjRTVFN0VCJ1xuICAgIH07XG4gIH1cblxuICBpZiAoc3VjY2Vzc1JhdGUgPj0gOTUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnRXhjZWxsZW50JyxcbiAgICAgIGNvbG9yOiAnIzEwQjk4MScsXG4gICAgICBiZ0NvbG9yOiAnI0QxRkFFNScsXG4gICAgICBib3JkZXJDb2xvcjogJyM2RUU3QjcnXG4gICAgfTtcbiAgfSBlbHNlIGlmIChzdWNjZXNzUmF0ZSA+PSA4NSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdHb29kJyxcbiAgICAgIGNvbG9yOiAnIzA1OTY2OScsXG4gICAgICBiZ0NvbG9yOiAnI0E3RjNEMCcsXG4gICAgICBib3JkZXJDb2xvcjogJyMzNEQzOTknXG4gICAgfTtcbiAgfSBlbHNlIGlmIChzdWNjZXNzUmF0ZSA+PSA3MCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdXYXJuaW5nJyxcbiAgICAgIGNvbG9yOiAnI0Y1OUUwQicsXG4gICAgICBiZ0NvbG9yOiAnI0ZFRjNDNycsXG4gICAgICBib3JkZXJDb2xvcjogJyNGQ0QzNEQnXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnQ3JpdGljYWwnLFxuICAgICAgY29sb3I6ICcjRUY0NDQ0JyxcbiAgICAgIGJnQ29sb3I6ICcjRkVFMkUyJyxcbiAgICAgIGJvcmRlckNvbG9yOiAnI0ZDQTVBNSdcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIEhvc3QgdGlsZSBjb21wb25lbnRcbiAqL1xuY29uc3QgSG9zdFRpbGU6IFJlYWN0LkZDPHtcbiAgaG9zdDogSG9zdENvdmVyYWdlO1xuICBvbkhvc3RDbGljaz86IChob3N0OiBIb3N0Q292ZXJhZ2UpID0+IHZvaWQ7XG4gIHNob3dUb29sdGlwczogYm9vbGVhbjtcbn0+ID0gKHsgaG9zdCwgb25Ib3N0Q2xpY2ssIHNob3dUb29sdGlwcyB9KSA9PiB7XG4gIGNvbnN0IFtzaG93VG9vbHRpcCwgc2V0U2hvd1Rvb2x0aXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYXNSZWNlbnRSdW5zID0gaG9zdC50b3RhbF9ydW5zID4gMDtcbiAgY29uc3Qgc3RhdHVzID0gZ2V0SG9zdFN0YXR1cyhob3N0LnN1Y2Nlc3NfcmF0ZSwgaGFzUmVjZW50UnVucyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiXG4gICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldFNob3dUb29sdGlwKHRydWUpfVxuICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRTaG93VG9vbHRpcChmYWxzZSl9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICByZWxhdGl2ZSB3LWZ1bGwgaC0xNiByb3VuZGVkLWxnIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBjdXJzb3ItcG9pbnRlclxuICAgICAgICAgIGhvdmVyOnNoYWRvdy1tZCBob3ZlcjpzY2FsZS0xMDUgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcC0yXG4gICAgICAgIGB9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdGF0dXMuYmdDb2xvcixcbiAgICAgICAgICBib3JkZXJDb2xvcjogc3RhdHVzLmJvcmRlckNvbG9yLFxuICAgICAgICAgIGNvbG9yOiBzdGF0dXMuY29sb3JcbiAgICAgICAgfX1cbiAgICAgICAgb25DbGljaz17KCkgPT4gb25Ib3N0Q2xpY2s/Lihob3N0KX1cbiAgICAgID5cbiAgICAgICAgey8qIEhvc3QgbmFtZSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtY2VudGVyIGxlYWRpbmctdGlnaHQgdHJ1bmNhdGUgdy1mdWxsXCI+XG4gICAgICAgICAge2hvc3QuaG9zdG5hbWV9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFN1Y2Nlc3MgcmF0ZSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzUgbXQtMVwiPlxuICAgICAgICAgIHtoYXNSZWNlbnRSdW5zID8gYCR7aG9zdC5zdWNjZXNzX3JhdGUudG9GaXhlZCgwKX0lYCA6ICdOL0EnfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUnVubmluZyBpbmRpY2F0b3IgKi99XG4gICAgICAgIHtoYXNSZWNlbnRSdW5zICYmIGhvc3QudG90YWxfcnVucyA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIHctMiBoLTIgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogc3RhdHVzLmNvbG9yIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogVG9vbHRpcCAqL31cbiAgICAgIHtzaG93VG9vbHRpcHMgJiYgc2hvd1Rvb2x0aXAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHotNTAgYm90dG9tLWZ1bGwgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgbWItMiB3LTY0IGJnLWdyYXktOTAwIGRhcms6YmctZ3JheS04MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQtbGcgc2hhZG93LXhsIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj57aG9zdC5ob3N0bmFtZX08L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+U3RhdHVzOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IHN0YXR1cy5jb2xvciB9fT57c3RhdHVzLnN0YXR1c308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+U3VjY2VzcyBSYXRlOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+e2hhc1JlY2VudFJ1bnMgPyBgJHtob3N0LnN1Y2Nlc3NfcmF0ZS50b0ZpeGVkKDEpfSVgIDogJ05vIGRhdGEnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj5Ub3RhbCBSdW5zOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+e2hvc3QudG90YWxfcnVuc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+U3VjY2Vzc2Z1bDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNDAwXCI+e2hvc3Quc3VjY2Vzc2Z1bF9ydW5zfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj5GYWlsZWQ6PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDBcIj57aG9zdC5mYWlsZWRfcnVuc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+VW5yZWFjaGFibGU6PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW9yYW5nZS00MDBcIj57aG9zdC51bnJlYWNoYWJsZV9jb3VudH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2hvc3QubGFzdF9zdWNjZXNzZnVsX3J1biAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+TGFzdCBTdWNjZXNzOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0UmVsYXRpdmVUaW1lKGhvc3QubGFzdF9zdWNjZXNzZnVsX3J1bil9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtob3N0LmVudmlyb25tZW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPkVudmlyb25tZW50czo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICB7aG9zdC5lbnZpcm9ubWVudHMuc2xpY2UoMCwgMykubWFwKChlbnYpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Vudn1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0xIHB5LTAuNSBiZy1ncmF5LTcwMCByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2Vudn1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICB7aG9zdC5lbnZpcm9ubWVudHMubGVuZ3RoID4gMyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj4re2hvc3QuZW52aXJvbm1lbnRzLmxlbmd0aCAtIDN9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFRvb2x0aXAgYXJyb3cgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtZnVsbCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB3LTAgaC0wIGJvcmRlci1sLTQgYm9yZGVyLXItNCBib3JkZXItdC00IGJvcmRlci10cmFuc3BhcmVudCBib3JkZXItdC1ncmF5LTkwMCBkYXJrOmJvcmRlci10LWdyYXktODAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLyoqXG4gKiBIb3N0Q292ZXJhZ2VNYXAgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCBIb3N0Q292ZXJhZ2VNYXA6IFJlYWN0LkZDPEhvc3RDb3ZlcmFnZU1hcFByb3BzPiA9ICh7XG4gIGhvc3RDb3ZlcmFnZSxcbiAgZW52aXJvbm1lbnRzLFxuICBzZWxlY3RlZEVudmlyb25tZW50LFxuICBtaW5TdWNjZXNzUmF0ZSxcbiAgY29sdW1ucyA9IDgsXG4gIHNob3dUb29sdGlwcyA9IHRydWUsXG4gIGNsYXNzTmFtZSA9ICcnLFxuICBvbkhvc3RDbGljayxcbiAgb25FbnZpcm9ubWVudENoYW5nZSxcbiAgb25TdWNjZXNzUmF0ZUNoYW5nZVxufSkgPT4ge1xuICBjb25zdCB7IGlzTW9iaWxlLCBpc1RhYmxldCB9ID0gdXNlUmVzcG9uc2l2ZSgpO1xuXG4gIC8vIEFkanVzdCBjb2x1bW5zIGJhc2VkIG9uIHNjcmVlbiBzaXplXG4gIGNvbnN0IGdyaWRDb2x1bW5zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlzTW9iaWxlKSByZXR1cm4gMztcbiAgICBpZiAoaXNUYWJsZXQpIHJldHVybiA1O1xuICAgIHJldHVybiBjb2x1bW5zO1xuICB9LCBbaXNNb2JpbGUsIGlzVGFibGV0LCBjb2x1bW5zXSk7XG5cbiAgLy8gRmlsdGVyIGhvc3RzIGJhc2VkIG9uIHNlbGVjdGVkIGZpbHRlcnNcbiAgY29uc3QgZmlsdGVyZWRIb3N0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBmaWx0ZXJlZCA9IFsuLi5ob3N0Q292ZXJhZ2VdO1xuXG4gICAgLy8gRmlsdGVyIGJ5IGVudmlyb25tZW50XG4gICAgaWYgKHNlbGVjdGVkRW52aXJvbm1lbnQpIHtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGhvc3QgPT4gXG4gICAgICAgIGhvc3QuZW52aXJvbm1lbnRzLmluY2x1ZGVzKHNlbGVjdGVkRW52aXJvbm1lbnQpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBieSBtaW5pbXVtIHN1Y2Nlc3MgcmF0ZVxuICAgIGlmIChtaW5TdWNjZXNzUmF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihob3N0ID0+IFxuICAgICAgICBob3N0LnRvdGFsX3J1bnMgPT09IDAgfHwgaG9zdC5zdWNjZXNzX3JhdGUgPj0gbWluU3VjY2Vzc1JhdGVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSBzdWNjZXNzIHJhdGUgKGRlc2NlbmRpbmcpIGFuZCB0aGVuIGJ5IGhvc3RuYW1lXG4gICAgcmV0dXJuIGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLnN1Y2Nlc3NfcmF0ZSAhPT0gYi5zdWNjZXNzX3JhdGUpIHtcbiAgICAgICAgcmV0dXJuIGIuc3VjY2Vzc19yYXRlIC0gYS5zdWNjZXNzX3JhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYS5ob3N0bmFtZS5sb2NhbGVDb21wYXJlKGIuaG9zdG5hbWUpO1xuICAgIH0pO1xuICB9LCBbaG9zdENvdmVyYWdlLCBzZWxlY3RlZEVudmlyb25tZW50LCBtaW5TdWNjZXNzUmF0ZV0pO1xuXG4gIC8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzXG4gIGNvbnN0IHN0YXRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSBmaWx0ZXJlZEhvc3RzLmxlbmd0aDtcbiAgICBjb25zdCBleGNlbGxlbnQgPSBmaWx0ZXJlZEhvc3RzLmZpbHRlcihoID0+IGguc3VjY2Vzc19yYXRlID49IDk1KS5sZW5ndGg7XG4gICAgY29uc3QgZ29vZCA9IGZpbHRlcmVkSG9zdHMuZmlsdGVyKGggPT4gaC5zdWNjZXNzX3JhdGUgPj0gODUgJiYgaC5zdWNjZXNzX3JhdGUgPCA5NSkubGVuZ3RoO1xuICAgIGNvbnN0IHdhcm5pbmcgPSBmaWx0ZXJlZEhvc3RzLmZpbHRlcihoID0+IGguc3VjY2Vzc19yYXRlID49IDcwICYmIGguc3VjY2Vzc19yYXRlIDwgODUpLmxlbmd0aDtcbiAgICBjb25zdCBjcml0aWNhbCA9IGZpbHRlcmVkSG9zdHMuZmlsdGVyKGggPT4gaC5zdWNjZXNzX3JhdGUgPCA3MCAmJiBoLnRvdGFsX3J1bnMgPiAwKS5sZW5ndGg7XG4gICAgY29uc3Qgbm9EYXRhID0gZmlsdGVyZWRIb3N0cy5maWx0ZXIoaCA9PiBoLnRvdGFsX3J1bnMgPT09IDApLmxlbmd0aDtcblxuICAgIHJldHVybiB7IHRvdGFsLCBleGNlbGxlbnQsIGdvb2QsIHdhcm5pbmcsIGNyaXRpY2FsLCBub0RhdGEgfTtcbiAgfSwgW2ZpbHRlcmVkSG9zdHNdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02ICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBsZzpmbGV4LXJvdyBsZzppdGVtcy1jZW50ZXIgbGc6anVzdGlmeS1iZXR3ZWVuIG1iLTZcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICBIb3N0IENvdmVyYWdlIE1hcFxuICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAge3N0YXRzLnRvdGFsfSBob3N0cyDigKIge01hdGgucm91bmQoKHN0YXRzLmV4Y2VsbGVudCArIHN0YXRzLmdvb2QpIC8gc3RhdHMudG90YWwgKiAxMDApfSUgaGVhbHRoeVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZpbHRlcnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtMyBtdC00IGxnOm10LTBcIj5cbiAgICAgICAgICB7LyogRW52aXJvbm1lbnQgZmlsdGVyICovfVxuICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEVudmlyb25tZW50IHx8ICcnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkVudmlyb25tZW50Q2hhbmdlPy4oZS50YXJnZXQudmFsdWUgfHwgdW5kZWZpbmVkKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTcwMCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbWQgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+QWxsIEVudmlyb25tZW50czwvb3B0aW9uPlxuICAgICAgICAgICAge2Vudmlyb25tZW50cy5tYXAoKGVudikgPT4gKFxuICAgICAgICAgICAgICA8b3B0aW9uIGtleT17ZW52Lm5hbWV9IHZhbHVlPXtlbnYubmFtZX0+XG4gICAgICAgICAgICAgICAge2Vudi5uYW1lfSAoe2Vudi5ob3N0X2NvdW50fSlcbiAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3NlbGVjdD5cblxuICAgICAgICAgIHsvKiBTdWNjZXNzIHJhdGUgZmlsdGVyICovfVxuICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgIHZhbHVlPXttaW5TdWNjZXNzUmF0ZSB8fCAnJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25TdWNjZXNzUmF0ZUNoYW5nZT8uKGUudGFyZ2V0LnZhbHVlID8gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSA6IHVuZGVmaW5lZCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgdGV4dC1zbSBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLW1kIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci1ibHVlLTUwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPkFsbCBTdWNjZXNzIFJhdGVzPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiOTVcIj7iiaU5NSUgKEV4Y2VsbGVudCk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI4NVwiPuKJpTg1JSAoR29vZCk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI3MFwiPuKJpTcwJSAoV2FybmluZyk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCI+4omlMCUgKEFsbCk8L29wdGlvbj5cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFN0YXRpc3RpY3MgYmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy01IGdhcC00IG1iLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDBcIj5cbiAgICAgICAgICAgIHtzdGF0cy5leGNlbGxlbnR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+RXhjZWxsZW50PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmVlbi01MDAgZGFyazp0ZXh0LWdyZWVuLTQwMFwiPlxuICAgICAgICAgICAge3N0YXRzLmdvb2R9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+R29vZDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQteWVsbG93LTUwMCBkYXJrOnRleHQteWVsbG93LTQwMFwiPlxuICAgICAgICAgICAge3N0YXRzLndhcm5pbmd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+V2FybmluZzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtcmVkLTUwMCBkYXJrOnRleHQtcmVkLTQwMFwiPlxuICAgICAgICAgICAge3N0YXRzLmNyaXRpY2FsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkNyaXRpY2FsPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIHtzdGF0cy5ub0RhdGF9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+Tm8gRGF0YTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSG9zdCBncmlkICovfVxuICAgICAge2ZpbHRlcmVkSG9zdHMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTNcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBgcmVwZWF0KCR7Z3JpZENvbHVtbnN9LCBtaW5tYXgoMCwgMWZyKSlgXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtmaWx0ZXJlZEhvc3RzLm1hcCgoaG9zdCkgPT4gKFxuICAgICAgICAgICAgPEhvc3RUaWxlXG4gICAgICAgICAgICAgIGtleT17aG9zdC5ob3N0bmFtZX1cbiAgICAgICAgICAgICAgaG9zdD17aG9zdH1cbiAgICAgICAgICAgICAgb25Ib3N0Q2xpY2s9e29uSG9zdENsaWNrfVxuICAgICAgICAgICAgICBzaG93VG9vbHRpcHM9e3Nob3dUb29sdGlwc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIE5vIGhvc3RzIG1hdGNoIHRoZSBjdXJyZW50IGZpbHRlcnNcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIG9uRW52aXJvbm1lbnRDaGFuZ2U/Lih1bmRlZmluZWQpO1xuICAgICAgICAgICAgICBvblN1Y2Nlc3NSYXRlQ2hhbmdlPy4odW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDAgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbGVhciBmaWx0ZXJzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIExlZ2VuZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHB0LTQgbXQtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTQgdGV4dC14c1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgcm91bmRlZCBiZy1ncmVlbi00MDAgYm9yZGVyIGJvcmRlci1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIEV4Y2VsbGVudCAo4omlOTUlKVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkIGJnLWdyZWVuLTMwMCBib3JkZXIgYm9yZGVyLWdyZWVuLTQwMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgR29vZCAoODUtOTQlKVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkIGJnLXllbGxvdy0zMDAgYm9yZGVyIGJvcmRlci15ZWxsb3ctNDAwXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICBXYXJuaW5nICg3MC04NCUpXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdW5kZWQgYmctcmVkLTMwMCBib3JkZXIgYm9yZGVyLXJlZC00MDBcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIENyaXRpY2FsICgmbHQ7NzAlKVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkIGJnLWdyYXktMjAwIGJvcmRlciBib3JkZXItZ3JheS0zMDBcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIE5vIERhdGFcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgQ2xpY2sgYSBob3N0IGZvciBkZXRhaWxzXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59OyAiXSwibmFtZXMiOlsiSG9zdENvdmVyYWdlTWFwIiwiZ2V0SG9zdFN0YXR1cyIsInN1Y2Nlc3NSYXRlIiwiaGFzUmVjZW50UnVucyIsInN0YXR1cyIsImNvbG9yIiwiYmdDb2xvciIsImJvcmRlckNvbG9yIiwiSG9zdFRpbGUiLCJob3N0Iiwib25Ib3N0Q2xpY2siLCJzaG93VG9vbHRpcHMiLCJzaG93VG9vbHRpcCIsInNldFNob3dUb29sdGlwIiwidXNlU3RhdGUiLCJ0b3RhbF9ydW5zIiwic3VjY2Vzc19yYXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvbkNsaWNrIiwiaG9zdG5hbWUiLCJ0b0ZpeGVkIiwic3BhbiIsInN1Y2Nlc3NmdWxfcnVucyIsImZhaWxlZF9ydW5zIiwidW5yZWFjaGFibGVfY291bnQiLCJsYXN0X3N1Y2Nlc3NmdWxfcnVuIiwiZm9ybWF0UmVsYXRpdmVUaW1lIiwiZW52aXJvbm1lbnRzIiwibGVuZ3RoIiwic2xpY2UiLCJtYXAiLCJlbnYiLCJob3N0Q292ZXJhZ2UiLCJzZWxlY3RlZEVudmlyb25tZW50IiwibWluU3VjY2Vzc1JhdGUiLCJjb2x1bW5zIiwib25FbnZpcm9ubWVudENoYW5nZSIsIm9uU3VjY2Vzc1JhdGVDaGFuZ2UiLCJpc01vYmlsZSIsImlzVGFibGV0IiwidXNlUmVzcG9uc2l2ZSIsImdyaWRDb2x1bW5zIiwidXNlTWVtbyIsImZpbHRlcmVkSG9zdHMiLCJmaWx0ZXJlZCIsImZpbHRlciIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsInN0YXRzIiwidG90YWwiLCJleGNlbGxlbnQiLCJoIiwiZ29vZCIsIndhcm5pbmciLCJjcml0aWNhbCIsIm5vRGF0YSIsImgzIiwicCIsIk1hdGgiLCJyb3VuZCIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwib3B0aW9uIiwibmFtZSIsImhvc3RfY291bnQiLCJOdW1iZXIiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiYnV0dG9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Q0FXQzs7OzsrQkEwTVlBOzs7ZUFBQUE7Ozs7K0RBeE00QjsrQkFFWDtzQkFDcUI7Ozs7Ozs7Ozs7Ozs7Ozs7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