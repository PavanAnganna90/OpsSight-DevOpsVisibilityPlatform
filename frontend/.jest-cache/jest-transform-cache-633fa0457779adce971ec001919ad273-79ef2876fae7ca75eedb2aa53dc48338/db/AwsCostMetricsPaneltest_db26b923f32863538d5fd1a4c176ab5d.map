{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/infrastructure/__tests__/AwsCostMetricsPanel.test.tsx"],"sourcesContent":["/**\n * AWS Cost Metrics Panel Component Tests\n * \n * Tests for the AwsCostMetricsPanel component including data visualization,\n * user interactions, loading states, and error handling.\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport { AwsCostMetricsPanel } from '../AwsCostMetricsPanel';\nimport type { \n  CostDataPoint, \n  ServiceCostBreakdown, \n  CostAnomaly, \n  CostTrend,\n  AvailableFilters,\n  FilterOptions\n} from '../AwsCostMetricsPanel';\n\n// Mock recharts components to avoid canvas rendering issues in tests\njest.mock('recharts', () => ({\n  ResponsiveContainer: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"responsive-container\">{children}</div>\n  ),\n  LineChart: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"line-chart\">{children}</div>\n  ),\n  PieChart: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"pie-chart\">{children}</div>\n  ),\n  BarChart: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"bar-chart\">{children}</div>\n  ),\n  AreaChart: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"area-chart\">{children}</div>\n  ),\n  Line: () => <div data-testid=\"line\" />,\n  Pie: () => <div data-testid=\"pie\" />,\n  Bar: () => <div data-testid=\"bar\" />,\n  Area: () => <div data-testid=\"area\" />,\n  Cell: () => <div data-testid=\"cell\" />,\n  XAxis: () => <div data-testid=\"x-axis\" />,\n  YAxis: () => <div data-testid=\"y-axis\" />,\n  CartesianGrid: () => <div data-testid=\"cartesian-grid\" />,\n  Tooltip: () => <div data-testid=\"tooltip\" />,\n  Legend: () => <div data-testid=\"legend\" />\n}));\n\ndescribe('AwsCostMetricsPanel', () => {\n  // Mock data for tests\n  const mockCostData: CostDataPoint[] = [\n    {\n      date: '2024-01-01',\n      totalCost: 1250.50,\n      services: { EC2: 500, S3: 200, RDS: 350, Lambda: 200.50 }\n    },\n    {\n      date: '2024-01-02',\n      totalCost: 1380.75,\n      services: { EC2: 550, S3: 220, RDS: 380, Lambda: 230.75 }\n    },\n    {\n      date: '2024-01-03',\n      totalCost: 1420.25,\n      services: { EC2: 580, S3: 240, RDS: 400, Lambda: 200.25 }\n    }\n  ];\n\n  const mockServiceBreakdown: ServiceCostBreakdown[] = [\n    {\n      serviceName: 'EC2',\n      cost: 580,\n      percentage: 40.8,\n      trend: 'up',\n      trendPercentage: 16.0,\n      color: '#3B82F6'\n    },\n    {\n      serviceName: 'RDS',\n      cost: 400,\n      percentage: 28.2,\n      trend: 'up',\n      trendPercentage: 14.3,\n      color: '#EF4444'\n    },\n    {\n      serviceName: 'S3',\n      cost: 240,\n      percentage: 16.9,\n      trend: 'up',\n      trendPercentage: 20.0,\n      color: '#10B981'\n    },\n    {\n      serviceName: 'Lambda',\n      cost: 200.25,\n      percentage: 14.1,\n      trend: 'down',\n      trendPercentage: -0.1,\n      color: '#F59E0B'\n    }\n  ];\n\n  const mockAnomalies: CostAnomaly[] = [\n    {\n      date: '2024-01-03',\n      expectedCost: 1300,\n      actualCost: 1420.25,\n      deviationPercentage: 9.25,\n      severity: 'high',\n      contributingServices: ['EC2', 'RDS']\n    },\n    {\n      date: '2024-01-02',\n      expectedCost: 1200,\n      actualCost: 1380.75,\n      deviationPercentage: 15.06,\n      severity: 'critical',\n      contributingServices: ['EC2', 'Lambda']\n    }\n  ];\n\n  const mockCostTrend: CostTrend = {\n    direction: 'increasing',\n    changePercentage: 13.6,\n    changeAmount: 169.75,\n    confidence: 0.85\n  };\n\n  const mockAvailableFilters: AvailableFilters = {\n    services: ['EC2', 'S3', 'RDS', 'Lambda'],\n    regions: ['us-east-1', 'us-west-2', 'eu-west-1'],\n    tags: {\n      Environment: ['Production', 'Development', 'Testing'],\n      Team: ['Backend', 'Frontend', 'DevOps']\n    }\n  };\n\n  const defaultProps = {\n    costData: mockCostData,\n    serviceBreakdown: mockServiceBreakdown,\n    anomalies: mockAnomalies,\n    costTrend: mockCostTrend,\n    availableFilters: mockAvailableFilters\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Rendering', () => {\n    it('renders AWS Cost Metrics panel with correct title', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      expect(screen.getByText('AWS Cost Metrics')).toBeInTheDocument();\n      expect(screen.getByText('Monitor your AWS infrastructure costs and spending trends')).toBeInTheDocument();\n    });\n\n    it('renders all navigation tabs', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Use getAllByText and check for specific tab texts in navigation buttons\n      const overviewTab = screen.getByRole('button', { name: /overview/i });\n      const trendsTab = screen.getByRole('button', { name: /trends/i });\n      \n      // Find Services tab by finding buttons and checking class for tab indicators\n      const buttons = screen.getAllByRole('button');\n      const servicesTab = buttons.find(button => \n        button.textContent?.includes('Services') && \n        button.className.includes('border-b-2')\n      );\n      const anomaliesTab = buttons.find(button => \n        button.textContent?.includes('Anomalies') && \n        button.className.includes('border-b-2')\n      );\n      \n      expect(overviewTab).toBeInTheDocument();\n      expect(trendsTab).toBeInTheDocument();\n      expect(servicesTab).toBeInTheDocument();\n      expect(anomaliesTab).toBeInTheDocument();\n    });\n\n    it('renders summary metrics correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Check if summary metrics are displayed\n      expect(screen.getByText('Total Cost')).toBeInTheDocument();\n      expect(screen.getByText('Daily Average')).toBeInTheDocument();\n      \n      // Find Services and Anomalies in the metrics context (not tabs)\n      // Check for the metric cards containing these labels\n      const allServicesTexts = screen.getAllByText('Services');\n      const allAnomaliesTexts = screen.getAllByText('Anomalies');\n      \n      // Should have Services text in both tab and metric card\n      expect(allServicesTexts.length).toBeGreaterThan(0);\n      expect(allAnomaliesTexts.length).toBeGreaterThan(0);\n      \n      // Check calculated values\n      expect(screen.getByText('$1,420.25')).toBeInTheDocument(); // Latest total cost\n      expect(screen.getByText('4')).toBeInTheDocument(); // Number of services\n      expect(screen.getByText('1')).toBeInTheDocument(); // Critical anomalies\n    });\n\n    it('renders time range selector with correct options', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const select = screen.getByDisplayValue('Last 30 days');\n      expect(select).toBeInTheDocument();\n      \n      fireEvent.click(select);\n      expect(screen.getByText('Last 7 days')).toBeInTheDocument();\n      expect(screen.getByText('Last 90 days')).toBeInTheDocument();\n      expect(screen.getByText('Last year')).toBeInTheDocument();\n    });\n\n    it('renders export button', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      expect(screen.getByText('Export')).toBeInTheDocument();\n    });\n  });\n\n  describe('Loading and Error States', () => {\n    it('renders loading state correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} isLoading={true} />);\n      \n      // Should show loading animation - check for animate-pulse class\n      expect(document.querySelector('.animate-pulse')).toBeInTheDocument();\n      expect(screen.queryByText('AWS Cost Metrics')).not.toBeInTheDocument();\n    });\n\n    it('renders error state correctly', () => {\n      const errorMessage = 'Failed to fetch cost data';\n      render(<AwsCostMetricsPanel {...defaultProps} error={errorMessage} />);\n      \n      expect(screen.getByText('Failed to load cost data')).toBeInTheDocument();\n      expect(screen.getByText(errorMessage)).toBeInTheDocument();\n    });\n  });\n\n  describe('User Interactions', () => {\n    it('switches between different views when tabs are clicked', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Initially on Overview tab\n      expect(screen.getByTestId('line-chart')).toBeInTheDocument();\n      \n      // Click on Trends tab - use button role to avoid conflicts\n      const trendsTab = screen.getByRole('button', { name: /trends/i });\n      fireEvent.click(trendsTab);\n      expect(screen.getByText('Detailed Trend Analysis')).toBeInTheDocument();\n      \n      // Click on Services tab - get all buttons and find the one that's a tab\n      const buttons = screen.getAllByRole('button');\n      const servicesTab = buttons.find(button => \n        button.textContent?.includes('Services') && \n        button.className.includes('border-b-2')\n      );\n      if (servicesTab) fireEvent.click(servicesTab);\n      expect(screen.getByText('Service Details')).toBeInTheDocument();\n      \n      // Click on Anomalies tab - get all buttons and find the one that's a tab\n      const anomaliesTab = buttons.find(button => \n        button.textContent?.includes('Anomalies') && \n        button.className.includes('border-b-2')\n      );\n      if (anomaliesTab) fireEvent.click(anomaliesTab);\n      expect(screen.getByText('Cost Anomalies')).toBeInTheDocument();\n    });\n\n    it('calls onTimeRangeChange when time range is changed', () => {\n      const mockOnTimeRangeChange = jest.fn();\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          onTimeRangeChange={mockOnTimeRangeChange} \n        />\n      );\n      \n      const select = screen.getByDisplayValue('Last 30 days');\n      fireEvent.change(select, { target: { value: '7d' } });\n      \n      expect(mockOnTimeRangeChange).toHaveBeenCalledWith('7d');\n    });\n\n    it('calls onExport when export button is clicked', () => {\n      const mockOnExport = jest.fn();\n      render(<AwsCostMetricsPanel {...defaultProps} onExport={mockOnExport} />);\n      \n      fireEvent.click(screen.getByText('Export'));\n      \n      expect(mockOnExport).toHaveBeenCalledWith('csv');\n    });\n\n    it('displays anomaly count badge when anomalies exist', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Find the anomalies tab button specifically using its unique structure\n      const buttons = screen.getAllByRole('button');\n      const anomaliesTab = buttons.find(button => \n        button.textContent?.includes('Anomalies') && \n        button.className.includes('border-b-2')\n      );\n      expect(anomaliesTab).toHaveTextContent('2'); // Should show badge with count\n    });\n  });\n\n  describe('Data Visualization', () => {\n    it('renders overview charts when on overview tab', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      expect(screen.getByText('Cost Trend')).toBeInTheDocument();\n      expect(screen.getByText('Service Breakdown')).toBeInTheDocument();\n      expect(screen.getByTestId('line-chart')).toBeInTheDocument();\n      expect(screen.getByTestId('pie-chart')).toBeInTheDocument();\n    });\n\n    it('renders anomalies list when on anomalies tab', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Find and click the anomalies tab button specifically\n      // The anomalies tab includes a count badge, so we need to find it by its content\n      const anomaliesTabButton = screen.getByRole('button', { name: /anomalies.*2/i });\n      fireEvent.click(anomaliesTabButton);\n      \n      // Wait for the tab content to render\n      expect(screen.getByText('Cost Anomalies')).toBeInTheDocument();\n      \n      // Check for anomaly severity text (capitalized)\n      expect(screen.getByText(/Critical Anomaly/)).toBeInTheDocument();\n      expect(screen.getByText(/High Anomaly/)).toBeInTheDocument();\n      \n      // Check for dates in the anomaly details\n      expect(screen.getByText(/2024-01-02/)).toBeInTheDocument();\n      expect(screen.getByText(/2024-01-03/)).toBeInTheDocument();\n    });\n\n    it('shows no anomalies message when anomalies array is empty', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} anomalies={[]} />);\n      \n      // Click on the Anomalies tab button specifically\n      const anomaliesTab = screen.getByRole('button', { name: /anomalies/i });\n      fireEvent.click(anomaliesTab);\n      \n      expect(screen.getByText('No cost anomalies detected in the current time period.')).toBeInTheDocument();\n    });\n  });\n\n  describe('Currency and Percentage Formatting', () => {\n    it('formats currency values correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Check if currency is formatted properly\n      expect(screen.getByText('$1,420.25')).toBeInTheDocument();\n    });\n\n    it('formats percentage changes correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Should show positive percentage change\n      expect(screen.getByText('+2.9%')).toBeInTheDocument(); // Change from previous day\n    });\n  });\n\n  describe('Edge Cases', () => {\n    it('handles empty cost data gracefully', () => {\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          costData={[]} \n          serviceBreakdown={[]} \n        />\n      );\n      \n      // Should still render the panel structure\n      expect(screen.getByText('AWS Cost Metrics')).toBeInTheDocument();\n    });\n\n    it('handles single data point correctly', () => {\n      const singleDataPoint = [mockCostData[0]];\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          costData={singleDataPoint}\n        />\n      );\n      \n      expect(screen.getByText('AWS Cost Metrics')).toBeInTheDocument();\n      // Use getAllByText and check the first occurrence (Total Cost metric)\n      const costElements = screen.getAllByText('$1,250.50');\n      expect(costElements.length).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Filtering and View Options', () => {\n    it('renders filter toggle button', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      expect(screen.getByText('Filters')).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /filters/i })).toBeInTheDocument();\n    });\n\n    it('shows filter panel when filter button is clicked', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Use more specific selectors for filter labels\n      expect(screen.getByLabelText(/services/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/regions/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/granularity/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/chart type/i)).toBeInTheDocument();\n      expect(screen.getByText('Cost Range ($)')).toBeInTheDocument();\n    });\n\n    it('renders service filter options correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Check if service select is available\n      const serviceSelect = screen.getByLabelText(/services/i);\n      expect(serviceSelect).toBeInTheDocument();\n      \n      // Check if service options are available\n      expect(screen.getByText('EC2')).toBeInTheDocument();\n      expect(screen.getByText('S3')).toBeInTheDocument();\n      expect(screen.getByText('RDS')).toBeInTheDocument();\n      expect(screen.getByText('Lambda')).toBeInTheDocument();\n    });\n\n    it('renders region filter options correctly', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Check if regions are available\n      const regionSelects = screen.getAllByRole('listbox');\n      expect(regionSelects.length).toBeGreaterThan(1);\n    });\n\n    it('renders granularity selector with correct options', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      expect(screen.getByDisplayValue('Daily')).toBeInTheDocument();\n      \n      const granularitySelect = screen.getByDisplayValue('Daily');\n      fireEvent.click(granularitySelect);\n      expect(screen.getByText('Weekly')).toBeInTheDocument();\n      expect(screen.getByText('Monthly')).toBeInTheDocument();\n      expect(screen.getByText('Quarterly')).toBeInTheDocument();\n    });\n\n    it('renders chart type selector with correct options', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      expect(screen.getByDisplayValue('Line Chart')).toBeInTheDocument();\n      \n      const chartTypeSelect = screen.getByDisplayValue('Line Chart');\n      fireEvent.click(chartTypeSelect);\n      expect(screen.getByText('Bar Chart')).toBeInTheDocument();\n      expect(screen.getByText('Area Chart')).toBeInTheDocument();\n    });\n\n    it('renders cost range inputs', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      expect(screen.getByPlaceholderText('Min')).toBeInTheDocument();\n      expect(screen.getByPlaceholderText('Max')).toBeInTheDocument();\n    });\n\n    it('calls onFiltersChange when filters are updated', async () => {\n      const mockOnFiltersChange = jest.fn();\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          onFiltersChange={mockOnFiltersChange}\n        />\n      );\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Change granularity\n      const granularitySelect = screen.getByDisplayValue('Daily');\n      fireEvent.change(granularitySelect, { target: { value: 'weekly' } });\n      \n      await waitFor(() => {\n        expect(mockOnFiltersChange).toHaveBeenCalledWith(\n          expect.objectContaining({ granularity: 'weekly' })\n        );\n      });\n    });\n\n    it('changes chart type when chart type filter is changed', async () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Change to bar chart\n      const chartTypeSelect = screen.getByDisplayValue('Line Chart');\n      fireEvent.change(chartTypeSelect, { target: { value: 'bar' } });\n      \n      await waitFor(() => {\n        expect(screen.getByTestId('bar-chart')).toBeInTheDocument();\n      });\n    });\n\n    it('changes chart type to area chart', async () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Change to area chart\n      const chartTypeSelect = screen.getByDisplayValue('Line Chart');\n      fireEvent.change(chartTypeSelect, { target: { value: 'area' } });\n      \n      await waitFor(() => {\n        expect(screen.getByTestId('area-chart')).toBeInTheDocument();\n      });\n    });\n\n    it('shows filter count badge when filters are applied', () => {\n      const filtersApplied: Partial<FilterOptions> = {\n        services: ['EC2', 'S3'],\n        granularity: 'weekly'\n      };\n      \n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          filters={filtersApplied}\n        />\n      );\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      expect(filterButton).toHaveTextContent('2'); // Should show count badge\n    });\n\n    it('shows clear filters button when filters are applied', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Apply a filter first\n      const granularitySelect = screen.getByDisplayValue('Daily');\n      fireEvent.change(granularitySelect, { target: { value: 'weekly' } });\n      \n      // Clear filters button should appear\n      expect(screen.getByText('Clear all filters')).toBeInTheDocument();\n    });\n\n    it('clears all filters when clear button is clicked', async () => {\n      const mockOnFiltersChange = jest.fn();\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          onFiltersChange={mockOnFiltersChange}\n        />\n      );\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Apply a filter first\n      const granularitySelect = screen.getByDisplayValue('Daily');\n      fireEvent.change(granularitySelect, { target: { value: 'weekly' } });\n      \n      // Click clear filters\n      const clearButton = screen.getByText('Clear all filters');\n      fireEvent.click(clearButton);\n      \n      await waitFor(() => {\n        expect(mockOnFiltersChange).toHaveBeenCalledWith({});\n      });\n    });\n\n    it('updates cost range filters correctly', async () => {\n      const mockOnFiltersChange = jest.fn();\n      render(\n        <AwsCostMetricsPanel \n          {...defaultProps} \n          onFiltersChange={mockOnFiltersChange}\n        />\n      );\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Set min cost\n      const minInput = screen.getByPlaceholderText('Min');\n      fireEvent.change(minInput, { target: { value: '100' } });\n      \n      await waitFor(() => {\n        expect(mockOnFiltersChange).toHaveBeenCalledWith(\n          expect.objectContaining({\n            costThreshold: expect.objectContaining({ min: 100 })\n          })\n        );\n      });\n      \n      // Set max cost\n      const maxInput = screen.getByPlaceholderText('Max');\n      fireEvent.change(maxInput, { target: { value: '2000' } });\n      \n      await waitFor(() => {\n        expect(mockOnFiltersChange).toHaveBeenCalledWith(\n          expect.objectContaining({\n            costThreshold: expect.objectContaining({ max: 2000 })\n          })\n        );\n      });\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('has proper ARIA labels and roles', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      // Check navigation structure\n      const tablist = screen.getByRole('navigation');\n      expect(tablist).toBeInTheDocument();\n      \n      // Check buttons are accessible\n      const buttons = screen.getAllByRole('button');\n      expect(buttons.length).toBeGreaterThan(0);\n      \n      // Each button should be focusable\n      buttons.forEach(button => {\n        expect(button).not.toHaveAttribute('aria-disabled');\n      });\n    });\n\n    it('filter controls have proper labels', () => {\n      render(<AwsCostMetricsPanel {...defaultProps} />);\n      \n      const filterButton = screen.getByRole('button', { name: /filters/i });\n      fireEvent.click(filterButton);\n      \n      // Check form labels using more specific selectors to avoid conflicts\n      expect(screen.getByLabelText(/services/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/regions/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/granularity/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/chart type/i)).toBeInTheDocument();\n      expect(screen.getByText('Cost Range ($)')).toBeInTheDocument();\n    });\n  });\n}); "],"names":["jest","mock","ResponsiveContainer","children","div","data-testid","LineChart","PieChart","BarChart","AreaChart","Line","Pie","Bar","Area","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","describe","mockCostData","date","totalCost","services","EC2","S3","RDS","Lambda","mockServiceBreakdown","serviceName","cost","percentage","trend","trendPercentage","color","mockAnomalies","expectedCost","actualCost","deviationPercentage","severity","contributingServices","mockCostTrend","direction","changePercentage","changeAmount","confidence","mockAvailableFilters","regions","tags","Environment","Team","defaultProps","costData","serviceBreakdown","anomalies","costTrend","availableFilters","beforeEach","clearAllMocks","it","render","AwsCostMetricsPanel","expect","screen","getByText","toBeInTheDocument","overviewTab","getByRole","name","trendsTab","buttons","getAllByRole","servicesTab","find","button","textContent","includes","className","anomaliesTab","allServicesTexts","getAllByText","allAnomaliesTexts","length","toBeGreaterThan","select","getByDisplayValue","fireEvent","click","isLoading","document","querySelector","queryByText","not","errorMessage","error","getByTestId","mockOnTimeRangeChange","fn","onTimeRangeChange","change","target","value","toHaveBeenCalledWith","mockOnExport","onExport","toHaveTextContent","anomaliesTabButton","singleDataPoint","costElements","filterButton","getByLabelText","serviceSelect","regionSelects","granularitySelect","chartTypeSelect","getByPlaceholderText","mockOnFiltersChange","onFiltersChange","waitFor","objectContaining","granularity","filtersApplied","filters","clearButton","minInput","costThreshold","min","maxInput","max","tablist","forEach","toHaveAttribute"],"mappings":"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"}