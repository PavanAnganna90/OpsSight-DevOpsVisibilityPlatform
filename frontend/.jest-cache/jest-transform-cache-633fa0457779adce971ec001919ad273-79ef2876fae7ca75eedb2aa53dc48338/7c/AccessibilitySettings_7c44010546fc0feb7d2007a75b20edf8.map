{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/ui/AccessibilitySettings.tsx"],"sourcesContent":["/**\n * AccessibilitySettings Component\n * \n * Comprehensive accessibility settings panel for theme transitions and general accessibility preferences.\n * Provides user control over motion preferences, screen reader announcements, color contrast validation,\n * and other accessibility features.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useTheme } from '../../contexts/ThemeContext';\nimport { useAccessibility } from '../../utils/accessibilityEnhancements';\nimport { AccessibilityConfig } from '../../utils/accessibilityEnhancements';\n\n// Component props interface\ninterface AccessibilitySettingsProps {\n  isOpen?: boolean;\n  onClose?: () => void;\n  showAsPanel?: boolean;\n  className?: string;\n}\n\n// Settings sections for organization\ntype SettingSection = 'motion' | 'visual' | 'audio' | 'interaction';\n\ninterface SettingItem {\n  id: keyof AccessibilityConfig;\n  label: string;\n  description: string;\n  section: SettingSection;\n  type: 'toggle' | 'select';\n  options?: Array<{ value: string; label: string }>;\n}\n\n/**\n * AccessibilitySettings Component\n * \n * Features:\n * - Motion preference controls (reduced motion, animation speed)\n * - Visual accessibility settings (high contrast, color validation)\n * - Audio settings (screen reader announcements, verbosity)\n * - Interaction preferences (keyboard shortcuts, focus management)\n * - Live preview of settings effects\n * - Integration with theme transition system\n */\nexport function AccessibilitySettings({\n  isOpen = true,\n  onClose,\n  showAsPanel = false,\n  className = '',\n}: AccessibilitySettingsProps) {\n  const { config: themeConfig, systemPreferences } = useTheme();\n  const { \n    updateConfig, \n    announceToScreenReader, \n    getReport, \n    prefersReducedMotion, \n    prefersHighContrast \n  } = useAccessibility();\n\n  // Local state for accessibility configuration\n  const [accessibilityConfig, setAccessibilityConfig] = useState<AccessibilityConfig>({\n    respectReducedMotion: true,\n    announceThemeChanges: true,\n    manageFocusDuringTransitions: true,\n    enableHighContrastMode: false,\n    validateColorContrast: true,\n    enableKeyboardShortcuts: true,\n    motionSensitivityLevel: 'reduced',\n    screenReaderVerbosity: 'standard',\n  });\n\n  const [activeSection, setActiveSection] = useState<SettingSection>('motion');\n  const [previewMode, setPreviewMode] = useState(false);\n\n  // Settings configuration\n  const settings: SettingItem[] = [\n    // Motion Settings\n    {\n      id: 'respectReducedMotion',\n      label: 'Respect Reduced Motion',\n      description: 'Automatically disable animations when system reduced motion is enabled',\n      section: 'motion',\n      type: 'toggle',\n    },\n    {\n      id: 'motionSensitivityLevel',\n      label: 'Motion Sensitivity',\n      description: 'Control the level of motion reduction for theme transitions',\n      section: 'motion',\n      type: 'select',\n      options: [\n        { value: 'none', label: 'No Motion (Static)' },\n        { value: 'minimal', label: 'Minimal Motion' },\n        { value: 'reduced', label: 'Reduced Motion' },\n      ],\n    },\n    // Visual Settings\n    {\n      id: 'enableHighContrastMode',\n      label: 'Enhanced High Contrast',\n      description: 'Enable enhanced high contrast mode for better visibility',\n      section: 'visual',\n      type: 'toggle',\n    },\n    {\n      id: 'validateColorContrast',\n      label: 'Color Contrast Validation',\n      description: 'Automatically validate color contrast during theme changes',\n      section: 'visual',\n      type: 'toggle',\n    },\n    // Audio Settings\n    {\n      id: 'announceThemeChanges',\n      label: 'Announce Theme Changes',\n      description: 'Have screen readers announce when themes are changed',\n      section: 'audio',\n      type: 'toggle',\n    },\n    {\n      id: 'screenReaderVerbosity',\n      label: 'Screen Reader Verbosity',\n      description: 'Control how much information is announced to screen readers',\n      section: 'audio',\n      type: 'select',\n      options: [\n        { value: 'minimal', label: 'Minimal' },\n        { value: 'standard', label: 'Standard' },\n        { value: 'verbose', label: 'Verbose' },\n      ],\n    },\n    // Interaction Settings\n    {\n      id: 'enableKeyboardShortcuts',\n      label: 'Keyboard Shortcuts',\n      description: 'Enable keyboard shortcuts for theme switching (Alt+T, Alt+D, etc.)',\n      section: 'interaction',\n      type: 'toggle',\n    },\n    {\n      id: 'manageFocusDuringTransitions',\n      label: 'Focus Management',\n      description: 'Maintain focus position during theme transitions',\n      section: 'interaction',\n      type: 'toggle',\n    },\n  ];\n\n  // Load current accessibility settings\n  useEffect(() => {\n    const report = getReport();\n    setAccessibilityConfig({\n      respectReducedMotion: report.reducedMotionEnabled,\n      announceThemeChanges: report.screenReaderSupport,\n      manageFocusDuringTransitions: report.focusManagementEnabled,\n      enableHighContrastMode: report.highContrastEnabled,\n      validateColorContrast: report.colorContrastValidation,\n      enableKeyboardShortcuts: report.keyboardShortcutsEnabled,\n      motionSensitivityLevel: systemPreferences.reducedMotion ? 'none' : 'reduced',\n      screenReaderVerbosity: 'standard',\n    });\n  }, [getReport, systemPreferences.reducedMotion]);\n\n  // Handle setting changes\n  const handleSettingChange = (settingId: keyof AccessibilityConfig, value: any) => {\n    const newConfig = { ...accessibilityConfig, [settingId]: value };\n    setAccessibilityConfig(newConfig);\n    \n    // Apply settings immediately\n    updateConfig({ [settingId]: value });\n    \n    // Announce changes to screen readers\n    if (newConfig.announceThemeChanges) {\n      const setting = settings.find(s => s.id === settingId);\n      const announcement = `${setting?.label} ${value ? 'enabled' : value === false ? 'disabled' : `set to ${value}`}`;\n      announceToScreenReader(announcement, 'polite');\n    }\n  };\n\n  // Get settings by section\n  const getSettingsBySection = (section: SettingSection) => {\n    return settings.filter(setting => setting.section === section);\n  };\n\n  // Section icons\n  const getSectionIcon = (section: SettingSection) => {\n    const icons = {\n      motion: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n        </svg>\n      ),\n      visual: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n        </svg>\n      ),\n      audio: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.536 8.464a5 5 0 010 7.072M18 12a9 9 0 01-9 9m4.5-1.206a7 7 0 010-15.588\" />\n        </svg>\n      ),\n      interaction: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a4 4 0 004-4V5z\" />\n        </svg>\n      ),\n    };\n    return icons[section];\n  };\n\n  // Render setting item\n  const renderSettingItem = (setting: SettingItem) => {\n    const currentValue = accessibilityConfig[setting.id];\n\n    return (\n      <div key={setting.id} className=\"setting-item p-4 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1 min-w-0\">\n            <label \n              htmlFor={setting.id}\n              className=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\"\n            >\n              {setting.label}\n            </label>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              {setting.description}\n            </p>\n          </div>\n          \n          <div className=\"ml-4 flex-shrink-0\">\n            {setting.type === 'toggle' ? (\n              <button\n                id={setting.id}\n                type=\"button\"\n                className={`\n                  relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent \n                  transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n                  ${currentValue ? 'bg-blue-600' : 'bg-gray-200 dark:bg-gray-600'}\n                `}\n                role=\"switch\"\n                aria-checked={currentValue as boolean}\n                aria-labelledby={`${setting.id}-label`}\n                onClick={() => handleSettingChange(setting.id, !currentValue)}\n              >\n                <span\n                  className={`\n                    pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 \n                    transition duration-200 ease-in-out\n                    ${currentValue ? 'translate-x-5' : 'translate-x-0'}\n                  `}\n                />\n              </button>\n            ) : (\n              <select\n                id={setting.id}\n                value={currentValue as string}\n                onChange={(e) => handleSettingChange(setting.id, e.target.value)}\n                className=\"\n                  mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 \n                  bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\n                  focus:outline-none focus:ring-blue-500 focus:border-blue-500 \n                  sm:text-sm rounded-md\n                \"\n                aria-labelledby={`${setting.id}-label`}\n              >\n                {setting.options?.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Preview mode toggle\n  const togglePreviewMode = () => {\n    setPreviewMode(!previewMode);\n    announceToScreenReader(\n      `Preview mode ${!previewMode ? 'enabled' : 'disabled'}`, \n      'assertive'\n    );\n  };\n\n  // System preferences indicator\n  const SystemPreferencesIndicator = () => (\n    <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6\">\n      <h4 className=\"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2\">\n        System Preferences Detected\n      </h4>\n      <ul className=\"text-sm text-blue-800 dark:text-blue-200 space-y-1\">\n        {systemPreferences.reducedMotion && (\n          <li>• Reduced motion preference enabled</li>\n        )}\n        {systemPreferences.highContrast && (\n          <li>• High contrast preference enabled</li>\n        )}\n        <li>• Color scheme: {systemPreferences.colorScheme}</li>\n      </ul>\n    </div>\n  );\n\n  // Content wrapper classes\n  const wrapperClasses = showAsPanel \n    ? `accessibility-settings-panel ${className}` \n    : `accessibility-settings-modal ${className}`;\n\n  const contentClasses = showAsPanel\n    ? \"w-full max-w-none\"\n    : \"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden\";\n\n  if (!showAsPanel && !isOpen) return null;\n\n  return (\n    <div className={wrapperClasses}>\n      {!showAsPanel && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className={contentClasses}>\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n                Accessibility Settings\n              </h2>\n              <button\n                onClick={onClose}\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md p-2\"\n                aria-label=\"Close accessibility settings\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={showAsPanel ? \"w-full\" : \"flex-1 overflow-y-auto\"}>\n        {/* System Preferences Indicator */}\n        <div className=\"p-6\">\n          <SystemPreferencesIndicator />\n        </div>\n\n        {/* Section Navigation */}\n        <div className=\"px-6 pb-4\">\n          <nav className=\"flex space-x-1\" role=\"tablist\">\n            {(['motion', 'visual', 'audio', 'interaction'] as SettingSection[]).map((section) => (\n              <button\n                key={section}\n                type=\"button\"\n                role=\"tab\"\n                aria-selected={activeSection === section}\n                aria-controls={`${section}-panel`}\n                className={`\n                  flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md capitalize\n                  transition-colors duration-200\n                  ${activeSection === section\n                    ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n                  }\n                `}\n                onClick={() => setActiveSection(section)}\n              >\n                {getSectionIcon(section)}\n                {section}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Settings Content */}\n        <div className=\"px-6 pb-6\">\n          {(['motion', 'visual', 'audio', 'interaction'] as SettingSection[]).map((section) => (\n            <div\n              key={section}\n              id={`${section}-panel`}\n              role=\"tabpanel\"\n              aria-labelledby={`${section}-tab`}\n              className={activeSection === section ? 'block' : 'hidden'}\n            >\n              <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden\">\n                {getSettingsBySection(section).map(renderSettingItem)}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Preview Mode Toggle */}\n        <div className=\"px-6 pb-6\">\n          <button\n            onClick={togglePreviewMode}\n            className={`\n              w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-md\n              transition-colors duration-200\n              ${previewMode\n                ? 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 border border-green-300 dark:border-green-700'\n                : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600'\n              }\n              hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-blue-500\n            `}\n            aria-pressed={previewMode}\n          >\n            {previewMode ? (\n              <>\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n                Preview Mode Active\n              </>\n            ) : (\n              <>\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n                Enable Preview Mode\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Compact accessibility settings toggle for quick access\n */\nexport function AccessibilityQuickToggle({ className = '' }: { className?: string }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const { prefersReducedMotion, announceToScreenReader } = useAccessibility();\n\n  const toggleSettings = () => {\n    setIsOpen(!isOpen);\n    if (!isOpen) {\n      announceToScreenReader('Accessibility settings opened', 'polite');\n    }\n  };\n\n  return (\n    <>\n      <button\n        onClick={toggleSettings}\n        className={`\n          accessibility-quick-toggle p-2 rounded-md \n          bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700\n          border border-gray-300 dark:border-gray-600\n          focus:outline-none focus:ring-2 focus:ring-blue-500\n          transition-colors duration-200\n          ${className}\n        `}\n        aria-label=\"Open accessibility settings\"\n        title=\"Accessibility Settings\"\n      >\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z\" />\n        </svg>\n        {prefersReducedMotion() && (\n          <span className=\"sr-only\">Reduced motion active</span>\n        )}\n      </button>\n\n      <AccessibilitySettings\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        showAsPanel={false}\n      />\n    </>\n  );\n} "],"names":["AccessibilityQuickToggle","AccessibilitySettings","isOpen","onClose","showAsPanel","className","config","themeConfig","systemPreferences","useTheme","updateConfig","announceToScreenReader","getReport","prefersReducedMotion","prefersHighContrast","useAccessibility","accessibilityConfig","setAccessibilityConfig","useState","respectReducedMotion","announceThemeChanges","manageFocusDuringTransitions","enableHighContrastMode","validateColorContrast","enableKeyboardShortcuts","motionSensitivityLevel","screenReaderVerbosity","activeSection","setActiveSection","previewMode","setPreviewMode","settings","id","label","description","section","type","options","value","useEffect","report","reducedMotionEnabled","screenReaderSupport","focusManagementEnabled","highContrastEnabled","colorContrastValidation","keyboardShortcutsEnabled","reducedMotion","handleSettingChange","settingId","newConfig","setting","find","s","announcement","getSettingsBySection","filter","getSectionIcon","icons","motion","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","visual","audio","interaction","renderSettingItem","currentValue","div","htmlFor","p","button","role","aria-checked","aria-labelledby","onClick","span","select","onChange","e","target","map","option","togglePreviewMode","SystemPreferencesIndicator","h4","ul","li","highContrast","colorScheme","wrapperClasses","contentClasses","h2","aria-label","nav","aria-selected","aria-controls","aria-pressed","setIsOpen","toggleSettings","title"],"mappings":"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"}