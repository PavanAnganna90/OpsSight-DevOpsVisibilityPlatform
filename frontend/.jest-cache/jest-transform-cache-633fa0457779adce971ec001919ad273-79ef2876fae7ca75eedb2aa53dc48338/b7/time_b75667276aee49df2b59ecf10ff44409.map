{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/utils/time.ts"],"sourcesContent":["/**\n * Time utility functions for formatting durations and timestamps\n */\n\n/**\n * Format duration in seconds to human-readable string\n * @param seconds Duration in seconds\n * @returns Formatted duration string (e.g., \"2m 30s\", \"1h 15m\", \"45s\")\n */\nexport const formatDuration = (seconds: number): string => {\n  if (seconds < 0 || !Number.isFinite(seconds)) return '0s';\n  \n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const remainingSeconds = Math.floor(seconds % 60);\n\n  const parts: string[] = [];\n  \n  if (hours > 0) {\n    parts.push(`${hours}h`);\n  }\n  \n  if (minutes > 0) {\n    parts.push(`${minutes}m`);\n  }\n  \n  if (remainingSeconds > 0 || parts.length === 0) {\n    parts.push(`${remainingSeconds}s`);\n  }\n\n  return parts.join(' ');\n};\n\n/**\n * Format duration with more precision for shorter durations\n * @param seconds Duration in seconds (can include milliseconds as decimal)\n * @returns Formatted duration string with appropriate precision\n */\nexport const formatPreciseDuration = (seconds: number): string => {\n  if (seconds < 0 || !Number.isFinite(seconds)) return '0s';\n  \n  if (seconds < 1) {\n    return `${Math.round(seconds * 1000)}ms`;\n  }\n  \n  if (seconds < 60) {\n    return `${seconds.toFixed(1)}s`;\n  }\n  \n  return formatDuration(seconds);\n};\n\n/**\n * Format timestamp to relative time (e.g., \"2 minutes ago\", \"in 1 hour\")\n * @param timestamp Date or timestamp to format\n * @returns Relative time string\n */\nexport const formatRelativeTime = (timestamp: Date | string | number): string => {\n  const date = new Date(timestamp);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffSeconds = Math.floor(diffMs / 1000);\n  const diffMinutes = Math.floor(diffSeconds / 60);\n  const diffHours = Math.floor(diffMinutes / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (Math.abs(diffSeconds) < 60) {\n    return diffSeconds > 0 ? 'just now' : 'in a moment';\n  }\n  \n  if (Math.abs(diffMinutes) < 60) {\n    const minutes = Math.abs(diffMinutes);\n    return diffMinutes > 0 \n      ? `${minutes} minute${minutes !== 1 ? 's' : ''} ago`\n      : `in ${minutes} minute${minutes !== 1 ? 's' : ''}`;\n  }\n  \n  if (Math.abs(diffHours) < 24) {\n    const hours = Math.abs(diffHours);\n    return diffHours > 0 \n      ? `${hours} hour${hours !== 1 ? 's' : ''} ago`\n      : `in ${hours} hour${hours !== 1 ? 's' : ''}`;\n  }\n  \n  const days = Math.abs(diffDays);\n  return diffDays > 0 \n    ? `${days} day${days !== 1 ? 's' : ''} ago`\n    : `in ${days} day${days !== 1 ? 's' : ''}`;\n};\n\n/**\n * Parse duration string to seconds\n * @param duration Duration string (e.g., \"2m 30s\", \"1h 15m\", \"45s\")\n * @returns Duration in seconds\n */\nexport const parseDurationToSeconds = (duration: string): number => {\n  // Process patterns in order of specificity to avoid conflicts\n  // ms must come before s to avoid partial matches\n  const patterns = [\n    { pattern: /(\\d+)h/g, multiplier: 3600 },\n    { pattern: /(\\d+)ms/g, multiplier: 0.001 },\n    { pattern: /(\\d+)m(?!s)/g, multiplier: 60 }, // negative lookahead to exclude 'ms'\n    { pattern: /(\\d+)s(?![\\w])/g, multiplier: 1 } // negative lookahead to exclude 'ms'\n  ];\n\n  let totalSeconds = 0;\n\n  patterns.forEach(({ pattern, multiplier }) => {\n    // Create new regex instance to avoid global state issues\n    const regex = new RegExp(pattern.source, 'g');\n    let match;\n    while ((match = regex.exec(duration)) !== null) {\n      totalSeconds += parseInt(match[1], 10) * multiplier;\n    }\n  });\n\n  return totalSeconds;\n}; "],"names":["formatDuration","formatPreciseDuration","formatRelativeTime","parseDurationToSeconds","seconds","Number","isFinite","hours","Math","floor","minutes","remainingSeconds","parts","push","length","join","round","toFixed","timestamp","date","Date","now","diffMs","getTime","diffSeconds","diffMinutes","diffHours","diffDays","abs","days","duration","patterns","pattern","multiplier","totalSeconds","forEach","regex","RegExp","source","match","exec","parseInt"],"mappings":"AAAA;;CAEC,GAED;;;;CAIC;;;;;;;;;;;IACYA,cAAc;eAAdA;;IA6BAC,qBAAqB;eAArBA;;IAmBAC,kBAAkB;eAAlBA;;IAsCAC,sBAAsB;eAAtBA;;;AAtFN,MAAMH,iBAAiB,CAACI;IAC7B,IAAIA,UAAU,KAAK,CAACC,OAAOC,QAAQ,CAACF,UAAU,OAAO;IAErD,MAAMG,QAAQC,KAAKC,KAAK,CAACL,UAAU;IACnC,MAAMM,UAAUF,KAAKC,KAAK,CAAC,AAACL,UAAU,OAAQ;IAC9C,MAAMO,mBAAmBH,KAAKC,KAAK,CAACL,UAAU;IAE9C,MAAMQ,QAAkB,EAAE;IAE1B,IAAIL,QAAQ,GAAG;QACbK,MAAMC,IAAI,CAAC,GAAGN,MAAM,CAAC,CAAC;IACxB;IAEA,IAAIG,UAAU,GAAG;QACfE,MAAMC,IAAI,CAAC,GAAGH,QAAQ,CAAC,CAAC;IAC1B;IAEA,IAAIC,mBAAmB,KAAKC,MAAME,MAAM,KAAK,GAAG;QAC9CF,MAAMC,IAAI,CAAC,GAAGF,iBAAiB,CAAC,CAAC;IACnC;IAEA,OAAOC,MAAMG,IAAI,CAAC;AACpB;AAOO,MAAMd,wBAAwB,CAACG;IACpC,IAAIA,UAAU,KAAK,CAACC,OAAOC,QAAQ,CAACF,UAAU,OAAO;IAErD,IAAIA,UAAU,GAAG;QACf,OAAO,GAAGI,KAAKQ,KAAK,CAACZ,UAAU,MAAM,EAAE,CAAC;IAC1C;IAEA,IAAIA,UAAU,IAAI;QAChB,OAAO,GAAGA,QAAQa,OAAO,CAAC,GAAG,CAAC,CAAC;IACjC;IAEA,OAAOjB,eAAeI;AACxB;AAOO,MAAMF,qBAAqB,CAACgB;IACjC,MAAMC,OAAO,IAAIC,KAAKF;IACtB,MAAMG,MAAM,IAAID;IAChB,MAAME,SAASD,IAAIE,OAAO,KAAKJ,KAAKI,OAAO;IAC3C,MAAMC,cAAchB,KAAKC,KAAK,CAACa,SAAS;IACxC,MAAMG,cAAcjB,KAAKC,KAAK,CAACe,cAAc;IAC7C,MAAME,YAAYlB,KAAKC,KAAK,CAACgB,cAAc;IAC3C,MAAME,WAAWnB,KAAKC,KAAK,CAACiB,YAAY;IAExC,IAAIlB,KAAKoB,GAAG,CAACJ,eAAe,IAAI;QAC9B,OAAOA,cAAc,IAAI,aAAa;IACxC;IAEA,IAAIhB,KAAKoB,GAAG,CAACH,eAAe,IAAI;QAC9B,MAAMf,UAAUF,KAAKoB,GAAG,CAACH;QACzB,OAAOA,cAAc,IACjB,GAAGf,QAAQ,OAAO,EAAEA,YAAY,IAAI,MAAM,GAAG,IAAI,CAAC,GAClD,CAAC,GAAG,EAAEA,QAAQ,OAAO,EAAEA,YAAY,IAAI,MAAM,IAAI;IACvD;IAEA,IAAIF,KAAKoB,GAAG,CAACF,aAAa,IAAI;QAC5B,MAAMnB,QAAQC,KAAKoB,GAAG,CAACF;QACvB,OAAOA,YAAY,IACf,GAAGnB,MAAM,KAAK,EAAEA,UAAU,IAAI,MAAM,GAAG,IAAI,CAAC,GAC5C,CAAC,GAAG,EAAEA,MAAM,KAAK,EAAEA,UAAU,IAAI,MAAM,IAAI;IACjD;IAEA,MAAMsB,OAAOrB,KAAKoB,GAAG,CAACD;IACtB,OAAOA,WAAW,IACd,GAAGE,KAAK,IAAI,EAAEA,SAAS,IAAI,MAAM,GAAG,IAAI,CAAC,GACzC,CAAC,GAAG,EAAEA,KAAK,IAAI,EAAEA,SAAS,IAAI,MAAM,IAAI;AAC9C;AAOO,MAAM1B,yBAAyB,CAAC2B;IACrC,8DAA8D;IAC9D,iDAAiD;IACjD,MAAMC,WAAW;QACf;YAAEC,SAAS;YAAWC,YAAY;QAAK;QACvC;YAAED,SAAS;YAAYC,YAAY;QAAM;QACzC;YAAED,SAAS;YAAgBC,YAAY;QAAG;QAC1C;YAAED,SAAS;YAAmBC,YAAY;QAAE,EAAE,qCAAqC;KACpF;IAED,IAAIC,eAAe;IAEnBH,SAASI,OAAO,CAAC,CAAC,EAAEH,OAAO,EAAEC,UAAU,EAAE;QACvC,yDAAyD;QACzD,MAAMG,QAAQ,IAAIC,OAAOL,QAAQM,MAAM,EAAE;QACzC,IAAIC;QACJ,MAAO,AAACA,CAAAA,QAAQH,MAAMI,IAAI,CAACV,SAAQ,MAAO,KAAM;YAC9CI,gBAAgBO,SAASF,KAAK,CAAC,EAAE,EAAE,MAAMN;QAC3C;IACF;IAEA,OAAOC;AACT"}