{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/utils/errorHandling.ts"],"sourcesContent":["/**\n * Error handling utilities for OAuth flow and API interactions.\n * Provides centralized error management, logging, and user feedback.\n */\n\n/**\n * Custom error types for OAuth and API operations\n */\nexport enum ErrorType {\n  OAUTH_ERROR = 'OAUTH_ERROR',\n  API_ERROR = 'API_ERROR',\n  NETWORK_ERROR = 'NETWORK_ERROR',\n  VALIDATION_ERROR = 'VALIDATION_ERROR',\n  CSRF_ERROR = 'CSRF_ERROR',\n  TOKEN_ERROR = 'TOKEN_ERROR',\n  UNKNOWN_ERROR = 'UNKNOWN_ERROR',\n}\n\n/**\n * OAuth specific error codes from GitHub\n */\nexport enum OAuthErrorCode {\n  ACCESS_DENIED = 'access_denied',\n  INVALID_REQUEST = 'invalid_request',\n  INVALID_CLIENT = 'invalid_client',\n  INVALID_GRANT = 'invalid_grant',\n  UNAUTHORIZED_CLIENT = 'unauthorized_client',\n  UNSUPPORTED_GRANT_TYPE = 'unsupported_grant_type',\n  INVALID_SCOPE = 'invalid_scope',\n}\n\n/**\n * Custom application error class\n */\nexport class AppError extends Error {\n  public readonly type: ErrorType;\n  public readonly code?: string;\n  public readonly userMessage: string;\n  public readonly originalError?: Error;\n  public readonly timestamp: Date;\n  public readonly context?: Record<string, any>;\n\n  constructor(\n    type: ErrorType,\n    message: string,\n    userMessage: string,\n    code?: string,\n    originalError?: Error,\n    context?: Record<string, any>\n  ) {\n    super(message);\n    this.name = 'AppError';\n    this.type = type;\n    this.code = code;\n    this.userMessage = userMessage;\n    this.originalError = originalError;\n    this.timestamp = new Date();\n    this.context = context;\n\n    // Maintains proper stack trace for where error was thrown (V8 only)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AppError);\n    }\n  }\n}\n\n/**\n * OAuth error class for handling OAuth-specific errors\n */\nexport class OAuthError extends AppError {\n  constructor(\n    code: string,\n    description?: string,\n    state?: string,\n    context?: Record<string, any>\n  ) {\n    const userMessage = getOAuthErrorMessage(code);\n    const message = `OAuth Error: ${code}${description ? ` - ${description}` : ''}`;\n    \n    super(\n      ErrorType.OAUTH_ERROR,\n      message,\n      userMessage,\n      code,\n      undefined,\n      { ...context, state, description }\n    );\n  }\n}\n\n/**\n * API error class for handling HTTP API errors\n */\nexport class APIError extends AppError {\n  public readonly status: number;\n  public readonly statusText: string;\n\n  constructor(\n    status: number,\n    statusText: string,\n    message: string,\n    userMessage?: string,\n    context?: Record<string, any>\n  ) {\n    super(\n      ErrorType.API_ERROR,\n      `API Error ${status}: ${message}`,\n      userMessage || getAPIErrorMessage(status),\n      status.toString(),\n      undefined,\n      { ...context, status, statusText }\n    );\n    \n    this.status = status;\n    this.statusText = statusText;\n  }\n}\n\n/**\n * Network error class for handling network-related errors\n */\nexport class NetworkError extends AppError {\n  constructor(message: string, originalError?: Error, context?: Record<string, any>) {\n    super(\n      ErrorType.NETWORK_ERROR,\n      `Network Error: ${message}`,\n      'Unable to connect to the server. Please check your internet connection and try again.',\n      'NETWORK_ERROR',\n      originalError,\n      context\n    );\n  }\n}\n\n/**\n * CSRF error class for handling CSRF token validation errors\n */\nexport class CSRFError extends AppError {\n  constructor(message: string, context?: Record<string, any>) {\n    super(\n      ErrorType.CSRF_ERROR,\n      `CSRF Error: ${message}`,\n      'Security validation failed. Please try logging in again.',\n      'CSRF_ERROR',\n      undefined,\n      context\n    );\n  }\n}\n\n/**\n * Token error class for handling JWT token errors\n */\nexport class TokenError extends AppError {\n  constructor(message: string, code?: string, context?: Record<string, any>) {\n    super(\n      ErrorType.TOKEN_ERROR,\n      `Token Error: ${message}`,\n      'Your session has expired. Please log in again.',\n      code || 'TOKEN_ERROR',\n      undefined,\n      context\n    );\n  }\n}\n\n/**\n * Get user-friendly error message for OAuth errors\n * \n * @param code - OAuth error code\n * @returns User-friendly error message\n */\nfunction getOAuthErrorMessage(code: string): string {\n  const messages: Record<string, string> = {\n    [OAuthErrorCode.ACCESS_DENIED]: 'You denied access to the application. Please try again if you want to continue.',\n    [OAuthErrorCode.INVALID_REQUEST]: 'The authentication request was invalid. Please try again.',\n    [OAuthErrorCode.INVALID_CLIENT]: 'There was a problem with the application configuration. Please contact support.',\n    [OAuthErrorCode.INVALID_GRANT]: 'The authorization code is invalid or expired. Please try logging in again.',\n    [OAuthErrorCode.UNAUTHORIZED_CLIENT]: 'This application is not authorized to use this authentication method.',\n    [OAuthErrorCode.UNSUPPORTED_GRANT_TYPE]: 'This authentication method is not supported.',\n    [OAuthErrorCode.INVALID_SCOPE]: 'The requested permissions are invalid. Please contact support.',\n  };\n\n  return messages[code] || 'An authentication error occurred. Please try again.';\n}\n\n/**\n * Get user-friendly error message for API status codes\n * \n * @param status - HTTP status code\n * @returns User-friendly error message\n */\nfunction getAPIErrorMessage(status: number): string {\n  const messages: Record<number, string> = {\n    400: 'The request was invalid. Please check your input and try again.',\n    401: 'Your session has expired. Please log in again.',\n    403: 'You do not have permission to perform this action.',\n    404: 'The requested resource was not found.',\n    409: 'There was a conflict with your request. Please try again.',\n    422: 'The provided data is invalid. Please check your input.',\n    429: 'Too many requests. Please wait a moment and try again.',\n    500: 'An internal server error occurred. Please try again later.',\n    502: 'The server is temporarily unavailable. Please try again later.',\n    503: 'The service is temporarily unavailable. Please try again later.',\n    504: 'The request timed out. Please try again.',\n  };\n\n  if (status >= 500) {\n    return 'A server error occurred. Please try again later.';\n  } else if (status >= 400) {\n    return messages[status] || 'An error occurred with your request. Please try again.';\n  }\n\n  return 'An unexpected error occurred. Please try again.';\n}\n\n/**\n * Parse and handle OAuth errors from URL parameters\n * \n * @param searchParams - URL search parameters\n * @returns OAuthError if error parameters are found, null otherwise\n */\nexport function parseOAuthError(searchParams: URLSearchParams): OAuthError | null {\n  const error = searchParams.get('error');\n  \n  if (!error) {\n    return null;\n  }\n\n  const errorDescription = searchParams.get('error_description');\n  const errorUri = searchParams.get('error_uri');\n  const state = searchParams.get('state');\n\n  return new OAuthError(error, errorDescription || undefined, state || undefined, {\n    error_uri: errorUri,\n  });\n}\n\n/**\n * Handle fetch API errors and convert to appropriate error types\n * \n * @param response - Fetch response object\n * @param context - Additional context for error\n * @returns Promise that rejects with appropriate error type\n */\nexport async function handleFetchError(\n  response: Response,\n  context?: Record<string, any>\n): Promise<never> {\n  let errorData: any = {};\n  \n  try {\n    const contentType = response.headers.get('content-type');\n    if (contentType?.includes('application/json')) {\n      errorData = await response.json();\n    } else {\n      errorData = { message: await response.text() };\n    }\n  } catch {\n    // Ignore JSON parsing errors, use default error data\n  }\n\n  const message = errorData.message || errorData.error || response.statusText || 'Unknown error';\n  \n  throw new APIError(\n    response.status,\n    response.statusText,\n    message,\n    errorData.userMessage,\n    { ...context, errorData, url: response.url }\n  );\n}\n\n/**\n * Create a network error from a fetch rejection\n * \n * @param error - The original error\n * @param context - Additional context\n * @returns NetworkError instance\n */\nexport function createNetworkError(error: any, context?: Record<string, any>): NetworkError {\n  if (error instanceof TypeError && error.message.includes('fetch')) {\n    return new NetworkError('Failed to fetch data from server', error, context);\n  }\n  \n  if (error.name === 'AbortError') {\n    return new NetworkError('Request was cancelled', error, context);\n  }\n  \n  return new NetworkError(error.message || 'Network request failed', error, context);\n}\n\n/**\n * Error logging utility with different log levels\n */\nexport class ErrorLogger {\n  private static isDevelopment = process.env.NODE_ENV === 'development';\n  \n  /**\n   * Log error to console and potentially external service\n   * \n   * @param error - The error to log\n   * @param level - Log level (error, warn, info)\n   * @param context - Additional context\n   */\n  static log(\n    error: Error | AppError,\n    level: 'error' | 'warn' | 'info' = 'error',\n    context?: Record<string, any>\n  ): void {\n    const logData = {\n      timestamp: new Date().toISOString(),\n      level,\n      message: error.message,\n      stack: error.stack,\n      context,\n      ...(error instanceof AppError && {\n        type: error.type,\n        code: error.code,\n        userMessage: error.userMessage,\n        errorContext: error.context,\n      }),\n    };\n\n    // Console logging in development\n    if (this.isDevelopment) {\n      console.group(`ðŸš¨ ${level.toUpperCase()}: ${error.message}`);\n      console.error('Error Object:', error);\n      console.error('Log Data:', logData);\n      if (error instanceof AppError && error.originalError) {\n        console.error('Original Error:', error.originalError);\n      }\n      console.groupEnd();\n    } else {\n      // In production, use structured logging\n      console[level](JSON.stringify(logData));\n    }\n\n    // TODO: Send to external error tracking service (e.g., Sentry, LogRocket)\n    // this.sendToErrorService(logData);\n  }\n\n  /**\n   * Log OAuth-specific errors\n   * \n   * @param error - OAuth error\n   * @param context - Additional context\n   */\n  static logOAuthError(error: OAuthError, context?: Record<string, any>): void {\n    this.log(error, 'error', {\n      ...context,\n      category: 'oauth',\n      oauthCode: error.code,\n    });\n  }\n\n  /**\n   * Log API errors\n   * \n   * @param error - API error\n   * @param context - Additional context\n   */\n  static logAPIError(error: APIError, context?: Record<string, any>): void {\n    this.log(error, 'error', {\n      ...context,\n      category: 'api',\n      status: error.status,\n      statusText: error.statusText,\n    });\n  }\n\n  /**\n   * Log network errors\n   * \n   * @param error - Network error\n   * @param context - Additional context\n   */\n  static logNetworkError(error: NetworkError, context?: Record<string, any>): void {\n    this.log(error, 'error', {\n      ...context,\n      category: 'network',\n    });\n  }\n}\n\n/**\n * Global error handler for unhandled errors\n * \n * @param error - The unhandled error\n * @param errorInfo - React error info (if from error boundary)\n */\nexport function handleGlobalError(error: Error, errorInfo?: any): void {\n  const appError = error instanceof AppError \n    ? error \n    : new AppError(\n        ErrorType.UNKNOWN_ERROR,\n        error.message || 'Unknown error occurred',\n        'An unexpected error occurred. Please refresh the page and try again.',\n        'UNKNOWN_ERROR',\n        error\n      );\n\n  ErrorLogger.log(appError, 'error', {\n    category: 'global',\n    errorInfo,\n    userAgent: navigator.userAgent,\n    url: window.location.href,\n  });\n}\n\n/**\n * Utility to check if an error is recoverable\n * \n * @param error - The error to check\n * @returns True if the error is recoverable\n */\nexport function isRecoverableError(error: Error | AppError): boolean {\n  if (error instanceof AppError) {\n    // Network errors and some API errors are recoverable\n    return error.type === ErrorType.NETWORK_ERROR || \n           (error.type === ErrorType.API_ERROR && error.code !== '403');\n  }\n  \n  return false;\n}\n\n/**\n * Utility to sanitize error data for logging (remove sensitive information)\n * \n * @param data - Data to sanitize\n * @returns Sanitized data\n */\nexport function sanitizeErrorData(data: any): any {\n  if (!data || typeof data !== 'object') {\n    return data;\n  }\n\n  const sensitiveKeys = ['password', 'token', 'key', 'secret', 'authorization'];\n  const sanitized = { ...data };\n\n  Object.keys(sanitized).forEach(key => {\n    if (sensitiveKeys.some(sensitive => key.toLowerCase().includes(sensitive))) {\n      sanitized[key] = '[REDACTED]';\n    } else if (typeof sanitized[key] === 'object') {\n      sanitized[key] = sanitizeErrorData(sanitized[key]);\n    }\n  });\n\n  return sanitized;\n} "],"names":["APIError","AppError","CSRFError","ErrorLogger","ErrorType","NetworkError","OAuthError","OAuthErrorCode","TokenError","createNetworkError","handleFetchError","handleGlobalError","isRecoverableError","parseOAuthError","sanitizeErrorData","Error","constructor","type","message","userMessage","code","originalError","context","name","timestamp","Date","captureStackTrace","description","state","getOAuthErrorMessage","undefined","status","statusText","getAPIErrorMessage","toString","messages","searchParams","error","get","errorDescription","errorUri","error_uri","response","errorData","contentType","headers","includes","json","text","url","TypeError","isDevelopment","process","env","NODE_ENV","log","level","logData","toISOString","stack","errorContext","console","group","toUpperCase","groupEnd","JSON","stringify","logOAuthError","category","oauthCode","logAPIError","logNetworkError","errorInfo","appError","userAgent","navigator","window","location","href","data","sensitiveKeys","sanitized","Object","keys","forEach","key","some","sensitive","toLowerCase"],"mappings":"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"}