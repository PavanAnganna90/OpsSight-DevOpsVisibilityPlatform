33c169b4f2ce4be9e6aec6891139a306
'use client';
"use strict";

/* istanbul ignore next */
function cov_c29g9pzno() {
  var path = "/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/login/page.tsx";
  var hash = "958c713baf9d349985668b4ebcbeef4a0882482b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/login/page.tsx",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 13,
          column: 3
        }
      },
      "2": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 25
        }
      },
      "3": {
        start: {
          line: 14,
          column: 20
        },
        end: {
          line: 14,
          column: 48
        }
      },
      "4": {
        start: {
          line: 15,
          column: 15
        },
        end: {
          line: 15,
          column: 31
        }
      },
      "5": {
        start: {
          line: 16,
          column: 20
        },
        end: {
          line: 16,
          column: 46
        }
      },
      "6": {
        start: {
          line: 17,
          column: 21
        },
        end: {
          line: 17,
          column: 58
        }
      },
      "7": {
        start: {
          line: 18,
          column: 12
        },
        end: {
          line: 18,
          column: 37
        }
      },
      "8": {
        start: {
          line: 20,
          column: 19
        },
        end: {
          line: 20,
          column: 47
        }
      },
      "9": {
        start: {
          line: 21,
          column: 29
        },
        end: {
          line: 21,
          column: 56
        }
      },
      "10": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 30,
          column: 7
        }
      },
      "11": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 26,
          column: 9
        }
      },
      "12": {
        start: {
          line: 25,
          column: 12
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "13": {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 42,
          column: 7
        }
      },
      "14": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "15": {
        start: {
          line: 34,
          column: 26
        },
        end: {
          line: 37,
          column: 20
        }
      },
      "16": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 38,
          column: 43
        }
      },
      "17": {
        start: {
          line: 38,
          column: 23
        },
        end: {
          line: 38,
          column: 42
        }
      },
      "18": {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 111,
          column: 7
        }
      },
      "19": {
        start: {
          line: 74,
          column: 32
        },
        end: {
          line: 74,
          column: 149
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 10,
            column: 9
          },
          end: {
            line: 10,
            column: 10
          }
        },
        loc: {
          start: {
            line: 10,
            column: 20
          },
          end: {
            line: 12,
            column: 5
          }
        },
        line: 10
      },
      "1": {
        name: "LoginPage",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 18
          }
        },
        loc: {
          start: {
            line: 19,
            column: 21
          },
          end: {
            line: 112,
            column: 1
          }
        },
        line: 19
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 23,
            column: 26
          },
          end: {
            line: 23,
            column: 27
          }
        },
        loc: {
          start: {
            line: 23,
            column: 30
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 23
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 32,
            column: 26
          },
          end: {
            line: 32,
            column: 27
          }
        },
        loc: {
          start: {
            line: 32,
            column: 30
          },
          end: {
            line: 40,
            column: 5
          }
        },
        line: 32
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 34,
            column: 37
          },
          end: {
            line: 34,
            column: 38
          }
        },
        loc: {
          start: {
            line: 34,
            column: 41
          },
          end: {
            line: 37,
            column: 13
          }
        },
        line: 34
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 38,
            column: 19
          },
          end: {
            line: 38,
            column: 20
          }
        },
        loc: {
          start: {
            line: 38,
            column: 23
          },
          end: {
            line: 38,
            column: 42
          }
        },
        line: 38
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 72,
            column: 37
          },
          end: {
            line: 72,
            column: 38
          }
        },
        loc: {
          start: {
            line: 72,
            column: 41
          },
          end: {
            line: 75,
            column: 29
          }
        },
        line: 72
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 8
          },
          end: {
            line: 26,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 24,
            column: 8
          },
          end: {
            line: 26,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 24
      },
      "1": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 33
      },
      "2": {
        loc: {
          start: {
            line: 60,
            column: 16
          },
          end: {
            line: 67,
            column: 18
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 60,
            column: 16
          },
          end: {
            line: 60,
            column: 27
          }
        }, {
          start: {
            line: 60,
            column: 45
          },
          end: {
            line: 67,
            column: 18
          }
        }],
        line: 60
      },
      "3": {
        loc: {
          start: {
            line: 74,
            column: 58
          },
          end: {
            line: 74,
            column: 128
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 74,
            column: 58
          },
          end: {
            line: 74,
            column: 94
          }
        }, {
          start: {
            line: 74,
            column: 98
          },
          end: {
            line: 74,
            column: 128
          }
        }],
        line: 74
      },
      "4": {
        loc: {
          start: {
            line: 77,
            column: 162
          },
          end: {
            line: 77,
            column: 243
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 77,
            column: 180
          },
          end: {
            line: 77,
            column: 212
          }
        }, {
          start: {
            line: 77,
            column: 215
          },
          end: {
            line: 77,
            column: 243
          }
        }],
        line: 77
      },
      "5": {
        loc: {
          start: {
            line: 85,
            column: 32
          },
          end: {
            line: 85,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 85,
            column: 50
          },
          end: {
            line: 85,
            column: 65
          }
        }, {
          start: {
            line: 85,
            column: 68
          },
          end: {
            line: 85,
            column: 90
          }
        }],
        line: 85
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/login/page.tsx"],
      sourcesContent: ["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { FaGithub } from 'react-icons/fa';\n\n/**\n * Login page component with GitHub OAuth button\n */\nexport default function LoginPage() {\n  const router = useRouter();\n  const { state, login } = useAuth();\n\n  // Redirect to dashboard if already authenticated\n  useEffect(() => {\n    if (state.isAuthenticated) {\n      router.push('/dashboard');\n    }\n  }, [state.isAuthenticated, router]);\n\n  // Clear error after 5 seconds\n  useEffect(() => {\n    if (state.error) {\n      const timer = setTimeout(() => {\n        // Note: clearError method not available in current AuthContext\n        // Error will be cleared on next auth action\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [state.error]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 p-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Welcome to OpsSight\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Your DevOps Visibility Platform\n          </p>\n        </div>\n\n        {/* Error Alert */}\n        {state.error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span className=\"block sm:inline\">{state.error}</span>\n          </div>\n        )}\n\n        <div className=\"mt-8 space-y-6\">\n          <button\n            onClick={() => {\n              // Redirect to GitHub OAuth\n              window.location.href = `${process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8000/api/v1'}/auth/github/login`;\n            }}\n            disabled={state.isLoading}\n            className={`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white ${\n              state.isLoading ? 'bg-gray-400 cursor-not-allowed' : 'bg-black hover:bg-gray-800'\n            }`}\n          >\n            <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <FaGithub className=\"h-5 w-5\" />\n            </span>\n            {state.isLoading ? 'Connecting...' : 'Continue with GitHub'}\n          </button>\n\n          <div className=\"text-sm text-center text-gray-600\">\n            <p>By continuing, you agree to our</p>\n            <a href=\"/terms\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n              Terms of Service\n            </a>\n            {' and '}\n            <a href=\"/privacy\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n              Privacy Policy\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],
      names: ["LoginPage", "router", "useRouter", "state", "login", "useAuth", "useEffect", "isAuthenticated", "push", "error", "timer", "setTimeout", "clearTimeout", "div", "className", "h2", "p", "role", "span", "button", "onClick", "window", "location", "href", "process", "env", "NEXT_PUBLIC_API_BASE_URL", "disabled", "isLoading", "FaGithub", "a"],
      mappings: "AAAA;;;;;+BAOA;;CAEC,GACD;;;eAAwBA;;;;uBARE;4BACA;6BACF;oBACC;AAKV,SAASA;IACtB,MAAMC,SAASC,IAAAA,qBAAS;IACxB,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAE,GAAGC,IAAAA,oBAAO;IAEhC,iDAAiD;IACjDC,IAAAA,gBAAS,EAAC;QACR,IAAIH,MAAMI,eAAe,EAAE;YACzBN,OAAOO,IAAI,CAAC;QACd;IACF,GAAG;QAACL,MAAMI,eAAe;QAAEN;KAAO;IAElC,8BAA8B;IAC9BK,IAAAA,gBAAS,EAAC;QACR,IAAIH,MAAMM,KAAK,EAAE;YACf,MAAMC,QAAQC,WAAW;YACvB,+DAA+D;YAC/D,4CAA4C;YAC9C,GAAG;YACH,OAAO,IAAMC,aAAaF;QAC5B;IACF,GAAG;QAACP,MAAMM,KAAK;KAAC;IAEhB,qBACE,qBAACI;QAAIC,WAAU;kBACb,cAAA,sBAACD;YAAIC,WAAU;;8BACb,sBAACD;;sCACC,qBAACE;4BAAGD,WAAU;sCAAyD;;sCAGvE,qBAACE;4BAAEF,WAAU;sCAAyC;;;;gBAMvDX,MAAMM,KAAK,kBACV,qBAACI;oBAAIC,WAAU;oBAA2EG,MAAK;8BAC7F,cAAA,qBAACC;wBAAKJ,WAAU;kCAAmBX,MAAMM,KAAK;;;8BAIlD,sBAACI;oBAAIC,WAAU;;sCACb,sBAACK;4BACCC,SAAS;gCACP,2BAA2B;gCAC3BC,OAAOC,QAAQ,CAACC,IAAI,GAAG,GAAGC,QAAQC,GAAG,CAACC,wBAAwB,IAAI,+BAA+B,kBAAkB,CAAC;4BACtH;4BACAC,UAAUxB,MAAMyB,SAAS;4BACzBd,WAAW,CAAC,wHAAwH,EAClIX,MAAMyB,SAAS,GAAG,mCAAmC,8BACrD;;8CAEF,qBAACV;oCAAKJ,WAAU;8CACd,cAAA,qBAACe,YAAQ;wCAACf,WAAU;;;gCAErBX,MAAMyB,SAAS,GAAG,kBAAkB;;;sCAGvC,sBAACf;4BAAIC,WAAU;;8CACb,qBAACE;8CAAE;;8CACH,qBAACc;oCAAEP,MAAK;oCAAST,WAAU;8CAAoD;;gCAG9E;8CACD,qBAACgB;oCAAEP,MAAK;oCAAWT,WAAU;8CAAoD;;;;;;;;;AAQ7F"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "958c713baf9d349985668b4ebcbeef4a0882482b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_c29g9pzno = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_c29g9pzno();
cov_c29g9pzno().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_c29g9pzno().s[1]++;
Object.defineProperty(exports,
/**
* Login page component with GitHub OAuth button
*/
"default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_c29g9pzno().f[0]++;
    cov_c29g9pzno().s[2]++;
    return LoginPage;
  }
});
const _jsxruntime =
/* istanbul ignore next */
(cov_c29g9pzno().s[3]++, require("react/jsx-runtime"));
const _react =
/* istanbul ignore next */
(cov_c29g9pzno().s[4]++, require("react"));
const _navigation =
/* istanbul ignore next */
(cov_c29g9pzno().s[5]++, require("next/navigation"));
const _AuthContext =
/* istanbul ignore next */
(cov_c29g9pzno().s[6]++, require("../../contexts/AuthContext"));
const _fa =
/* istanbul ignore next */
(cov_c29g9pzno().s[7]++, require("react-icons/fa"));
function LoginPage() {
  /* istanbul ignore next */
  cov_c29g9pzno().f[1]++;
  const router =
  /* istanbul ignore next */
  (cov_c29g9pzno().s[8]++, (0, _navigation.useRouter)());
  const {
    state,
    login
  } =
  /* istanbul ignore next */
  (cov_c29g9pzno().s[9]++, (0, _AuthContext.useAuth)());
  // Redirect to dashboard if already authenticated
  /* istanbul ignore next */
  cov_c29g9pzno().s[10]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_c29g9pzno().f[2]++;
    cov_c29g9pzno().s[11]++;
    if (state.isAuthenticated) {
      /* istanbul ignore next */
      cov_c29g9pzno().b[0][0]++;
      cov_c29g9pzno().s[12]++;
      router.push('/dashboard');
    } else
    /* istanbul ignore next */
    {
      cov_c29g9pzno().b[0][1]++;
    }
  }, [state.isAuthenticated, router]);
  // Clear error after 5 seconds
  /* istanbul ignore next */
  cov_c29g9pzno().s[13]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_c29g9pzno().f[3]++;
    cov_c29g9pzno().s[14]++;
    if (state.error) {
      /* istanbul ignore next */
      cov_c29g9pzno().b[1][0]++;
      const timer =
      /* istanbul ignore next */
      (cov_c29g9pzno().s[15]++, setTimeout(() => {
        /* istanbul ignore next */
        cov_c29g9pzno().f[4]++;
      } // Note: clearError method not available in current AuthContext
      // Error will be cleared on next auth action
      , 5000));
      /* istanbul ignore next */
      cov_c29g9pzno().s[16]++;
      return () => {
        /* istanbul ignore next */
        cov_c29g9pzno().f[5]++;
        cov_c29g9pzno().s[17]++;
        return clearTimeout(timer);
      };
    } else
    /* istanbul ignore next */
    {
      cov_c29g9pzno().b[1][1]++;
    }
  }, [state.error]);
  /* istanbul ignore next */
  cov_c29g9pzno().s[18]++;
  return /*#__PURE__*/(0, _jsxruntime.jsx)("div", {
    className: "min-h-screen flex items-center justify-center bg-gray-50",
    children: /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
      className: "max-w-md w-full space-y-8 p-8",
      children: [/*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
        children: [/*#__PURE__*/(0, _jsxruntime.jsx)("h2", {
          className: "mt-6 text-center text-3xl font-extrabold text-gray-900",
          children: "Welcome to OpsSight"
        }), /*#__PURE__*/(0, _jsxruntime.jsx)("p", {
          className: "mt-2 text-center text-sm text-gray-600",
          children: "Your DevOps Visibility Platform"
        })]
      }),
      /* istanbul ignore next */
      (cov_c29g9pzno().b[2][0]++, state.error) &&
      /* istanbul ignore next */
      (cov_c29g9pzno().b[2][1]++, /*#__PURE__*/(0, _jsxruntime.jsx)("div", {
        className: "bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",
        role: "alert",
        children: /*#__PURE__*/(0, _jsxruntime.jsx)("span", {
          className: "block sm:inline",
          children: state.error
        })
      })), /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
        className: "mt-8 space-y-6",
        children: [/*#__PURE__*/(0, _jsxruntime.jsxs)("button", {
          onClick: () => {
            /* istanbul ignore next */
            cov_c29g9pzno().f[6]++;
            cov_c29g9pzno().s[19]++;
            // Redirect to GitHub OAuth
            window.location.href = `${
            /* istanbul ignore next */
            (cov_c29g9pzno().b[3][0]++, process.env.NEXT_PUBLIC_API_BASE_URL) ||
            /* istanbul ignore next */
            (cov_c29g9pzno().b[3][1]++, 'http://localhost:8000/api/v1')}/auth/github/login`;
          },
          disabled: state.isLoading,
          className: `group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white ${state.isLoading ?
          /* istanbul ignore next */
          (cov_c29g9pzno().b[4][0]++, 'bg-gray-400 cursor-not-allowed') :
          /* istanbul ignore next */
          (cov_c29g9pzno().b[4][1]++, 'bg-black hover:bg-gray-800')}`,
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("span", {
            className: "absolute left-0 inset-y-0 flex items-center pl-3",
            children: /*#__PURE__*/(0, _jsxruntime.jsx)(_fa.FaGithub, {
              className: "h-5 w-5"
            })
          }), state.isLoading ?
          /* istanbul ignore next */
          (cov_c29g9pzno().b[5][0]++, 'Connecting...') :
          /* istanbul ignore next */
          (cov_c29g9pzno().b[5][1]++, 'Continue with GitHub')]
        }), /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          className: "text-sm text-center text-gray-600",
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("p", {
            children: "By continuing, you agree to our"
          }), /*#__PURE__*/(0, _jsxruntime.jsx)("a", {
            href: "/terms",
            className: "font-medium text-indigo-600 hover:text-indigo-500",
            children: "Terms of Service"
          }), ' and ', /*#__PURE__*/(0, _jsxruntime.jsx)("a", {
            href: "/privacy",
            className: "font-medium text-indigo-600 hover:text-indigo-500",
            children: "Privacy Policy"
          })]
        })]
      })]
    })
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMb2dpblBhZ2UiLCJjb3ZfYzI5Zzlwem5vIiwiZiIsInJvdXRlciIsInMiLCJfbmF2aWdhdGlvbiIsInVzZVJvdXRlciIsInN0YXRlIiwibG9naW4iLCJfQXV0aENvbnRleHQiLCJ1c2VBdXRoIiwiX3JlYWN0IiwidXNlRWZmZWN0IiwiaXNBdXRoZW50aWNhdGVkIiwiYiIsInB1c2giLCJlcnJvciIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsIl9qc3hydW50aW1lIiwianN4IiwiY2xhc3NOYW1lIiwianN4cyIsInJvbGUiLCJvbkNsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCIsImRpc2FibGVkIiwiaXNMb2FkaW5nIiwiX2ZhIiwiRmFHaXRodWIiXSwic291cmNlcyI6WyIvVXNlcnMvcGF2YW4vRGVza3RvcC9EZXZvcHMtYXBwLWRldi1jdXJzb3IvZnJvbnRlbmQvc3JjL2FwcC9sb2dpbi9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBGYUdpdGh1YiB9IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcblxuLyoqXG4gKiBMb2dpbiBwYWdlIGNvbXBvbmVudCB3aXRoIEdpdEh1YiBPQXV0aCBidXR0b25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5QYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBzdGF0ZSwgbG9naW4gfSA9IHVzZUF1dGgoKTtcblxuICAvLyBSZWRpcmVjdCB0byBkYXNoYm9hcmQgaWYgYWxyZWFkeSBhdXRoZW50aWNhdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcbiAgICB9XG4gIH0sIFtzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQsIHJvdXRlcl0pO1xuXG4gIC8vIENsZWFyIGVycm9yIGFmdGVyIDUgc2Vjb25kc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdGF0ZS5lcnJvcikge1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gTm90ZTogY2xlYXJFcnJvciBtZXRob2Qgbm90IGF2YWlsYWJsZSBpbiBjdXJyZW50IEF1dGhDb250ZXh0XG4gICAgICAgIC8vIEVycm9yIHdpbGwgYmUgY2xlYXJlZCBvbiBuZXh0IGF1dGggYWN0aW9uXG4gICAgICB9LCA1MDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgfSwgW3N0YXRlLmVycm9yXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTUwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIHctZnVsbCBzcGFjZS15LTggcC04XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm10LTYgdGV4dC1jZW50ZXIgdGV4dC0zeGwgZm9udC1leHRyYWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byBPcHNTaWdodFxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIFlvdXIgRGV2T3BzIFZpc2liaWxpdHkgUGxhdGZvcm1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFcnJvciBBbGVydCAqL31cbiAgICAgICAge3N0YXRlLmVycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC0xMDAgYm9yZGVyIGJvcmRlci1yZWQtNDAwIHRleHQtcmVkLTcwMCBweC00IHB5LTMgcm91bmRlZCByZWxhdGl2ZVwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmxvY2sgc206aW5saW5lXCI+e3N0YXRlLmVycm9yfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggc3BhY2UteS02XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBHaXRIdWIgT0F1dGhcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdjEnfS9hdXRoL2dpdGh1Yi9sb2dpbmA7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGdyb3VwIHJlbGF0aXZlIHctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIHB5LTMgcHgtNCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0ZXh0LXdoaXRlICR7XG4gICAgICAgICAgICAgIHN0YXRlLmlzTG9hZGluZyA/ICdiZy1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnIDogJ2JnLWJsYWNrIGhvdmVyOmJnLWdyYXktODAwJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIGluc2V0LXktMCBmbGV4IGl0ZW1zLWNlbnRlciBwbC0zXCI+XG4gICAgICAgICAgICAgIDxGYUdpdGh1YiBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtzdGF0ZS5pc0xvYWRpbmcgPyAnQ29ubmVjdGluZy4uLicgOiAnQ29udGludWUgd2l0aCBHaXRIdWInfVxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtY2VudGVyIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIDxwPkJ5IGNvbnRpbnVpbmcsIHlvdSBhZ3JlZSB0byBvdXI8L3A+XG4gICAgICAgICAgICA8YSBocmVmPVwiL3Rlcm1zXCIgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1pbmRpZ28tNjAwIGhvdmVyOnRleHQtaW5kaWdvLTUwMFwiPlxuICAgICAgICAgICAgICBUZXJtcyBvZiBTZXJ2aWNlXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICB7JyBhbmQgJ31cbiAgICAgICAgICAgIDxhIGhyZWY9XCIvcHJpdmFjeVwiIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtaW5kaWdvLTYwMCBob3Zlcjp0ZXh0LWluZGlnby01MDBcIj5cbiAgICAgICAgICAgICAgUHJpdmFjeSBQb2xpY3lcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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