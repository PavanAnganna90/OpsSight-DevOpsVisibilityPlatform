{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/layout/DashboardContent.tsx"],"sourcesContent":["/**\n * Dashboard Content Component\n * \n * Main content area for the OpsSight dashboard displaying\n * metrics, charts, and monitoring information.\n */\n\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { MetricCard, MetricCardGrid, StatusIndicator, LoadingSkeleton, DashboardSkeleton } from '../../ui';\nimport { useResponsive } from '../../../hooks/useResponsive';\nimport { useKeyboardNavigation } from '../../../hooks/useKeyboardNavigation';\nimport { useTeam } from '../../../contexts/TeamContext';\nimport { dashboardApi, DashboardData, DashboardMetrics } from '../../../services/dashboardApi';\nimport MonitoringSessionControl from '../MonitoringSessionControl';\n\ninterface DashboardContentProps {\n  /** Optional className for custom styling */\n  className?: string;\n  /** Loading state for the dashboard */\n  isLoading?: boolean;\n  /** Error state for the dashboard */\n  error?: string | null;\n}\n\n/**\n * DashboardContent Component\n * \n * Primary content area for the dashboard containing:\n * - Key metrics overview cards\n * - System status indicators\n * - Charts and graphs (placeholders)\n * - Recent activity feed\n * - Alert summaries\n * \n * Features:\n * - Responsive grid layout\n * - Loading states and skeleton screens\n * - Accessibility compliance (WCAG 2.1)\n * - Dark mode support\n * - Mobile-optimized layout\n * \n * @param className - Optional CSS classes for custom styling\n */\nconst DashboardContentComponent: React.FC<DashboardContentProps> = ({\n  className = '',\n  isLoading = false,\n  error = null,\n}) => {\n  const { isMobile } = useResponsive();\n  const { state: teamState } = useTeam();\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [lastRefresh, setLastRefresh] = useState<Date>(new Date());\n  const [dashboardData, setDashboardData] = useState<DashboardData | null>(null);\n  const [dashboardLoading, setDashboardLoading] = useState(true);\n  const [dashboardError, setDashboardError] = useState<string | null>(null);\n  /**\n   * Fetch dashboard data for current team\n   */\n  const fetchDashboardData = useCallback(async () => {\n    if (!teamState.currentTeam) {\n      setDashboardLoading(false);\n      return;\n    }\n\n    try {\n      setDashboardLoading(true);\n      setDashboardError(null);\n      \n      const data = await dashboardApi.getDashboardData({\n        teamId: teamState.currentTeam.id,\n        dateRange: {\n          start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // Last 7 days\n          end: new Date().toISOString(),\n        },\n      });\n      \n      setDashboardData(data);\n      setLastRefresh(new Date());\n    } catch (error) {\n      console.error('Failed to fetch dashboard data:', error);\n      setDashboardError(error instanceof Error ? error.message : 'Failed to load dashboard data');\n    } finally {\n      setDashboardLoading(false);\n    }\n  }, [teamState.currentTeam]);\n\n  /**\n   * Handle data refresh for monitoring session\n   */\n  const handleRefresh = useCallback(async () => {\n    try {\n      setIsRefreshing(true);\n      await fetchDashboardData();\n    } catch (error) {\n      console.error('Failed to refresh dashboard data:', error);\n    } finally {\n      setIsRefreshing(false);\n    }\n  }, [fetchDashboardData]);\n\n  /**\n   * Handle manual refresh button\n   */\n  const handleManualRefresh = useCallback(async () => {\n    await handleRefresh();\n  }, [handleRefresh]);\n\n  /**\n   * Format last refresh time\n   */\n  const formatLastRefresh = useCallback((date: Date): string => {\n    const now = new Date();\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n    \n    if (diffInSeconds < 60) {\n      return 'just now';\n    } else if (diffInSeconds < 3600) {\n      const minutes = Math.floor(diffInSeconds / 60);\n      return `${minutes} minute${minutes === 1 ? '' : 's'} ago`;\n    } else {\n      const hours = Math.floor(diffInSeconds / 3600);\n      return `${hours} hour${hours === 1 ? '' : 's'} ago`;\n    }\n  }, []);\n\n  /**\n   * Fetch data when team changes\n   */\n  useEffect(() => {\n    fetchDashboardData();\n  }, [fetchDashboardData]);\n\n  // Keyboard navigation setup\n  const { containerRef } = useKeyboardNavigation({\n    enableArrowKeys: true,\n    shortcuts: {\n      'r': handleManualRefresh,\n      'Ctrl+r': handleManualRefresh,\n      'f': () => {\n        // Focus search or filter\n        const searchInput = document.querySelector('input[type=\"search\"]') as HTMLElement;\n        if (searchInput) searchInput.focus();\n      },\n    },\n  });\n\n  // Show loading skeleton during initial load or team loading\n  if (isLoading || teamState.isLoading || dashboardLoading) {\n    return (\n      <div className={`space-y-6 ${className}`}>\n        <DashboardSkeleton />\n      </div>\n    );\n  }\n\n  // Show error state (prioritize dashboard errors, then fallback to prop errors)\n  const displayError = dashboardError || teamState.error || error;\n  if (displayError) {\n    return (\n      <div className={`space-y-6 ${className}`}>\n        <div className=\"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n                Dashboard Error\n              </h3>\n              <div className=\"mt-2 text-sm text-red-700 dark:text-red-300\">\n                <p>{displayError}</p>\n              </div>\n              <div className=\"mt-4\">\n                <button\n                  type=\"button\"\n                  onClick={handleManualRefresh}\n                  disabled={isRefreshing}\n                  className=\"bg-red-100 dark:bg-red-800 px-3 py-2 rounded-md text-sm font-medium text-red-800 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-700 disabled:opacity-50\"\n                >\n                  {isRefreshing ? 'Retrying...' : 'Try Again'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={containerRef as React.RefObject<HTMLDivElement>} className={`space-y-6 ${className}`}>\n      {/* Page Header */}\n      <div className=\"md:flex md:items-center md:justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:truncate\">\n            {teamState.currentTeam \n              ? `${teamState.currentTeam.display_name || teamState.currentTeam.name} Dashboard`\n              : 'Dashboard Overview'\n            }\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n            {teamState.currentTeam \n              ? `Monitor ${teamState.currentTeam.display_name || teamState.currentTeam.name}'s DevOps infrastructure and pipeline status`\n              : 'Monitor your DevOps infrastructure and pipeline status'\n            }\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <div className=\"flex flex-col items-end space-y-1\">\n            <button\n              type=\"button\"\n              onClick={handleManualRefresh}\n              disabled={isRefreshing}\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isRefreshing ? (\n                <svg className=\"-ml-1 mr-2 h-5 w-5 text-gray-400 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n              ) : (\n                <svg className=\"-ml-1 mr-2 h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n              )}\n              {isRefreshing ? 'Refreshing...' : 'Refresh'}\n            </button>\n            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Last updated: {formatLastRefresh(lastRefresh)}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Key Metrics Cards */}\n      <MetricCardGrid columns={{ sm: 1, md: 2, lg: 4 }} gap=\"md\" className=\"mb-8\">\n        {/* Pipeline Status Card */}\n        <MetricCard\n          title=\"Successful Pipelines\"\n          value={dashboardData \n            ? `${dashboardData.metrics.pipelines.successful}/${dashboardData.metrics.pipelines.total}`\n            : \"24/26\"\n          }\n          trend={dashboardData?.metrics.pipelines.trend || {\n            value: \"+12%\",\n            direction: \"up\",\n            label: \"from last week\"\n          }}\n          icon={\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n            </svg>\n          }\n        />\n\n        {/* Deployment Status Card */}\n        <MetricCard\n          title=\"Active Deployments\"\n          value={dashboardData?.metrics.deployments.active.toString() || \"8\"}\n          context={dashboardData \n            ? `${dashboardData.metrics.deployments.pending} pending review`\n            : \"2 pending review\"\n          }\n          icon={\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n            </svg>\n          }\n        />\n\n        {/* System Health Card */}\n        <MetricCard\n          title=\"System Health\"\n          value={dashboardData \n            ? `${dashboardData.metrics.systemHealth.percentage}%`\n            : \"96.2%\"\n          }\n          context={dashboardData \n            ? `${dashboardData.metrics.systemHealth.issues} ${dashboardData.metrics.systemHealth.issues === 1 ? 'issue' : 'issues'} ${dashboardData.metrics.systemHealth.issues > 0 ? 'need attention' : ''}`\n            : \"1 warning needs attention\"\n          }\n          icon={\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\n            </svg>\n          }\n        />\n\n        {/* Alert Status Card */}\n        <MetricCard\n          title=\"Active Alerts\"\n          value={dashboardData?.metrics.alerts.total.toString() || \"3\"}\n          context={dashboardData \n            ? `${dashboardData.metrics.alerts.critical} critical require action`\n            : \"2 critical require action\"\n          }\n          icon={\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4.5c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          }\n        />\n      </MetricCardGrid>\n\n      {/* Main Content Grid */}\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        {/* Recent Activity - Takes 2 columns on large screens */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n                Recent Activity\n              </h3>\n              <div className=\"mt-6 flow-root\">\n                {dashboardData?.recentActivity && dashboardData.recentActivity.length > 0 ? (\n                  <ul className=\"-mb-8 space-y-6\">\n                    {dashboardData.recentActivity.slice(0, 5).map((activity, index) => {\n                      const isLast = index === Math.min(dashboardData.recentActivity.length - 1, 4);\n                      const statusColor = {\n                        success: 'bg-green-500',\n                        warning: 'bg-yellow-500',\n                        error: 'bg-red-500',\n                        info: 'bg-blue-500',\n                      }[activity.status] || 'bg-gray-500';\n\n                      const statusIcon = {\n                        success: <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />,\n                        warning: <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4.5c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z\" />,\n                        error: <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />,\n                        info: <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />,\n                      }[activity.status];\n\n                      return (\n                        <li key={activity.id} className=\"relative\">\n                          {!isLast && (\n                            <div className=\"absolute top-8 left-4 w-px h-6 bg-gray-200 dark:bg-gray-600\" />\n                          )}\n                          <div className=\"relative flex items-start space-x-3\">\n                            <div className=\"relative\">\n                              <div className={`h-8 w-8 ${statusColor} rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800`}>\n                                <svg className=\"h-4 w-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                  {statusIcon}\n                                </svg>\n                              </div>\n                            </div>\n                            <div className=\"min-w-0 flex-1\">\n                              <div>\n                                <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                  <span className=\"font-medium text-gray-900 dark:text-white\">\n                                    {activity.title}\n                                  </span>{' '}\n                                  {activity.description}\n                                </div>\n                                <p className=\"mt-0.5 text-xs text-gray-500 dark:text-gray-400\">\n                                  {new Date(activity.timestamp).toLocaleString()}\n                                </p>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <svg className=\"h-8 w-8 text-gray-400 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>\n                    <p className=\"text-gray-500 dark:text-gray-400\">No recent activity</p>\n                    <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                      Team activity will appear here as it happens\n                    </p>\n                  </div>\n                )}\n              </div>\n              <div className=\"mt-6\">\n                <a \n                  href=\"#\" \n                  className=\"w-full flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700\"\n                >\n                  View all activity\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Column - System Status and Session Controls */}\n        <div className=\"lg:col-span-1 space-y-6\">\n          {/* Monitoring Session Control */}\n          <MonitoringSessionControl onRefresh={handleRefresh} />\n\n          {/* System Status */}\n          <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n                System Status\n              </h3>\n              <div className=\"mt-6 space-y-4\">\n                {dashboardData?.systemStatus && dashboardData.systemStatus.length > 0 ? (\n                  dashboardData.systemStatus.map((system) => {\n                    const statusColor = {\n                      operational: 'bg-green-400',\n                      degraded: 'bg-yellow-400',\n                      down: 'bg-red-400',\n                      maintenance: 'bg-blue-400',\n                    }[system.status] || 'bg-gray-400';\n\n                    const statusText = {\n                      operational: 'Operational',\n                      degraded: 'Degraded',\n                      down: 'Down',\n                      maintenance: 'Maintenance',\n                    }[system.status] || system.status;\n\n                    return (\n                      <div key={system.id} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <div className={`h-2 w-2 ${statusColor} rounded-full`}></div>\n                          <span className=\"ml-3 text-sm text-gray-700 dark:text-gray-300\">{system.name}</span>\n                        </div>\n                        <span className=\"text-sm text-gray-500 dark:text-gray-400\">{statusText}</span>\n                      </div>\n                    );\n                  })\n                ) : (\n                  // Fallback static data when no team data is available\n                  <>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-2 w-2 bg-green-400 rounded-full\"></div>\n                        <span className=\"ml-3 text-sm text-gray-700 dark:text-gray-300\">API Gateway</span>\n                      </div>\n                      <span className=\"text-sm text-gray-500 dark:text-gray-400\">Operational</span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-2 w-2 bg-green-400 rounded-full\"></div>\n                        <span className=\"ml-3 text-sm text-gray-700 dark:text-gray-300\">Database</span>\n                      </div>\n                      <span className=\"text-sm text-gray-500 dark:text-gray-400\">Operational</span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-2 w-2 bg-yellow-400 rounded-full\"></div>\n                        <span className=\"ml-3 text-sm text-gray-700 dark:text-gray-300\">Cache Layer</span>\n                      </div>\n                      <span className=\"text-sm text-gray-500 dark:text-gray-400\">Degraded</span>\n                    </div>\n                  </>\n                )}\n              </div>\n              <div className=\"mt-6\">\n                <a \n                  href=\"#\" \n                  className=\"w-full flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700\"\n                >\n                  View status page\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Memoized DashboardContent for performance optimization\n */\nexport const DashboardContent = React.memo(DashboardContentComponent);\n\nexport default DashboardContent; "],"names":["DashboardContent","DashboardContentComponent","className","isLoading","error","isMobile","useResponsive","state","teamState","useTeam","isRefreshing","setIsRefreshing","useState","lastRefresh","setLastRefresh","Date","dashboardData","setDashboardData","dashboardLoading","setDashboardLoading","dashboardError","setDashboardError","fetchDashboardData","useCallback","currentTeam","data","dashboardApi","getDashboardData","teamId","id","dateRange","start","now","toISOString","end","console","Error","message","handleRefresh","handleManualRefresh","formatLastRefresh","date","diffInSeconds","Math","floor","getTime","minutes","hours","useEffect","containerRef","useKeyboardNavigation","enableArrowKeys","shortcuts","searchInput","document","querySelector","focus","div","DashboardSkeleton","displayError","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","h3","p","button","type","onClick","disabled","ref","h1","display_name","name","circle","cx","cy","r","span","MetricCardGrid","columns","sm","md","lg","gap","MetricCard","title","value","metrics","pipelines","successful","total","trend","direction","label","icon","aria-hidden","deployments","active","toString","context","pending","systemHealth","percentage","issues","alerts","critical","recentActivity","length","ul","slice","map","activity","index","isLast","min","statusColor","success","warning","info","status","statusIcon","li","description","timestamp","toLocaleString","a","href","MonitoringSessionControl","onRefresh","systemStatus","system","operational","degraded","down","maintenance","statusText","React","memo"],"mappings":"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"}