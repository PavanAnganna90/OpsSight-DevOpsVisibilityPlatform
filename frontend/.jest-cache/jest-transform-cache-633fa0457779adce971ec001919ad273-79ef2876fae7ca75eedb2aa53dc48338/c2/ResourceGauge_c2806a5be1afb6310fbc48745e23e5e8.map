{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/charts/ResourceGauge.tsx"],"sourcesContent":["/**\n * Resource Usage Gauge Component\n * \n * Displays circular progress indicators for resource metrics like CPU, Memory, and Storage\n * with animated progress, threshold markers, and real-time updates.\n */\n\nimport React, { useEffect, useState, useMemo } from 'react';\n\nexport interface ResourceGaugeProps {\n  /** Current usage value (0-100) */\n  value: number;\n  /** Maximum value for the gauge (default: 100) */\n  max?: number;\n  /** Resource label */\n  label: string;\n  /** Resource unit (%, GB, etc.) */\n  unit?: string;\n  /** Size of the gauge */\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  /** Show threshold markers */\n  showThresholds?: boolean;\n  /** Custom threshold values */\n  thresholds?: {\n    warning: number;\n    critical: number;\n  };\n  /** Enable animations */\n  animated?: boolean;\n  /** Show value text in center */\n  showValue?: boolean;\n  /** Additional styling */\n  className?: string;\n  /** Callback when value changes */\n  onValueChange?: (value: number) => void;\n}\n\ninterface GaugeSize {\n  radius: number;\n  strokeWidth: number;\n  fontSize: string;\n  labelSize: string;\n  width: number;\n  height: number;\n}\n\n/**\n * ResourceGauge Component\n * \n * Circular progress indicator for visualizing resource usage with thresholds and animations.\n */\nexport const ResourceGauge: React.FC<ResourceGaugeProps> = ({\n  value,\n  max = 100,\n  label,\n  unit = '%',\n  size = 'md',\n  showThresholds = true,\n  thresholds = { warning: 70, critical: 85 },\n  animated = true,\n  showValue = true,\n  className = '',\n  onValueChange\n}) => {\n  const [animatedValue, setAnimatedValue] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  // Size configurations\n  const sizeConfig: Record<string, GaugeSize> = {\n    sm: {\n      radius: 30,\n      strokeWidth: 4,\n      fontSize: 'text-sm',\n      labelSize: 'text-xs',\n      width: 80,\n      height: 80\n    },\n    md: {\n      radius: 40,\n      strokeWidth: 6,\n      fontSize: 'text-lg',\n      labelSize: 'text-sm',\n      width: 100,\n      height: 100\n    },\n    lg: {\n      radius: 50,\n      strokeWidth: 8,\n      fontSize: 'text-xl',\n      labelSize: 'text-base',\n      width: 120,\n      height: 120\n    },\n    xl: {\n      radius: 60,\n      strokeWidth: 10,\n      fontSize: 'text-2xl',\n      labelSize: 'text-lg',\n      width: 140,\n      height: 140\n    }\n  };\n\n  const config = sizeConfig[size];\n  const circumference = 2 * Math.PI * config.radius;\n  const normalizedValue = Math.min(Math.max(value, 0), max);\n  const percentage = (normalizedValue / max) * 100;\n\n  // Animate value changes\n  useEffect(() => {\n    if (!animated) {\n      setAnimatedValue(percentage);\n      return;\n    }\n\n    setIsAnimating(true);\n    const startValue = animatedValue;\n    const difference = percentage - startValue;\n    const duration = 1000; // 1 second animation\n    const startTime = Date.now();\n\n    const animate = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      \n      // Easing function (ease-out)\n      const easeProgress = 1 - Math.pow(1 - progress, 3);\n      const currentValue = startValue + (difference * easeProgress);\n      \n      setAnimatedValue(currentValue);\n      \n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      } else {\n        setIsAnimating(false);\n        onValueChange?.(normalizedValue);\n      }\n    };\n\n    requestAnimationFrame(animate);\n  }, [percentage, animated, onValueChange, normalizedValue]);\n\n  // Calculate stroke dash offset for progress\n  const progressOffset = circumference - (animatedValue / 100) * circumference;\n\n  // Determine color based on value and thresholds\n  const getColor = useMemo(() => {\n    const val = animatedValue;\n    if (val >= thresholds.critical) {\n      return {\n        stroke: '#EF4444', // red-500\n        fill: '#FEE2E2', // red-100\n        text: '#DC2626' // red-600\n      };\n    } else if (val >= thresholds.warning) {\n      return {\n        stroke: '#F59E0B', // yellow-500\n        fill: '#FEF3C7', // yellow-100\n        text: '#D97706' // yellow-600\n      };\n    } else {\n      return {\n        stroke: '#10B981', // green-500\n        fill: '#D1FAE5', // green-100\n        text: '#059669' // green-600\n      };\n    }\n  }, [animatedValue, thresholds]);\n\n  // Calculate threshold marker positions\n  const getThresholdPosition = (threshold: number) => {\n    const angle = (threshold / max) * 2 * Math.PI - Math.PI / 2;\n    const innerRadius = config.radius - config.strokeWidth / 2;\n    const outerRadius = config.radius + config.strokeWidth / 2;\n    \n    return {\n      x1: config.width / 2 + Math.cos(angle) * innerRadius,\n      y1: config.height / 2 + Math.sin(angle) * innerRadius,\n      x2: config.width / 2 + Math.cos(angle) * outerRadius,\n      y2: config.height / 2 + Math.sin(angle) * outerRadius\n    };\n  };\n\n  const warningMarker = getThresholdPosition(thresholds.warning);\n  const criticalMarker = getThresholdPosition(thresholds.critical);\n\n  return (\n    <div className={`flex flex-col items-center space-y-2 ${className}`}>\n      {/* SVG Gauge */}\n      <div className=\"relative\">\n        <svg \n          width={config.width} \n          height={config.height} \n          className=\"transform -rotate-90\"\n        >\n          {/* Background Circle */}\n          <circle\n            cx={config.width / 2}\n            cy={config.height / 2}\n            r={config.radius}\n            stroke=\"#E5E7EB\" // gray-200\n            strokeWidth={config.strokeWidth}\n            fill=\"none\"\n            className=\"dark:stroke-gray-700\"\n          />\n          \n          {/* Threshold Markers */}\n          {showThresholds && (\n            <g>\n              {/* Warning Threshold */}\n              <line\n                x1={warningMarker.x1}\n                y1={warningMarker.y1}\n                x2={warningMarker.x2}\n                y2={warningMarker.y2}\n                stroke=\"#F59E0B\"\n                strokeWidth={2}\n                opacity={0.7}\n              />\n              \n              {/* Critical Threshold */}\n              <line\n                x1={criticalMarker.x1}\n                y1={criticalMarker.y1}\n                x2={criticalMarker.x2}\n                y2={criticalMarker.y2}\n                stroke=\"#EF4444\"\n                strokeWidth={2}\n                opacity={0.7}\n              />\n            </g>\n          )}\n          \n          {/* Progress Circle */}\n          <circle\n            cx={config.width / 2}\n            cy={config.height / 2}\n            r={config.radius}\n            stroke={getColor.stroke}\n            strokeWidth={config.strokeWidth}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeDasharray={circumference}\n            strokeDashoffset={progressOffset}\n            className={`transition-all duration-300 ${isAnimating ? 'ease-out' : ''}`}\n            style={{\n              filter: `drop-shadow(0 0 6px ${getColor.stroke}40)`\n            }}\n          />\n          \n          {/* Glow Effect */}\n          <circle\n            cx={config.width / 2}\n            cy={config.height / 2}\n            r={config.radius - config.strokeWidth / 2}\n            fill={getColor.fill}\n            opacity={0.1}\n          />\n        </svg>\n        \n        {/* Center Value Display */}\n        {showValue && (\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n            <div className={`font-bold ${config.fontSize}`} style={{ color: getColor.text }}>\n              {Math.round(animatedValue)}\n            </div>\n            <div className={`text-gray-500 dark:text-gray-400 ${config.labelSize}`}>\n              {unit}\n            </div>\n          </div>\n        )}\n        \n        {/* Animation Pulse Effect */}\n        {isAnimating && (\n          <div \n            className=\"absolute inset-0 rounded-full animate-pulse\"\n            style={{\n              backgroundColor: `${getColor.stroke}20`,\n              animation: 'pulse 1s ease-in-out'\n            }}\n          />\n        )}\n      </div>\n      \n      {/* Label */}\n      <div className={`text-center ${config.labelSize} font-medium text-gray-700 dark:text-gray-300`}>\n        {label}\n      </div>\n      \n      {/* Status Indicator */}\n      <div className=\"flex items-center space-x-1\">\n        <div \n          className=\"w-2 h-2 rounded-full\"\n          style={{ backgroundColor: getColor.stroke }}\n        />\n        <span className={`text-xs text-gray-500 dark:text-gray-400`}>\n          {animatedValue >= thresholds.critical ? 'Critical' :\n           animatedValue >= thresholds.warning ? 'Warning' : 'Normal'}\n        </span>\n      </div>\n    </div>\n  );\n};\n\n/**\n * ResourceGaugeGrid Component\n * \n * Grid layout for multiple resource gauges with responsive design.\n */\nexport interface ResourceGaugeGridProps {\n  gauges: Array<Omit<ResourceGaugeProps, 'size'> & { id: string }>;\n  size?: ResourceGaugeProps['size'];\n  columns?: {\n    sm?: number;\n    md?: number;\n    lg?: number;\n  };\n  gap?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport const ResourceGaugeGrid: React.FC<ResourceGaugeGridProps> = ({\n  gauges,\n  size = 'md',\n  columns = { sm: 1, md: 2, lg: 3 },\n  gap = 'md',\n  className = ''\n}) => {\n  const gapClasses = {\n    sm: 'gap-2',\n    md: 'gap-4',\n    lg: 'gap-6'\n  };\n\n  const gridClasses = `\n    grid \n    grid-cols-${columns.sm || 1} \n    md:grid-cols-${columns.md || 2} \n    lg:grid-cols-${columns.lg || 3} \n    ${gapClasses[gap]}\n  `.trim();\n\n  return (\n    <div className={`${gridClasses} ${className}`}>\n      {gauges.map((gauge) => (\n        <ResourceGauge\n          key={gauge.id}\n          {...gauge}\n          size={size}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default ResourceGauge; "],"names":["ResourceGauge","ResourceGaugeGrid","value","max","label","unit","size","showThresholds","thresholds","warning","critical","animated","showValue","className","onValueChange","animatedValue","setAnimatedValue","useState","isAnimating","setIsAnimating","sizeConfig","sm","radius","strokeWidth","fontSize","labelSize","width","height","md","lg","xl","config","circumference","Math","PI","normalizedValue","min","percentage","useEffect","startValue","difference","duration","startTime","Date","now","animate","elapsed","progress","easeProgress","pow","currentValue","requestAnimationFrame","progressOffset","getColor","useMemo","val","stroke","fill","text","getThresholdPosition","threshold","angle","innerRadius","outerRadius","x1","cos","y1","sin","x2","y2","warningMarker","criticalMarker","div","svg","circle","cx","cy","r","g","line","opacity","strokeLinecap","strokeDasharray","strokeDashoffset","style","filter","color","round","backgroundColor","animation","span","gauges","columns","gap","gapClasses","gridClasses","trim","map","gauge","id"],"mappings":"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"}