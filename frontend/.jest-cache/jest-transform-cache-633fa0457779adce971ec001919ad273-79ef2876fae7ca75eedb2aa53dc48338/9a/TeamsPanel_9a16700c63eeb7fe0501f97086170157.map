{"version":3,"names":["TeamsPanel","cov_1n7n7hp8yk","f","panelVisibility","s","_SettingsContext","useSettings","queryClient","_reactquery","useQueryClient","data","teams","isLoading","error","refetch","useQuery","queryKey","queryFn","_teamsApi","fetchTeams","inviteMutation","useMutation","mutationFn","inviteToTeam","onSuccess","invalidateQueries","removeMutation","removeTeamMember","b","handleInvite","id","_analytics","trackEvent","teamId","_auditLogApi","logAuditEvent","mutate","handleRemove","_jsxruntime","jsxs","className","jsx","panel","String","_EmptyState","default","illustration","title","description","action","label","onClick","length","map","team","name","members","join","role","status"],"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/TeamsPanel.tsx"],"sourcesContent":["import React from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { fetchTeams, inviteToTeam, removeTeamMember } from '../../services/teamsApi';\nimport { useSettings } from '../../contexts/SettingsContext';\nimport { trackEvent } from '../../utils/analytics';\nimport { logAuditEvent } from '../../services/auditLogApi';\nimport EmptyState from '../ui/EmptyState';\n\nexport default function TeamsPanel() {\n  const { panelVisibility } = useSettings();\n  const queryClient = useQueryClient();\n  const { data: teams, isLoading, error, refetch } = useQuery({ queryKey: ['teams'], queryFn: fetchTeams });\n\n  const inviteMutation = useMutation({\n    mutationFn: inviteToTeam,\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['teams'] })\n  });\n  const removeMutation = useMutation({\n    mutationFn: removeTeamMember,\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['teams'] })\n  });\n\n  if (!panelVisibility.teams) return null;\n\n  const handleInvite = async (id: number) => {\n    trackEvent('invite_team_member', { teamId: id });\n    await logAuditEvent('invite_team_member', 'admin', { teamId: id });\n    inviteMutation.mutate(id);\n  };\n  const handleRemove = async (id: number) => {\n    trackEvent('remove_team_member', { teamId: id });\n    await logAuditEvent('remove_team_member', 'admin', { teamId: id });\n    removeMutation.mutate(id);\n  };\n\n  if (isLoading) {\n    return (\n      <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-2\" aria-label=\"Loading teams\" />\n        <span className=\"text-gray-500\">Loading teams...</span>\n      </section>\n    );\n  }\n  if (error) {\n    trackEvent('error', { panel: 'Teams', error: String(error) });\n    return (\n      <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center\">\n        <EmptyState\n          illustration=\"mascot\"\n          title=\"Error Loading Teams\"\n          description=\"We couldn't load teams. Please try again.\"\n          action={{ label: 'Retry', onClick: refetch }}\n        />\n      </section>\n    );\n  }\n  if (!teams?.length) {\n    return (\n      <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 min-h-[320px] items-center justify-center\">\n        <EmptyState\n          illustration=\"mascot\"\n          title=\"No Teams\"\n          description=\"No teams found.\"\n          action={{ label: 'Refresh', onClick: refetch }}\n        />\n      </section>\n    );\n  }\n  return (\n    <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 relative overflow-hidden min-h-[320px]\">\n      <div className=\"font-medium mb-2\">Teams</div>\n      <ul className=\"space-y-3\">\n        {teams.map((team: any) => (\n          <li key={team.id} className=\"flex flex-col md:flex-row md:items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded-lg p-4\">\n            <div className=\"flex-1\">\n              <div className=\"font-semibold text-blue-600\">{team.name}</div>\n              <div className=\"text-gray-800 dark:text-gray-100\">Members: {team.members.join(', ')}</div>\n              <div className=\"text-xs text-gray-400\">Role: {team.role} | Status: {team.status}</div>\n            </div>\n            <div className=\"flex gap-2 mt-2 md:mt-0\">\n              <button\n                onClick={() => handleInvite(team.id)}\n                className=\"px-3 py-1 rounded bg-green-600 text-white font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 transition\"\n                aria-label={`Invite to team ${team.id}`}\n              >\n                Invite\n              </button>\n              <button\n                onClick={() => handleRemove(team.id)}\n                className=\"px-3 py-1 rounded bg-red-600 text-white font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 transition\"\n                aria-label={`Remove from team ${team.id}`}\n              >\n                Remove\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n} "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAQA;;;;;;WAAwBA,UAAA;;;;;;;;wEARN;;;kCACoC;;;kCACK;;;kCAC/B;;;kCACD;;;kCACG;;;yEACP;;;;;;;;;;;;;;;AAER,SAASA,WAAA;EAAA;EAAAC,cAAA,GAAAC,CAAA;EACtB,MAAM;IAAEC;EAAe,CAAE;EAAA;EAAA,CAAAF,cAAA,GAAAG,CAAA,QAAG,IAAAC,gBAAA,CAAAC,WAAW;EACvC,MAAMC,WAAA;EAAA;EAAA,CAAAN,cAAA,GAAAG,CAAA,QAAc,IAAAI,WAAA,CAAAC,cAAc;EAClC,MAAM;IAAEC,IAAA,EAAMC,KAAK;IAAEC,SAAS;IAAEC,KAAK;IAAEC;EAAO,CAAE;EAAA;EAAA,CAAAb,cAAA,GAAAG,CAAA,QAAG,IAAAI,WAAA,CAAAO,QAAQ,EAAC;IAAEC,QAAA,EAAU,CAAC,QAAQ;IAAEC,OAAA,EAASC,SAAA,CAAAC;EAAW;EAEvG,MAAMC,cAAA;EAAA;EAAA,CAAAnB,cAAA,GAAAG,CAAA,QAAiB,IAAAI,WAAA,CAAAa,WAAW,EAAC;IACjCC,UAAA,EAAYJ,SAAA,CAAAK,YAAY;IACxBC,SAAA,EAAWA,CAAA,KAAM;MAAA;MAAAvB,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAG,CAAA;MAAA,OAAAG,WAAA,CAAYkB,iBAAiB,CAAC;QAAET,QAAA,EAAU,CAAC;MAAS;IAAA;EACvE;EACA,MAAMU,cAAA;EAAA;EAAA,CAAAzB,cAAA,GAAAG,CAAA,QAAiB,IAAAI,WAAA,CAAAa,WAAW,EAAC;IACjCC,UAAA,EAAYJ,SAAA,CAAAS,gBAAgB;IAC5BH,SAAA,EAAWA,CAAA,KAAM;MAAA;MAAAvB,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAG,CAAA;MAAA,OAAAG,WAAA,CAAYkB,iBAAiB,CAAC;QAAET,QAAA,EAAU,CAAC;MAAS;IAAA;EACvE;EAAA;EAAAf,cAAA,GAAAG,CAAA;EAEA,IAAI,CAACD,eAAA,CAAgBQ,KAAK,EAAE;IAAA;IAAAV,cAAA,GAAA2B,CAAA;IAAA3B,cAAA,GAAAG,CAAA;IAAA,OAAO;EAAA;EAAA;EAAA;IAAAH,cAAA,GAAA2B,CAAA;EAAA;EAAA3B,cAAA,GAAAG,CAAA;EAEnC,MAAMyB,YAAA,GAAe,MAAOC,EAAA;IAAA;IAAA7B,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IAC1B,IAAA2B,UAAA,CAAAC,UAAU,EAAC,sBAAsB;MAAEC,MAAA,EAAQH;IAAG;IAAA;IAAA7B,cAAA,GAAAG,CAAA;IAC9C,MAAM,IAAA8B,YAAA,CAAAC,aAAa,EAAC,sBAAsB,SAAS;MAAEF,MAAA,EAAQH;IAAG;IAAA;IAAA7B,cAAA,GAAAG,CAAA;IAChEgB,cAAA,CAAegB,MAAM,CAACN,EAAA;EACxB;EAAA;EAAA7B,cAAA,GAAAG,CAAA;EACA,MAAMiC,YAAA,GAAe,MAAOP,EAAA;IAAA;IAAA7B,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IAC1B,IAAA2B,UAAA,CAAAC,UAAU,EAAC,sBAAsB;MAAEC,MAAA,EAAQH;IAAG;IAAA;IAAA7B,cAAA,GAAAG,CAAA;IAC9C,MAAM,IAAA8B,YAAA,CAAAC,aAAa,EAAC,sBAAsB,SAAS;MAAEF,MAAA,EAAQH;IAAG;IAAA;IAAA7B,cAAA,GAAAG,CAAA;IAChEsB,cAAA,CAAeU,MAAM,CAACN,EAAA;EACxB;EAAA;EAAA7B,cAAA,GAAAG,CAAA;EAEA,IAAIQ,SAAA,EAAW;IAAA;IAAAX,cAAA,GAAA2B,CAAA;IAAA3B,cAAA,GAAAG,CAAA;IACb,oBACE,IAAAkC,WAAA,CAAAC,IAAA,EAAC;MAAQC,SAAA,EAAU;8BACjB,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAID,SAAA,EAAU;QAAsE,cAAW;uBAChG,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAKD,SAAA,EAAU;kBAAgB;;;EAGtC;EAAA;EAAA;IAAAvC,cAAA,GAAA2B,CAAA;EAAA;EAAA3B,cAAA,GAAAG,CAAA;EACA,IAAIS,KAAA,EAAO;IAAA;IAAAZ,cAAA,GAAA2B,CAAA;IAAA3B,cAAA,GAAAG,CAAA;IACT,IAAA2B,UAAA,CAAAC,UAAU,EAAC,SAAS;MAAEU,KAAA,EAAO;MAAS7B,KAAA,EAAO8B,MAAA,CAAO9B,KAAA;IAAO;IAAA;IAAAZ,cAAA,GAAAG,CAAA;IAC3D,oBACE,IAAAkC,WAAA,CAAAG,GAAA,EAAC;MAAQD,SAAA,EAAU;gBACjB,iBAAAF,WAAA,CAAAG,GAAA,EAACG,WAAA,CAAAC,OAAU;QACTC,YAAA,EAAa;QACbC,KAAA,EAAM;QACNC,WAAA,EAAY;QACZC,MAAA,EAAQ;UAAEC,KAAA,EAAO;UAASC,OAAA,EAASrC;QAAQ;;;EAInD;EAAA;EAAA;IAAAb,cAAA,GAAA2B,CAAA;EAAA;EAAA3B,cAAA,GAAAG,CAAA;EACA,IAAI,CAACO,KAAA,EAAOyC,MAAA,EAAQ;IAAA;IAAAnD,cAAA,GAAA2B,CAAA;IAAA3B,cAAA,GAAAG,CAAA;IAClB,oBACE,IAAAkC,WAAA,CAAAG,GAAA,EAAC;MAAQD,SAAA,EAAU;gBACjB,iBAAAF,WAAA,CAAAG,GAAA,EAACG,WAAA,CAAAC,OAAU;QACTC,YAAA,EAAa;QACbC,KAAA,EAAM;QACNC,WAAA,EAAY;QACZC,MAAA,EAAQ;UAAEC,KAAA,EAAO;UAAWC,OAAA,EAASrC;QAAQ;;;EAIrD;EAAA;EAAA;IAAAb,cAAA,GAAA2B,CAAA;EAAA;EAAA3B,cAAA,GAAAG,CAAA;EACA,oBACE,IAAAkC,WAAA,CAAAC,IAAA,EAAC;IAAQC,SAAA,EAAU;4BACjB,IAAAF,WAAA,CAAAG,GAAA,EAAC;MAAID,SAAA,EAAU;gBAAmB;qBAClC,IAAAF,WAAA,CAAAG,GAAA,EAAC;MAAGD,SAAA,EAAU;gBACX7B,KAAA,CAAM0C,GAAG,CAAEC,IAAA,IACV;QAAA;QAAArD,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAG,CAAA;QAAA,OADU,aACV,IAAAkC,WAAA,CAAAC,IAAA,EAAC;UAAiBC,SAAA,EAAU;kCAC1B,IAAAF,WAAA,CAAAC,IAAA,EAAC;YAAIC,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;cAAID,SAAA,EAAU;wBAA+Bc,IAAA,CAAKC;6BACnD,IAAAjB,WAAA,CAAAC,IAAA,EAAC;cAAIC,SAAA,EAAU;yBAAmC,aAAUc,IAAA,CAAKE,OAAO,CAACC,IAAI,CAAC;6BAC9E,IAAAnB,WAAA,CAAAC,IAAA,EAAC;cAAIC,SAAA,EAAU;yBAAwB,UAAOc,IAAA,CAAKI,IAAI,EAAC,eAAYJ,IAAA,CAAKK,MAAM;;2BAEjF,IAAArB,WAAA,CAAAC,IAAA,EAAC;YAAIC,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;cACCU,OAAA,EAASA,CAAA,KAAM;gBAAA;gBAAAlD,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAAyB,YAAA,CAAayB,IAAA,CAAKxB,EAAE;cAAA;cACnCU,SAAA,EAAU;cACV,cAAY,kBAAkBc,IAAA,CAAKxB,EAAE,EAAE;wBACxC;6BAGD,IAAAQ,WAAA,CAAAG,GAAA,EAAC;cACCU,OAAA,EAASA,CAAA,KAAM;gBAAA;gBAAAlD,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAAiC,YAAA,CAAaiB,IAAA,CAAKxB,EAAE;cAAA;cACnCU,SAAA,EAAU;cACV,cAAY,oBAAoBc,IAAA,CAAKxB,EAAE,EAAE;wBAC1C;;;WAlBIwB,IAAA,CAAKxB,EAAE;MAAA;;;AA2B1B","ignoreList":[]}