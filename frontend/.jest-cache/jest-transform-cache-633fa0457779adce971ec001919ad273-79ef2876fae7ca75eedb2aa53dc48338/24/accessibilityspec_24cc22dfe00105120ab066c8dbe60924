4047e0bc8d3a9f878841fdfebe934991
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _test = require("@playwright/test");
const _playwright = /*#__PURE__*/ _interop_require_default(require("@axe-core/playwright"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
/**
 * Comprehensive Accessibility Testing Suite
 * Verifies WCAG 2.1 AA compliance across all components and browsers
 */ _test.test.describe('Accessibility Compliance', ()=>{
    _test.test.beforeEach(async ({ page })=>{
        await page.goto('/');
        await page.waitForLoadState('networkidle');
    });
    _test.test.describe('WCAG 2.1 AA Compliance', ()=>{
        (0, _test.test)('should pass automated accessibility scan', async ({ page })=>{
            const accessibilityScanResults = await new _playwright.default({
                page
            }).withTags([
                'wcag2a',
                'wcag2aa',
                'wcag21aa'
            ]).analyze();
            (0, _test.expect)(accessibilityScanResults.violations).toEqual([]);
            console.log(`✅ Accessibility scan passed: ${accessibilityScanResults.passes.length} rules checked`);
        });
        (0, _test.test)('should have proper color contrast ratios', async ({ page })=>{
            const contrastResults = await new _playwright.default({
                page
            }).withRules([
                'color-contrast'
            ]).analyze();
            (0, _test.expect)(contrastResults.violations).toEqual([]);
            // Additional manual contrast checking for critical elements
            await testColorContrast(page);
            console.log('✅ Color contrast requirements met');
        });
        (0, _test.test)('should support keyboard navigation', async ({ page })=>{
            await testKeyboardNavigation(page);
            console.log('✅ Keyboard navigation verified');
        });
        (0, _test.test)('should have proper heading structure', async ({ page })=>{
            const headingResults = await new _playwright.default({
                page
            }).withRules([
                'heading-order'
            ]).analyze();
            (0, _test.expect)(headingResults.violations).toEqual([]);
            // Additional heading structure validation
            await testHeadingHierarchy(page);
            console.log('✅ Heading structure verified');
        });
        (0, _test.test)('should have proper form accessibility', async ({ page })=>{
            const formResults = await new _playwright.default({
                page
            }).withRules([
                'label',
                'form-field-multiple-labels'
            ]).analyze();
            (0, _test.expect)(formResults.violations).toEqual([]);
            await testFormAccessibility(page);
            console.log('✅ Form accessibility verified');
        });
    });
    _test.test.describe('Screen Reader Support', ()=>{
        (0, _test.test)('should have proper ARIA attributes', async ({ page })=>{
            const ariaResults = await new _playwright.default({
                page
            }).withTags([
                'cat.aria'
            ]).analyze();
            (0, _test.expect)(ariaResults.violations).toEqual([]);
            await testARIAAttributes(page);
            console.log('✅ ARIA attributes verified');
        });
        (0, _test.test)('should announce content changes', async ({ page })=>{
            await testLiveRegions(page);
            console.log('✅ Live region announcements verified');
        });
        (0, _test.test)('should have descriptive content', async ({ page })=>{
            await testContentAccessibility(page);
            console.log('✅ Content accessibility verified');
        });
    });
    _test.test.describe('Focus Management', ()=>{
        (0, _test.test)('should have visible focus indicators', async ({ page })=>{
            await testFocusIndicators(page);
            console.log('✅ Focus indicators verified');
        });
        (0, _test.test)('should trap focus in modals', async ({ page })=>{
            await testFocusTrapping(page);
            console.log('✅ Focus trapping verified');
        });
        (0, _test.test)('should maintain logical focus order', async ({ page })=>{
            await testFocusOrder(page);
            console.log('✅ Focus order verified');
        });
    });
    _test.test.describe('Motor Accessibility', ()=>{
        (0, _test.test)('should have adequate touch targets', async ({ page })=>{
            await testTouchTargets(page);
            console.log('✅ Touch target sizes verified');
        });
        (0, _test.test)('should respect reduced motion preferences', async ({ page })=>{
            await testReducedMotion(page);
            console.log('✅ Reduced motion preferences respected');
        });
    });
    _test.test.describe('Theme Accessibility', ()=>{
        (0, _test.test)('should maintain accessibility across all themes', async ({ page })=>{
            const themes = [
                'minimal',
                'neo-brutalist',
                'glassmorphic',
                'cyberpunk',
                'editorial',
                'accessible'
            ];
            for (const theme of themes){
                await setTheme(page, theme);
                const accessibilityResults = await new _playwright.default({
                    page
                }).withTags([
                    'wcag2a',
                    'wcag2aa'
                ]).analyze();
                (0, _test.expect)(accessibilityResults.violations).toEqual([]);
                console.log(`✅ Theme '${theme}' maintains accessibility`);
            }
        });
        (0, _test.test)('should support high contrast mode', async ({ page })=>{
            await testHighContrastMode(page);
            console.log('✅ High contrast mode verified');
        });
    });
});
/**
 * Test color contrast for critical elements
 */ async function testColorContrast(page) {
    // Test critical UI elements for proper contrast
    const criticalElements = [
        'button',
        'a',
        '[role="button"]',
        'input',
        'textarea',
        'select'
    ];
    for (const selector of criticalElements){
        const elements = page.locator(selector);
        const count = await elements.count();
        if (count > 0) {
            for(let i = 0; i < Math.min(count, 5); i++){
                const element = elements.nth(i);
                const contrast = await element.evaluate((el)=>{
                    const styles = window.getComputedStyle(el);
                    const bgColor = styles.backgroundColor;
                    const textColor = styles.color;
                    // Simple contrast calculation (real implementation would be more sophisticated)
                    return {
                        background: bgColor,
                        text: textColor,
                        visible: bgColor !== 'rgba(0, 0, 0, 0)' && textColor !== 'rgba(0, 0, 0, 0)'
                    };
                });
                (0, _test.expect)(contrast.visible).toBeTruthy();
            }
        }
    }
}
/**
 * Test keyboard navigation functionality
 */ async function testKeyboardNavigation(page) {
    // Test Tab navigation
    await page.keyboard.press('Tab');
    let focusedElement = page.locator(':focus');
    (0, _test.expect)(await focusedElement.count()).toBeGreaterThan(0);
    // Test multiple tab presses
    for(let i = 0; i < 5; i++){
        await page.keyboard.press('Tab');
        focusedElement = page.locator(':focus');
        (0, _test.expect)(await focusedElement.count()).toBeGreaterThan(0);
    }
    // Test Shift+Tab (reverse navigation)
    await page.keyboard.press('Shift+Tab');
    focusedElement = page.locator(':focus');
    (0, _test.expect)(await focusedElement.count()).toBeGreaterThan(0);
    // Test Enter key activation
    await page.keyboard.press('Enter');
    await page.waitForTimeout(100);
    // Test Escape key
    await page.keyboard.press('Escape');
    await page.waitForTimeout(100);
}
/**
 * Test heading hierarchy structure
 */ async function testHeadingHierarchy(page) {
    const headings = await page.locator('h1, h2, h3, h4, h5, h6').all();
    if (headings.length > 0) {
        // Check for h1 presence
        const h1Count = await page.locator('h1').count();
        (0, _test.expect)(h1Count).toBeGreaterThanOrEqual(1);
        // Check logical heading order
        let previousLevel = 0;
        for (const heading of headings){
            const tagName = await heading.evaluate((el)=>el.tagName.toLowerCase());
            const currentLevel = parseInt(tagName.charAt(1));
            if (previousLevel > 0) {
                // Heading levels should not skip more than one level
                (0, _test.expect)(currentLevel - previousLevel).toBeLessThanOrEqual(1);
            }
            previousLevel = currentLevel;
        }
    }
}
/**
 * Test form accessibility features
 */ async function testFormAccessibility(page) {
    const forms = page.locator('form');
    const formCount = await forms.count();
    if (formCount > 0) {
        const form = forms.first();
        // Test form inputs have labels
        const inputs = form.locator('input, textarea, select');
        const inputCount = await inputs.count();
        for(let i = 0; i < Math.min(inputCount, 5); i++){
            const input = inputs.nth(i);
            // Check for associated label
            const hasLabel = await input.evaluate((el)=>{
                const id = el.getAttribute('id');
                const ariaLabel = el.getAttribute('aria-label');
                const ariaLabelledBy = el.getAttribute('aria-labelledby');
                if (ariaLabel || ariaLabelledBy) return true;
                if (id) {
                    const label = document.querySelector(`label[for="${id}"]`);
                    return !!label;
                }
                // Check if input is wrapped in label
                return !!el.closest('label');
            });
            (0, _test.expect)(hasLabel).toBeTruthy();
        }
    }
}
/**
 * Test ARIA attributes implementation
 */ async function testARIAAttributes(page) {
    // Test elements with interactive roles
    const interactiveElements = page.locator('[role="button"], [role="link"], [role="tab"], [role="menuitem"]');
    const count = await interactiveElements.count();
    if (count > 0) {
        for(let i = 0; i < Math.min(count, 5); i++){
            const element = interactiveElements.nth(i);
            // Check for accessible name
            const hasAccessibleName = await element.evaluate((el)=>{
                const ariaLabel = el.getAttribute('aria-label');
                const ariaLabelledBy = el.getAttribute('aria-labelledby');
                const textContent = el.textContent?.trim();
                return !!(ariaLabel || ariaLabelledBy || textContent);
            });
            (0, _test.expect)(hasAccessibleName).toBeTruthy();
        }
    }
    // Test expandable elements
    const expandableElements = page.locator('[aria-expanded]');
    const expandableCount = await expandableElements.count();
    if (expandableCount > 0) {
        const element = expandableElements.first();
        const expanded = await element.getAttribute('aria-expanded');
        (0, _test.expect)([
            'true',
            'false'
        ]).toContain(expanded);
    }
}
/**
 * Test live region announcements
 */ async function testLiveRegions(page) {
    // Look for live regions
    const liveRegions = page.locator('[aria-live], [role="status"], [role="alert"]');
    const count = await liveRegions.count();
    if (count > 0) {
        const liveRegion = liveRegions.first();
        const ariaLive = await liveRegion.getAttribute('aria-live');
        const role = await liveRegion.getAttribute('role');
        // Should have appropriate live region settings
        (0, _test.expect)(ariaLive || role).toBeTruthy();
        if (ariaLive) {
            (0, _test.expect)([
                'polite',
                'assertive',
                'off'
            ]).toContain(ariaLive);
        }
    }
}
/**
 * Test content accessibility
 */ async function testContentAccessibility(page) {
    // Test images have alt text
    const images = page.locator('img');
    const imageCount = await images.count();
    if (imageCount > 0) {
        for(let i = 0; i < Math.min(imageCount, 5); i++){
            const img = images.nth(i);
            const alt = await img.getAttribute('alt');
            // Alt attribute should exist (even if empty for decorative images)
            (0, _test.expect)(alt).not.toBeNull();
        }
    }
    // Test links have descriptive text
    const links = page.locator('a');
    const linkCount = await links.count();
    if (linkCount > 0) {
        for(let i = 0; i < Math.min(linkCount, 5); i++){
            const link = links.nth(i);
            const text = await link.textContent();
            const ariaLabel = await link.getAttribute('aria-label');
            // Links should have descriptive text
            (0, _test.expect)(text?.trim() || ariaLabel).toBeTruthy();
        }
    }
}
/**
 * Test focus indicators visibility
 */ async function testFocusIndicators(page) {
    const focusableElements = page.locator('button, a, input, textarea, select, [tabindex="0"]');
    const count = await focusableElements.count();
    if (count > 0) {
        const element = focusableElements.first();
        // Focus the element
        await element.focus();
        // Check for focus styles
        const focusStyles = await element.evaluate((el)=>{
            const styles = window.getComputedStyle(el);
            return {
                outline: styles.outline,
                outlineWidth: styles.outlineWidth,
                boxShadow: styles.boxShadow
            };
        });
        // Should have some form of focus indicator
        const hasFocusIndicator = focusStyles.outline !== 'none' || focusStyles.outlineWidth !== '0px' || focusStyles.boxShadow !== 'none';
        (0, _test.expect)(hasFocusIndicator).toBeTruthy();
    }
}
/**
 * Test focus trapping in modals
 */ async function testFocusTrapping(page) {
    // Look for modal triggers
    const modalTriggers = page.locator('[data-testid*="modal"], [aria-controls], button:has-text("Open"), button:has-text("Show")');
    const count = await modalTriggers.count();
    if (count > 0) {
        const trigger = modalTriggers.first();
        // Try to open modal
        await trigger.click();
        await page.waitForTimeout(300);
        // Check if modal is open
        const modal = page.locator('[role="dialog"], [role="modal"], .modal').first();
        if (await modal.count() > 0) {
            // Test focus is trapped within modal
            await page.keyboard.press('Tab');
            const focusedElement = page.locator(':focus');
            // Focus should be within modal
            const focusWithinModal = await focusedElement.evaluate((el, modalEl)=>{
                return modalEl.contains(el);
            }, await modal.elementHandle());
            if (!focusWithinModal) {
                console.log('⚠️ Focus may not be trapped in modal');
            }
            // Close modal with Escape
            await page.keyboard.press('Escape');
            await page.waitForTimeout(300);
        }
    }
}
/**
 * Test logical focus order
 */ async function testFocusOrder(page) {
    const focusableElements = page.locator('button, a, input, textarea, select, [tabindex="0"]');
    const count = await focusableElements.count();
    if (count > 1) {
        // Get positions of first few focusable elements
        const positions = [];
        for(let i = 0; i < Math.min(count, 5); i++){
            const element = focusableElements.nth(i);
            const box = await element.boundingBox();
            if (box) {
                positions.push({
                    x: box.x,
                    y: box.y,
                    index: i
                });
            }
        }
        // Check that focus order generally follows visual order (top-to-bottom, left-to-right)
        for(let i = 1; i < positions.length; i++){
            const prev = positions[i - 1];
            const curr = positions[i];
            // Current element should be below or to the right of previous
            const isLogicalOrder = curr.y > prev.y || curr.y === prev.y && curr.x >= prev.x;
            if (!isLogicalOrder) {
                console.log(`⚠️ Focus order may not be logical between elements ${prev.index} and ${curr.index}`);
            }
        }
    }
}
/**
 * Test touch target sizes for mobile accessibility
 */ async function testTouchTargets(page) {
    const touchTargets = page.locator('button, a, [role="button"]');
    const count = await touchTargets.count();
    if (count > 0) {
        for(let i = 0; i < Math.min(count, 5); i++){
            const target = touchTargets.nth(i);
            const box = await target.boundingBox();
            if (box) {
                // WCAG recommends minimum 44x44px touch targets
                (0, _test.expect)(box.width).toBeGreaterThanOrEqual(40); // Allow small tolerance
                (0, _test.expect)(box.height).toBeGreaterThanOrEqual(40);
            }
        }
    }
}
/**
 * Test reduced motion preferences
 */ async function testReducedMotion(page) {
    // Test with reduced motion preference
    await page.emulateMedia({
        reducedMotion: 'reduce'
    });
    // Check that animations are reduced or disabled
    const animatedElements = page.locator('[class*="animate"], [style*="transition"], [style*="animation"]');
    const count = await animatedElements.count();
    if (count > 0) {
        for(let i = 0; i < Math.min(count, 3); i++){
            const element = animatedElements.nth(i);
            const animationState = await element.evaluate((el)=>{
                const styles = window.getComputedStyle(el);
                return {
                    transition: styles.transition,
                    animation: styles.animation,
                    transform: styles.transform
                };
            });
            // In reduced motion mode, animations should be minimal
            console.log(`Element ${i} animation state:`, animationState);
        }
    }
    // Reset media emulation
    await page.emulateMedia({
        reducedMotion: null
    });
}
/**
 * Set theme for testing
 */ async function setTheme(page, theme) {
    // Try to find theme selector
    const themeSelector = page.locator('[data-testid="theme-selector"], .theme-selector, button:has-text("Theme")').first();
    if (await themeSelector.count() > 0) {
        await themeSelector.click();
        await page.waitForTimeout(200);
        // Try to select specific theme
        const themeOption = page.locator(`button:has-text("${theme}"), [data-theme="${theme}"]`).first();
        if (await themeOption.count() > 0) {
            await themeOption.click();
            await page.waitForTimeout(500);
        } else {
            // Close theme selector if we can't find the theme
            await page.keyboard.press('Escape');
        }
    } else {
        // Try to set theme directly via JavaScript if selector not found
        await page.evaluate((themeName)=>{
            const root = document.documentElement;
            root.setAttribute('data-theme', themeName);
        }, theme);
        await page.waitForTimeout(300);
    }
}
/**
 * Test high contrast mode support
 */ async function testHighContrastMode(page) {
    // Test high contrast mode
    await page.emulateMedia({
        forcedColors: 'active'
    });
    // Verify content is still accessible
    const accessibilityResults = await new _playwright.default({
        page
    }).withRules([
        'color-contrast'
    ]).analyze();
    // Should still pass accessibility tests in high contrast mode
    (0, _test.expect)(accessibilityResults.violations).toEqual([]);
    // Reset forced colors
    await page.emulateMedia({
        forcedColors: null
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvX190ZXN0c19fL2UyZS9hY2Nlc3NpYmlsaXR5LnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGVzdCwgZXhwZWN0LCB0eXBlIFBhZ2UgfSBmcm9tICdAcGxheXdyaWdodC90ZXN0JztcbmltcG9ydCBBeGVCdWlsZGVyIGZyb20gJ0BheGUtY29yZS9wbGF5d3JpZ2h0JztcblxuLyoqXG4gKiBDb21wcmVoZW5zaXZlIEFjY2Vzc2liaWxpdHkgVGVzdGluZyBTdWl0ZVxuICogVmVyaWZpZXMgV0NBRyAyLjEgQUEgY29tcGxpYW5jZSBhY3Jvc3MgYWxsIGNvbXBvbmVudHMgYW5kIGJyb3dzZXJzXG4gKi9cblxudGVzdC5kZXNjcmliZSgnQWNjZXNzaWJpbGl0eSBDb21wbGlhbmNlJywgKCkgPT4ge1xuICBcbiAgdGVzdC5iZWZvcmVFYWNoKGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xuICAgIGF3YWl0IHBhZ2UuZ290bygnLycpO1xuICAgIGF3YWl0IHBhZ2Uud2FpdEZvckxvYWRTdGF0ZSgnbmV0d29ya2lkbGUnKTtcbiAgfSk7XG5cbiAgdGVzdC5kZXNjcmliZSgnV0NBRyAyLjEgQUEgQ29tcGxpYW5jZScsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgcGFzcyBhdXRvbWF0ZWQgYWNjZXNzaWJpbGl0eSBzY2FuJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2NhblJlc3VsdHMgPSBhd2FpdCBuZXcgQXhlQnVpbGRlcih7IHBhZ2UgfSlcbiAgICAgICAgLndpdGhUYWdzKFsnd2NhZzJhJywgJ3djYWcyYWEnLCAnd2NhZzIxYWEnXSlcbiAgICAgICAgLmFuYWx5emUoKTtcblxuICAgICAgZXhwZWN0KGFjY2Vzc2liaWxpdHlTY2FuUmVzdWx0cy52aW9sYXRpb25zKS50b0VxdWFsKFtdKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYOKchSBBY2Nlc3NpYmlsaXR5IHNjYW4gcGFzc2VkOiAke2FjY2Vzc2liaWxpdHlTY2FuUmVzdWx0cy5wYXNzZXMubGVuZ3RofSBydWxlcyBjaGVja2VkYCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBwcm9wZXIgY29sb3IgY29udHJhc3QgcmF0aW9zJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBjb25zdCBjb250cmFzdFJlc3VsdHMgPSBhd2FpdCBuZXcgQXhlQnVpbGRlcih7IHBhZ2UgfSlcbiAgICAgICAgLndpdGhSdWxlcyhbJ2NvbG9yLWNvbnRyYXN0J10pXG4gICAgICAgIC5hbmFseXplKCk7XG5cbiAgICAgIGV4cGVjdChjb250cmFzdFJlc3VsdHMudmlvbGF0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICBcbiAgICAgIC8vIEFkZGl0aW9uYWwgbWFudWFsIGNvbnRyYXN0IGNoZWNraW5nIGZvciBjcml0aWNhbCBlbGVtZW50c1xuICAgICAgYXdhaXQgdGVzdENvbG9yQ29udHJhc3QocGFnZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29sb3IgY29udHJhc3QgcmVxdWlyZW1lbnRzIG1ldCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHN1cHBvcnQga2V5Ym9hcmQgbmF2aWdhdGlvbicsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xuICAgICAgYXdhaXQgdGVzdEtleWJvYXJkTmF2aWdhdGlvbihwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgS2V5Ym9hcmQgbmF2aWdhdGlvbiB2ZXJpZmllZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGhlYWRpbmcgc3RydWN0dXJlJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBjb25zdCBoZWFkaW5nUmVzdWx0cyA9IGF3YWl0IG5ldyBBeGVCdWlsZGVyKHsgcGFnZSB9KVxuICAgICAgICAud2l0aFJ1bGVzKFsnaGVhZGluZy1vcmRlciddKVxuICAgICAgICAuYW5hbHl6ZSgpO1xuXG4gICAgICBleHBlY3QoaGVhZGluZ1Jlc3VsdHMudmlvbGF0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICBcbiAgICAgIC8vIEFkZGl0aW9uYWwgaGVhZGluZyBzdHJ1Y3R1cmUgdmFsaWRhdGlvblxuICAgICAgYXdhaXQgdGVzdEhlYWRpbmdIaWVyYXJjaHkocGFnZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSGVhZGluZyBzdHJ1Y3R1cmUgdmVyaWZpZWQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBmb3JtIGFjY2Vzc2liaWxpdHknLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcbiAgICAgIGNvbnN0IGZvcm1SZXN1bHRzID0gYXdhaXQgbmV3IEF4ZUJ1aWxkZXIoeyBwYWdlIH0pXG4gICAgICAgIC53aXRoUnVsZXMoWydsYWJlbCcsICdmb3JtLWZpZWxkLW11bHRpcGxlLWxhYmVscyddKVxuICAgICAgICAuYW5hbHl6ZSgpO1xuXG4gICAgICBleHBlY3QoZm9ybVJlc3VsdHMudmlvbGF0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHRlc3RGb3JtQWNjZXNzaWJpbGl0eShwYWdlKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBGb3JtIGFjY2Vzc2liaWxpdHkgdmVyaWZpZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdC5kZXNjcmliZSgnU2NyZWVuIFJlYWRlciBTdXBwb3J0JywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGF0dHJpYnV0ZXMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcbiAgICAgIGNvbnN0IGFyaWFSZXN1bHRzID0gYXdhaXQgbmV3IEF4ZUJ1aWxkZXIoeyBwYWdlIH0pXG4gICAgICAgIC53aXRoVGFncyhbJ2NhdC5hcmlhJ10pXG4gICAgICAgIC5hbmFseXplKCk7XG5cbiAgICAgIGV4cGVjdChhcmlhUmVzdWx0cy52aW9sYXRpb25zKS50b0VxdWFsKFtdKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGVzdEFSSUFBdHRyaWJ1dGVzKHBhZ2UpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEFSSUEgYXR0cmlidXRlcyB2ZXJpZmllZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFubm91bmNlIGNvbnRlbnQgY2hhbmdlcycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xuICAgICAgYXdhaXQgdGVzdExpdmVSZWdpb25zKHBhZ2UpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBMaXZlIHJlZ2lvbiBhbm5vdW5jZW1lbnRzIHZlcmlmaWVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBkZXNjcmlwdGl2ZSBjb250ZW50JywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0Q29udGVudEFjY2Vzc2liaWxpdHkocGFnZSk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIENvbnRlbnQgYWNjZXNzaWJpbGl0eSB2ZXJpZmllZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0LmRlc2NyaWJlKCdGb2N1cyBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHZpc2libGUgZm9jdXMgaW5kaWNhdG9ycycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xuICAgICAgYXdhaXQgdGVzdEZvY3VzSW5kaWNhdG9ycyhwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRm9jdXMgaW5kaWNhdG9ycyB2ZXJpZmllZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHRyYXAgZm9jdXMgaW4gbW9kYWxzJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0Rm9jdXNUcmFwcGluZyhwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRm9jdXMgdHJhcHBpbmcgdmVyaWZpZWQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBsb2dpY2FsIGZvY3VzIG9yZGVyJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0Rm9jdXNPcmRlcihwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRm9jdXMgb3JkZXIgdmVyaWZpZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdC5kZXNjcmliZSgnTW90b3IgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBhZGVxdWF0ZSB0b3VjaCB0YXJnZXRzJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0VG91Y2hUYXJnZXRzKHBhZ2UpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBUb3VjaCB0YXJnZXQgc2l6ZXMgdmVyaWZpZWQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXNwZWN0IHJlZHVjZWQgbW90aW9uIHByZWZlcmVuY2VzJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0UmVkdWNlZE1vdGlvbihwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUmVkdWNlZCBtb3Rpb24gcHJlZmVyZW5jZXMgcmVzcGVjdGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QuZGVzY3JpYmUoJ1RoZW1lIEFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIGFjY2Vzc2liaWxpdHkgYWNyb3NzIGFsbCB0aGVtZXMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcbiAgICAgIGNvbnN0IHRoZW1lcyA9IFsnbWluaW1hbCcsICduZW8tYnJ1dGFsaXN0JywgJ2dsYXNzbW9ycGhpYycsICdjeWJlcnB1bmsnLCAnZWRpdG9yaWFsJywgJ2FjY2Vzc2libGUnXTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCB0aGVtZSBvZiB0aGVtZXMpIHtcbiAgICAgICAgYXdhaXQgc2V0VGhlbWUocGFnZSwgdGhlbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVJlc3VsdHMgPSBhd2FpdCBuZXcgQXhlQnVpbGRlcih7IHBhZ2UgfSlcbiAgICAgICAgICAud2l0aFRhZ3MoWyd3Y2FnMmEnLCAnd2NhZzJhYSddKVxuICAgICAgICAgIC5hbmFseXplKCk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QoYWNjZXNzaWJpbGl0eVJlc3VsdHMudmlvbGF0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgVGhlbWUgJyR7dGhlbWV9JyBtYWludGFpbnMgYWNjZXNzaWJpbGl0eWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHN1cHBvcnQgaGlnaCBjb250cmFzdCBtb2RlJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XG4gICAgICBhd2FpdCB0ZXN0SGlnaENvbnRyYXN0TW9kZShwYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSGlnaCBjb250cmFzdCBtb2RlIHZlcmlmaWVkJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogVGVzdCBjb2xvciBjb250cmFzdCBmb3IgY3JpdGljYWwgZWxlbWVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdENvbG9yQ29udHJhc3QocGFnZTogUGFnZSkge1xuICAvLyBUZXN0IGNyaXRpY2FsIFVJIGVsZW1lbnRzIGZvciBwcm9wZXIgY29udHJhc3RcbiAgY29uc3QgY3JpdGljYWxFbGVtZW50cyA9IFtcbiAgICAnYnV0dG9uJyxcbiAgICAnYScsXG4gICAgJ1tyb2xlPVwiYnV0dG9uXCJdJyxcbiAgICAnaW5wdXQnLFxuICAgICd0ZXh0YXJlYScsXG4gICAgJ3NlbGVjdCdcbiAgXTtcblxuICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIGNyaXRpY2FsRWxlbWVudHMpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHBhZ2UubG9jYXRvcihzZWxlY3Rvcik7XG4gICAgY29uc3QgY291bnQgPSBhd2FpdCBlbGVtZW50cy5jb3VudCgpO1xuICAgIFxuICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY291bnQsIDUpOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLm50aChpKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRyYXN0ID0gYXdhaXQgZWxlbWVudC5ldmFsdWF0ZSgoZWwpID0+IHtcbiAgICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgICAgICAgY29uc3QgYmdDb2xvciA9IHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgY29uc3QgdGV4dENvbG9yID0gc3R5bGVzLmNvbG9yO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNpbXBsZSBjb250cmFzdCBjYWxjdWxhdGlvbiAocmVhbCBpbXBsZW1lbnRhdGlvbiB3b3VsZCBiZSBtb3JlIHNvcGhpc3RpY2F0ZWQpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJnQ29sb3IsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICB2aXNpYmxlOiBiZ0NvbG9yICE9PSAncmdiYSgwLCAwLCAwLCAwKScgJiYgdGV4dENvbG9yICE9PSAncmdiYSgwLCAwLCAwLCAwKSdcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChjb250cmFzdC52aXNpYmxlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGVzdCBrZXlib2FyZCBuYXZpZ2F0aW9uIGZ1bmN0aW9uYWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdEtleWJvYXJkTmF2aWdhdGlvbihwYWdlOiBQYWdlKSB7XG4gIC8vIFRlc3QgVGFiIG5hdmlnYXRpb25cbiAgYXdhaXQgcGFnZS5rZXlib2FyZC5wcmVzcygnVGFiJyk7XG4gIFxuICBsZXQgZm9jdXNlZEVsZW1lbnQgPSBwYWdlLmxvY2F0b3IoJzpmb2N1cycpO1xuICBleHBlY3QoYXdhaXQgZm9jdXNlZEVsZW1lbnQuY291bnQoKSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICBcbiAgLy8gVGVzdCBtdWx0aXBsZSB0YWIgcHJlc3Nlc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgIGF3YWl0IHBhZ2Uua2V5Ym9hcmQucHJlc3MoJ1RhYicpO1xuICAgIGZvY3VzZWRFbGVtZW50ID0gcGFnZS5sb2NhdG9yKCc6Zm9jdXMnKTtcbiAgICBleHBlY3QoYXdhaXQgZm9jdXNlZEVsZW1lbnQuY291bnQoKSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICB9XG4gIFxuICAvLyBUZXN0IFNoaWZ0K1RhYiAocmV2ZXJzZSBuYXZpZ2F0aW9uKVxuICBhd2FpdCBwYWdlLmtleWJvYXJkLnByZXNzKCdTaGlmdCtUYWInKTtcbiAgZm9jdXNlZEVsZW1lbnQgPSBwYWdlLmxvY2F0b3IoJzpmb2N1cycpO1xuICBleHBlY3QoYXdhaXQgZm9jdXNlZEVsZW1lbnQuY291bnQoKSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICBcbiAgLy8gVGVzdCBFbnRlciBrZXkgYWN0aXZhdGlvblxuICBhd2FpdCBwYWdlLmtleWJvYXJkLnByZXNzKCdFbnRlcicpO1xuICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDEwMCk7XG4gIFxuICAvLyBUZXN0IEVzY2FwZSBrZXlcbiAgYXdhaXQgcGFnZS5rZXlib2FyZC5wcmVzcygnRXNjYXBlJyk7XG4gIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMTAwKTtcbn1cblxuLyoqXG4gKiBUZXN0IGhlYWRpbmcgaGllcmFyY2h5IHN0cnVjdHVyZVxuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0SGVhZGluZ0hpZXJhcmNoeShwYWdlOiBQYWdlKSB7XG4gIGNvbnN0IGhlYWRpbmdzID0gYXdhaXQgcGFnZS5sb2NhdG9yKCdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2JykuYWxsKCk7XG4gIFxuICBpZiAoaGVhZGluZ3MubGVuZ3RoID4gMCkge1xuICAgIC8vIENoZWNrIGZvciBoMSBwcmVzZW5jZVxuICAgIGNvbnN0IGgxQ291bnQgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJ2gxJykuY291bnQoKTtcbiAgICBleHBlY3QoaDFDb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgxKTtcbiAgICBcbiAgICAvLyBDaGVjayBsb2dpY2FsIGhlYWRpbmcgb3JkZXJcbiAgICBsZXQgcHJldmlvdXNMZXZlbCA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBoZWFkaW5nIG9mIGhlYWRpbmdzKSB7XG4gICAgICBjb25zdCB0YWdOYW1lID0gYXdhaXQgaGVhZGluZy5ldmFsdWF0ZShlbCA9PiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgY29uc3QgY3VycmVudExldmVsID0gcGFyc2VJbnQodGFnTmFtZS5jaGFyQXQoMSkpO1xuICAgICAgXG4gICAgICBpZiAocHJldmlvdXNMZXZlbCA+IDApIHtcbiAgICAgICAgLy8gSGVhZGluZyBsZXZlbHMgc2hvdWxkIG5vdCBza2lwIG1vcmUgdGhhbiBvbmUgbGV2ZWxcbiAgICAgICAgZXhwZWN0KGN1cnJlbnRMZXZlbCAtIHByZXZpb3VzTGV2ZWwpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHByZXZpb3VzTGV2ZWwgPSBjdXJyZW50TGV2ZWw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGVzdCBmb3JtIGFjY2Vzc2liaWxpdHkgZmVhdHVyZXNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdEZvcm1BY2Nlc3NpYmlsaXR5KHBhZ2U6IFBhZ2UpIHtcbiAgY29uc3QgZm9ybXMgPSBwYWdlLmxvY2F0b3IoJ2Zvcm0nKTtcbiAgY29uc3QgZm9ybUNvdW50ID0gYXdhaXQgZm9ybXMuY291bnQoKTtcbiAgXG4gIGlmIChmb3JtQ291bnQgPiAwKSB7XG4gICAgY29uc3QgZm9ybSA9IGZvcm1zLmZpcnN0KCk7XG4gICAgXG4gICAgLy8gVGVzdCBmb3JtIGlucHV0cyBoYXZlIGxhYmVsc1xuICAgIGNvbnN0IGlucHV0cyA9IGZvcm0ubG9jYXRvcignaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcbiAgICBjb25zdCBpbnB1dENvdW50ID0gYXdhaXQgaW5wdXRzLmNvdW50KCk7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihpbnB1dENvdW50LCA1KTsgaSsrKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IGlucHV0cy5udGgoaSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBhc3NvY2lhdGVkIGxhYmVsXG4gICAgICBjb25zdCBoYXNMYWJlbCA9IGF3YWl0IGlucHV0LmV2YWx1YXRlKGVsID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgIGNvbnN0IGFyaWFMYWJlbCA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICBjb25zdCBhcmlhTGFiZWxsZWRCeSA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXJpYUxhYmVsIHx8IGFyaWFMYWJlbGxlZEJ5KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbGFiZWxbZm9yPVwiJHtpZH1cIl1gKTtcbiAgICAgICAgICByZXR1cm4gISFsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgaW5wdXQgaXMgd3JhcHBlZCBpbiBsYWJlbFxuICAgICAgICByZXR1cm4gISFlbC5jbG9zZXN0KCdsYWJlbCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChoYXNMYWJlbCkudG9CZVRydXRoeSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRlc3QgQVJJQSBhdHRyaWJ1dGVzIGltcGxlbWVudGF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRlc3RBUklBQXR0cmlidXRlcyhwYWdlOiBQYWdlKSB7XG4gIC8vIFRlc3QgZWxlbWVudHMgd2l0aCBpbnRlcmFjdGl2ZSByb2xlc1xuICBjb25zdCBpbnRlcmFjdGl2ZUVsZW1lbnRzID0gcGFnZS5sb2NhdG9yKCdbcm9sZT1cImJ1dHRvblwiXSwgW3JvbGU9XCJsaW5rXCJdLCBbcm9sZT1cInRhYlwiXSwgW3JvbGU9XCJtZW51aXRlbVwiXScpO1xuICBjb25zdCBjb3VudCA9IGF3YWl0IGludGVyYWN0aXZlRWxlbWVudHMuY291bnQoKTtcbiAgXG4gIGlmIChjb3VudCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGNvdW50LCA1KTsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gaW50ZXJhY3RpdmVFbGVtZW50cy5udGgoaSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBhY2Nlc3NpYmxlIG5hbWVcbiAgICAgIGNvbnN0IGhhc0FjY2Vzc2libGVOYW1lID0gYXdhaXQgZWxlbWVudC5ldmFsdWF0ZShlbCA9PiB7XG4gICAgICAgIGNvbnN0IGFyaWFMYWJlbCA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICBjb25zdCBhcmlhTGFiZWxsZWRCeSA9IGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZWwudGV4dENvbnRlbnQ/LnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiAhIShhcmlhTGFiZWwgfHwgYXJpYUxhYmVsbGVkQnkgfHwgdGV4dENvbnRlbnQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChoYXNBY2Nlc3NpYmxlTmFtZSkudG9CZVRydXRoeSgpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gVGVzdCBleHBhbmRhYmxlIGVsZW1lbnRzXG4gIGNvbnN0IGV4cGFuZGFibGVFbGVtZW50cyA9IHBhZ2UubG9jYXRvcignW2FyaWEtZXhwYW5kZWRdJyk7XG4gIGNvbnN0IGV4cGFuZGFibGVDb3VudCA9IGF3YWl0IGV4cGFuZGFibGVFbGVtZW50cy5jb3VudCgpO1xuICBcbiAgaWYgKGV4cGFuZGFibGVDb3VudCA+IDApIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZXhwYW5kYWJsZUVsZW1lbnRzLmZpcnN0KCk7XG4gICAgY29uc3QgZXhwYW5kZWQgPSBhd2FpdCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xuICAgIGV4cGVjdChbJ3RydWUnLCAnZmFsc2UnXSkudG9Db250YWluKGV4cGFuZGVkKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlc3QgbGl2ZSByZWdpb24gYW5ub3VuY2VtZW50c1xuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0TGl2ZVJlZ2lvbnMocGFnZTogUGFnZSkge1xuICAvLyBMb29rIGZvciBsaXZlIHJlZ2lvbnNcbiAgY29uc3QgbGl2ZVJlZ2lvbnMgPSBwYWdlLmxvY2F0b3IoJ1thcmlhLWxpdmVdLCBbcm9sZT1cInN0YXR1c1wiXSwgW3JvbGU9XCJhbGVydFwiXScpO1xuICBjb25zdCBjb3VudCA9IGF3YWl0IGxpdmVSZWdpb25zLmNvdW50KCk7XG4gIFxuICBpZiAoY291bnQgPiAwKSB7XG4gICAgY29uc3QgbGl2ZVJlZ2lvbiA9IGxpdmVSZWdpb25zLmZpcnN0KCk7XG4gICAgY29uc3QgYXJpYUxpdmUgPSBhd2FpdCBsaXZlUmVnaW9uLmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJyk7XG4gICAgY29uc3Qgcm9sZSA9IGF3YWl0IGxpdmVSZWdpb24uZ2V0QXR0cmlidXRlKCdyb2xlJyk7XG4gICAgXG4gICAgLy8gU2hvdWxkIGhhdmUgYXBwcm9wcmlhdGUgbGl2ZSByZWdpb24gc2V0dGluZ3NcbiAgICBleHBlY3QoYXJpYUxpdmUgfHwgcm9sZSkudG9CZVRydXRoeSgpO1xuICAgIFxuICAgIGlmIChhcmlhTGl2ZSkge1xuICAgICAgZXhwZWN0KFsncG9saXRlJywgJ2Fzc2VydGl2ZScsICdvZmYnXSkudG9Db250YWluKGFyaWFMaXZlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUZXN0IGNvbnRlbnQgYWNjZXNzaWJpbGl0eVxuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0Q29udGVudEFjY2Vzc2liaWxpdHkocGFnZTogUGFnZSkge1xuICAvLyBUZXN0IGltYWdlcyBoYXZlIGFsdCB0ZXh0XG4gIGNvbnN0IGltYWdlcyA9IHBhZ2UubG9jYXRvcignaW1nJyk7XG4gIGNvbnN0IGltYWdlQ291bnQgPSBhd2FpdCBpbWFnZXMuY291bnQoKTtcbiAgXG4gIGlmIChpbWFnZUNvdW50ID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oaW1hZ2VDb3VudCwgNSk7IGkrKykge1xuICAgICAgY29uc3QgaW1nID0gaW1hZ2VzLm50aChpKTtcbiAgICAgIGNvbnN0IGFsdCA9IGF3YWl0IGltZy5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgXG4gICAgICAvLyBBbHQgYXR0cmlidXRlIHNob3VsZCBleGlzdCAoZXZlbiBpZiBlbXB0eSBmb3IgZGVjb3JhdGl2ZSBpbWFnZXMpXG4gICAgICBleHBlY3QoYWx0KS5ub3QudG9CZU51bGwoKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFRlc3QgbGlua3MgaGF2ZSBkZXNjcmlwdGl2ZSB0ZXh0XG4gIGNvbnN0IGxpbmtzID0gcGFnZS5sb2NhdG9yKCdhJyk7XG4gIGNvbnN0IGxpbmtDb3VudCA9IGF3YWl0IGxpbmtzLmNvdW50KCk7XG4gIFxuICBpZiAobGlua0NvdW50ID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obGlua0NvdW50LCA1KTsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5rID0gbGlua3MubnRoKGkpO1xuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGxpbmsudGV4dENvbnRlbnQoKTtcbiAgICAgIGNvbnN0IGFyaWFMYWJlbCA9IGF3YWl0IGxpbmsuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICBcbiAgICAgIC8vIExpbmtzIHNob3VsZCBoYXZlIGRlc2NyaXB0aXZlIHRleHRcbiAgICAgIGV4cGVjdCh0ZXh0Py50cmltKCkgfHwgYXJpYUxhYmVsKS50b0JlVHJ1dGh5KCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGVzdCBmb2N1cyBpbmRpY2F0b3JzIHZpc2liaWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdEZvY3VzSW5kaWNhdG9ycyhwYWdlOiBQYWdlKSB7XG4gIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gcGFnZS5sb2NhdG9yKCdidXR0b24sIGEsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBbdGFiaW5kZXg9XCIwXCJdJyk7XG4gIGNvbnN0IGNvdW50ID0gYXdhaXQgZm9jdXNhYmxlRWxlbWVudHMuY291bnQoKTtcbiAgXG4gIGlmIChjb3VudCA+IDApIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHMuZmlyc3QoKTtcbiAgICBcbiAgICAvLyBGb2N1cyB0aGUgZWxlbWVudFxuICAgIGF3YWl0IGVsZW1lbnQuZm9jdXMoKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgZm9jdXMgc3R5bGVzXG4gICAgY29uc3QgZm9jdXNTdHlsZXMgPSBhd2FpdCBlbGVtZW50LmV2YWx1YXRlKGVsID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG91dGxpbmU6IHN0eWxlcy5vdXRsaW5lLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IHN0eWxlcy5vdXRsaW5lV2lkdGgsXG4gICAgICAgIGJveFNoYWRvdzogc3R5bGVzLmJveFNoYWRvd1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBTaG91bGQgaGF2ZSBzb21lIGZvcm0gb2YgZm9jdXMgaW5kaWNhdG9yXG4gICAgY29uc3QgaGFzRm9jdXNJbmRpY2F0b3IgPSBcbiAgICAgIGZvY3VzU3R5bGVzLm91dGxpbmUgIT09ICdub25lJyB8fFxuICAgICAgZm9jdXNTdHlsZXMub3V0bGluZVdpZHRoICE9PSAnMHB4JyB8fFxuICAgICAgZm9jdXNTdHlsZXMuYm94U2hhZG93ICE9PSAnbm9uZSc7XG4gICAgXG4gICAgZXhwZWN0KGhhc0ZvY3VzSW5kaWNhdG9yKS50b0JlVHJ1dGh5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUZXN0IGZvY3VzIHRyYXBwaW5nIGluIG1vZGFsc1xuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0Rm9jdXNUcmFwcGluZyhwYWdlOiBQYWdlKSB7XG4gIC8vIExvb2sgZm9yIG1vZGFsIHRyaWdnZXJzXG4gIGNvbnN0IG1vZGFsVHJpZ2dlcnMgPSBwYWdlLmxvY2F0b3IoJ1tkYXRhLXRlc3RpZCo9XCJtb2RhbFwiXSwgW2FyaWEtY29udHJvbHNdLCBidXR0b246aGFzLXRleHQoXCJPcGVuXCIpLCBidXR0b246aGFzLXRleHQoXCJTaG93XCIpJyk7XG4gIGNvbnN0IGNvdW50ID0gYXdhaXQgbW9kYWxUcmlnZ2Vycy5jb3VudCgpO1xuICBcbiAgaWYgKGNvdW50ID4gMCkge1xuICAgIGNvbnN0IHRyaWdnZXIgPSBtb2RhbFRyaWdnZXJzLmZpcnN0KCk7XG4gICAgXG4gICAgLy8gVHJ5IHRvIG9wZW4gbW9kYWxcbiAgICBhd2FpdCB0cmlnZ2VyLmNsaWNrKCk7XG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgzMDApO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIG1vZGFsIGlzIG9wZW5cbiAgICBjb25zdCBtb2RhbCA9IHBhZ2UubG9jYXRvcignW3JvbGU9XCJkaWFsb2dcIl0sIFtyb2xlPVwibW9kYWxcIl0sIC5tb2RhbCcpLmZpcnN0KCk7XG4gICAgXG4gICAgaWYgKGF3YWl0IG1vZGFsLmNvdW50KCkgPiAwKSB7XG4gICAgICAvLyBUZXN0IGZvY3VzIGlzIHRyYXBwZWQgd2l0aGluIG1vZGFsXG4gICAgICBhd2FpdCBwYWdlLmtleWJvYXJkLnByZXNzKCdUYWInKTtcbiAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gcGFnZS5sb2NhdG9yKCc6Zm9jdXMnKTtcbiAgICAgIFxuICAgICAgLy8gRm9jdXMgc2hvdWxkIGJlIHdpdGhpbiBtb2RhbFxuICAgICAgY29uc3QgZm9jdXNXaXRoaW5Nb2RhbCA9IGF3YWl0IGZvY3VzZWRFbGVtZW50LmV2YWx1YXRlKChlbCwgbW9kYWxFbCkgPT4ge1xuICAgICAgICByZXR1cm4gbW9kYWxFbC5jb250YWlucyhlbCk7XG4gICAgICB9LCBhd2FpdCBtb2RhbC5lbGVtZW50SGFuZGxlKCkpO1xuICAgICAgXG4gICAgICBpZiAoIWZvY3VzV2l0aGluTW9kYWwpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBGb2N1cyBtYXkgbm90IGJlIHRyYXBwZWQgaW4gbW9kYWwnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xvc2UgbW9kYWwgd2l0aCBFc2NhcGVcbiAgICAgIGF3YWl0IHBhZ2Uua2V5Ym9hcmQucHJlc3MoJ0VzY2FwZScpO1xuICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgzMDApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRlc3QgbG9naWNhbCBmb2N1cyBvcmRlclxuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0Rm9jdXNPcmRlcihwYWdlOiBQYWdlKSB7XG4gIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gcGFnZS5sb2NhdG9yKCdidXR0b24sIGEsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBbdGFiaW5kZXg9XCIwXCJdJyk7XG4gIGNvbnN0IGNvdW50ID0gYXdhaXQgZm9jdXNhYmxlRWxlbWVudHMuY291bnQoKTtcbiAgXG4gIGlmIChjb3VudCA+IDEpIHtcbiAgICAvLyBHZXQgcG9zaXRpb25zIG9mIGZpcnN0IGZldyBmb2N1c2FibGUgZWxlbWVudHNcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGNvdW50LCA1KTsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHMubnRoKGkpO1xuICAgICAgY29uc3QgYm94ID0gYXdhaXQgZWxlbWVudC5ib3VuZGluZ0JveCgpO1xuICAgICAgXG4gICAgICBpZiAoYm94KSB7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKHsgeDogYm94LngsIHk6IGJveC55LCBpbmRleDogaSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgdGhhdCBmb2N1cyBvcmRlciBnZW5lcmFsbHkgZm9sbG93cyB2aXN1YWwgb3JkZXIgKHRvcC10by1ib3R0b20sIGxlZnQtdG8tcmlnaHQpXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByZXYgPSBwb3NpdGlvbnNbaSAtIDFdO1xuICAgICAgY29uc3QgY3VyciA9IHBvc2l0aW9uc1tpXTtcbiAgICAgIFxuICAgICAgLy8gQ3VycmVudCBlbGVtZW50IHNob3VsZCBiZSBiZWxvdyBvciB0byB0aGUgcmlnaHQgb2YgcHJldmlvdXNcbiAgICAgIGNvbnN0IGlzTG9naWNhbE9yZGVyID0gY3Vyci55ID4gcHJldi55IHx8IChjdXJyLnkgPT09IHByZXYueSAmJiBjdXJyLnggPj0gcHJldi54KTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0xvZ2ljYWxPcmRlcikge1xuICAgICAgICBjb25zb2xlLmxvZyhg4pqg77iPIEZvY3VzIG9yZGVyIG1heSBub3QgYmUgbG9naWNhbCBiZXR3ZWVuIGVsZW1lbnRzICR7cHJldi5pbmRleH0gYW5kICR7Y3Vyci5pbmRleH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUZXN0IHRvdWNoIHRhcmdldCBzaXplcyBmb3IgbW9iaWxlIGFjY2Vzc2liaWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdFRvdWNoVGFyZ2V0cyhwYWdlOiBQYWdlKSB7XG4gIGNvbnN0IHRvdWNoVGFyZ2V0cyA9IHBhZ2UubG9jYXRvcignYnV0dG9uLCBhLCBbcm9sZT1cImJ1dHRvblwiXScpO1xuICBjb25zdCBjb3VudCA9IGF3YWl0IHRvdWNoVGFyZ2V0cy5jb3VudCgpO1xuICBcbiAgaWYgKGNvdW50ID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY291bnQsIDUpOyBpKyspIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRvdWNoVGFyZ2V0cy5udGgoaSk7XG4gICAgICBjb25zdCBib3ggPSBhd2FpdCB0YXJnZXQuYm91bmRpbmdCb3goKTtcbiAgICAgIFxuICAgICAgaWYgKGJveCkge1xuICAgICAgICAvLyBXQ0FHIHJlY29tbWVuZHMgbWluaW11bSA0NHg0NHB4IHRvdWNoIHRhcmdldHNcbiAgICAgICAgZXhwZWN0KGJveC53aWR0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCg0MCk7IC8vIEFsbG93IHNtYWxsIHRvbGVyYW5jZVxuICAgICAgICBleHBlY3QoYm94LmhlaWdodCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCg0MCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGVzdCByZWR1Y2VkIG1vdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiB0ZXN0UmVkdWNlZE1vdGlvbihwYWdlOiBQYWdlKSB7XG4gIC8vIFRlc3Qgd2l0aCByZWR1Y2VkIG1vdGlvbiBwcmVmZXJlbmNlXG4gIGF3YWl0IHBhZ2UuZW11bGF0ZU1lZGlhKHsgcmVkdWNlZE1vdGlvbjogJ3JlZHVjZScgfSk7XG4gIFxuICAvLyBDaGVjayB0aGF0IGFuaW1hdGlvbnMgYXJlIHJlZHVjZWQgb3IgZGlzYWJsZWRcbiAgY29uc3QgYW5pbWF0ZWRFbGVtZW50cyA9IHBhZ2UubG9jYXRvcignW2NsYXNzKj1cImFuaW1hdGVcIl0sIFtzdHlsZSo9XCJ0cmFuc2l0aW9uXCJdLCBbc3R5bGUqPVwiYW5pbWF0aW9uXCJdJyk7XG4gIGNvbnN0IGNvdW50ID0gYXdhaXQgYW5pbWF0ZWRFbGVtZW50cy5jb3VudCgpO1xuICBcbiAgaWYgKGNvdW50ID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY291bnQsIDMpOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBhbmltYXRlZEVsZW1lbnRzLm50aChpKTtcbiAgICAgIFxuICAgICAgY29uc3QgYW5pbWF0aW9uU3RhdGUgPSBhd2FpdCBlbGVtZW50LmV2YWx1YXRlKGVsID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRyYW5zaXRpb246IHN0eWxlcy50cmFuc2l0aW9uLFxuICAgICAgICAgIGFuaW1hdGlvbjogc3R5bGVzLmFuaW1hdGlvbixcbiAgICAgICAgICB0cmFuc2Zvcm06IHN0eWxlcy50cmFuc2Zvcm1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBJbiByZWR1Y2VkIG1vdGlvbiBtb2RlLCBhbmltYXRpb25zIHNob3VsZCBiZSBtaW5pbWFsXG4gICAgICBjb25zb2xlLmxvZyhgRWxlbWVudCAke2l9IGFuaW1hdGlvbiBzdGF0ZTpgLCBhbmltYXRpb25TdGF0ZSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBSZXNldCBtZWRpYSBlbXVsYXRpb25cbiAgYXdhaXQgcGFnZS5lbXVsYXRlTWVkaWEoeyByZWR1Y2VkTW90aW9uOiBudWxsIH0pO1xufVxuXG4vKipcbiAqIFNldCB0aGVtZSBmb3IgdGVzdGluZ1xuICovXG5hc3luYyBmdW5jdGlvbiBzZXRUaGVtZShwYWdlOiBQYWdlLCB0aGVtZTogc3RyaW5nKSB7XG4gIC8vIFRyeSB0byBmaW5kIHRoZW1lIHNlbGVjdG9yXG4gIGNvbnN0IHRoZW1lU2VsZWN0b3IgPSBwYWdlLmxvY2F0b3IoJ1tkYXRhLXRlc3RpZD1cInRoZW1lLXNlbGVjdG9yXCJdLCAudGhlbWUtc2VsZWN0b3IsIGJ1dHRvbjpoYXMtdGV4dChcIlRoZW1lXCIpJykuZmlyc3QoKTtcbiAgXG4gIGlmIChhd2FpdCB0aGVtZVNlbGVjdG9yLmNvdW50KCkgPiAwKSB7XG4gICAgYXdhaXQgdGhlbWVTZWxlY3Rvci5jbGljaygpO1xuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwKTtcbiAgICBcbiAgICAvLyBUcnkgdG8gc2VsZWN0IHNwZWNpZmljIHRoZW1lXG4gICAgY29uc3QgdGhlbWVPcHRpb24gPSBwYWdlLmxvY2F0b3IoYGJ1dHRvbjpoYXMtdGV4dChcIiR7dGhlbWV9XCIpLCBbZGF0YS10aGVtZT1cIiR7dGhlbWV9XCJdYCkuZmlyc3QoKTtcbiAgICBcbiAgICBpZiAoYXdhaXQgdGhlbWVPcHRpb24uY291bnQoKSA+IDApIHtcbiAgICAgIGF3YWl0IHRoZW1lT3B0aW9uLmNsaWNrKCk7XG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsb3NlIHRoZW1lIHNlbGVjdG9yIGlmIHdlIGNhbid0IGZpbmQgdGhlIHRoZW1lXG4gICAgICBhd2FpdCBwYWdlLmtleWJvYXJkLnByZXNzKCdFc2NhcGUnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVHJ5IHRvIHNldCB0aGVtZSBkaXJlY3RseSB2aWEgSmF2YVNjcmlwdCBpZiBzZWxlY3RvciBub3QgZm91bmRcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCh0aGVtZU5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICByb290LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHRoZW1lTmFtZSk7XG4gICAgfSwgdGhlbWUpO1xuICAgIFxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMzAwKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlc3QgaGlnaCBjb250cmFzdCBtb2RlIHN1cHBvcnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdGVzdEhpZ2hDb250cmFzdE1vZGUocGFnZTogUGFnZSkge1xuICAvLyBUZXN0IGhpZ2ggY29udHJhc3QgbW9kZVxuICBhd2FpdCBwYWdlLmVtdWxhdGVNZWRpYSh7IGZvcmNlZENvbG9yczogJ2FjdGl2ZScgfSk7XG4gIFxuICAvLyBWZXJpZnkgY29udGVudCBpcyBzdGlsbCBhY2Nlc3NpYmxlXG4gIGNvbnN0IGFjY2Vzc2liaWxpdHlSZXN1bHRzID0gYXdhaXQgbmV3IEF4ZUJ1aWxkZXIoeyBwYWdlIH0pXG4gICAgLndpdGhSdWxlcyhbJ2NvbG9yLWNvbnRyYXN0J10pXG4gICAgLmFuYWx5emUoKTtcbiAgXG4gIC8vIFNob3VsZCBzdGlsbCBwYXNzIGFjY2Vzc2liaWxpdHkgdGVzdHMgaW4gaGlnaCBjb250cmFzdCBtb2RlXG4gIGV4cGVjdChhY2Nlc3NpYmlsaXR5UmVzdWx0cy52aW9sYXRpb25zKS50b0VxdWFsKFtdKTtcbiAgXG4gIC8vIFJlc2V0IGZvcmNlZCBjb2xvcnNcbiAgYXdhaXQgcGFnZS5lbXVsYXRlTWVkaWEoeyBmb3JjZWRDb2xvcnM6IG51bGwgfSk7XG59ICJdLCJuYW1lcyI6WyJ0ZXN0IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwicGFnZSIsImdvdG8iLCJ3YWl0Rm9yTG9hZFN0YXRlIiwiYWNjZXNzaWJpbGl0eVNjYW5SZXN1bHRzIiwiQXhlQnVpbGRlciIsIndpdGhUYWdzIiwiYW5hbHl6ZSIsImV4cGVjdCIsInZpb2xhdGlvbnMiLCJ0b0VxdWFsIiwiY29uc29sZSIsImxvZyIsInBhc3NlcyIsImxlbmd0aCIsImNvbnRyYXN0UmVzdWx0cyIsIndpdGhSdWxlcyIsInRlc3RDb2xvckNvbnRyYXN0IiwidGVzdEtleWJvYXJkTmF2aWdhdGlvbiIsImhlYWRpbmdSZXN1bHRzIiwidGVzdEhlYWRpbmdIaWVyYXJjaHkiLCJmb3JtUmVzdWx0cyIsInRlc3RGb3JtQWNjZXNzaWJpbGl0eSIsImFyaWFSZXN1bHRzIiwidGVzdEFSSUFBdHRyaWJ1dGVzIiwidGVzdExpdmVSZWdpb25zIiwidGVzdENvbnRlbnRBY2Nlc3NpYmlsaXR5IiwidGVzdEZvY3VzSW5kaWNhdG9ycyIsInRlc3RGb2N1c1RyYXBwaW5nIiwidGVzdEZvY3VzT3JkZXIiLCJ0ZXN0VG91Y2hUYXJnZXRzIiwidGVzdFJlZHVjZWRNb3Rpb24iLCJ0aGVtZXMiLCJ0aGVtZSIsInNldFRoZW1lIiwiYWNjZXNzaWJpbGl0eVJlc3VsdHMiLCJ0ZXN0SGlnaENvbnRyYXN0TW9kZSIsImNyaXRpY2FsRWxlbWVudHMiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwibG9jYXRvciIsImNvdW50IiwiaSIsIk1hdGgiLCJtaW4iLCJlbGVtZW50IiwibnRoIiwiY29udHJhc3QiLCJldmFsdWF0ZSIsImVsIiwic3R5bGVzIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJnQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0Q29sb3IiLCJjb2xvciIsImJhY2tncm91bmQiLCJ0ZXh0IiwidmlzaWJsZSIsInRvQmVUcnV0aHkiLCJrZXlib2FyZCIsInByZXNzIiwiZm9jdXNlZEVsZW1lbnQiLCJ0b0JlR3JlYXRlclRoYW4iLCJ3YWl0Rm9yVGltZW91dCIsImhlYWRpbmdzIiwiYWxsIiwiaDFDb3VudCIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJwcmV2aW91c0xldmVsIiwiaGVhZGluZyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRMZXZlbCIsInBhcnNlSW50IiwiY2hhckF0IiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImZvcm1zIiwiZm9ybUNvdW50IiwiZm9ybSIsImZpcnN0IiwiaW5wdXRzIiwiaW5wdXRDb3VudCIsImlucHV0IiwiaGFzTGFiZWwiLCJpZCIsImdldEF0dHJpYnV0ZSIsImFyaWFMYWJlbCIsImFyaWFMYWJlbGxlZEJ5IiwibGFiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZXN0IiwiaW50ZXJhY3RpdmVFbGVtZW50cyIsImhhc0FjY2Vzc2libGVOYW1lIiwidGV4dENvbnRlbnQiLCJ0cmltIiwiZXhwYW5kYWJsZUVsZW1lbnRzIiwiZXhwYW5kYWJsZUNvdW50IiwiZXhwYW5kZWQiLCJ0b0NvbnRhaW4iLCJsaXZlUmVnaW9ucyIsImxpdmVSZWdpb24iLCJhcmlhTGl2ZSIsInJvbGUiLCJpbWFnZXMiLCJpbWFnZUNvdW50IiwiaW1nIiwiYWx0Iiwibm90IiwidG9CZU51bGwiLCJsaW5rcyIsImxpbmtDb3VudCIsImxpbmsiLCJmb2N1c2FibGVFbGVtZW50cyIsImZvY3VzIiwiZm9jdXNTdHlsZXMiLCJvdXRsaW5lIiwib3V0bGluZVdpZHRoIiwiYm94U2hhZG93IiwiaGFzRm9jdXNJbmRpY2F0b3IiLCJtb2RhbFRyaWdnZXJzIiwidHJpZ2dlciIsImNsaWNrIiwibW9kYWwiLCJmb2N1c1dpdGhpbk1vZGFsIiwibW9kYWxFbCIsImNvbnRhaW5zIiwiZWxlbWVudEhhbmRsZSIsInBvc2l0aW9ucyIsImJveCIsImJvdW5kaW5nQm94IiwicHVzaCIsIngiLCJ5IiwiaW5kZXgiLCJwcmV2IiwiY3VyciIsImlzTG9naWNhbE9yZGVyIiwidG91Y2hUYXJnZXRzIiwidGFyZ2V0Iiwid2lkdGgiLCJoZWlnaHQiLCJlbXVsYXRlTWVkaWEiLCJyZWR1Y2VkTW90aW9uIiwiYW5pbWF0ZWRFbGVtZW50cyIsImFuaW1hdGlvblN0YXRlIiwidHJhbnNpdGlvbiIsImFuaW1hdGlvbiIsInRyYW5zZm9ybSIsInRoZW1lU2VsZWN0b3IiLCJ0aGVtZU9wdGlvbiIsInRoZW1lTmFtZSIsInJvb3QiLCJkb2N1bWVudEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJmb3JjZWRDb2xvcnMiXSwibWFwcGluZ3MiOiI7Ozs7c0JBQXdDO21FQUNqQjs7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