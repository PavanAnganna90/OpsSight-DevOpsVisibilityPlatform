{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/dashboard/ActionInsightsPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport AnimatedIllustration from '../ui/AnimatedIllustration';\nimport EmptyState from '../ui/EmptyState';\nimport { logAuditEvent } from '../../services/auditLogApi';\nimport { trackEvent } from '../../utils/analytics';\nimport { useSettings } from '../../contexts/SettingsContext';\n\ninterface Suggestion {\n  id: number;\n  message: string;\n  icon: string;\n  priority: 'high' | 'normal';\n}\n\nconst sampleSuggestions: Suggestion[] = [\n  { id: 1, message: 'Unused node group detected. Consider scaling down.', icon: 'lightbulb', priority: 'high' },\n  { id: 2, message: 'Team access review recommended.', icon: 'team', priority: 'normal' },\n];\n\nexport default function ActionInsightsPanel() {\n  const [suggestions, setSuggestions] = useState<Suggestion[]>(sampleSuggestions);\n  const [showHighPriority, setShowHighPriority] = useState(false);\n  const [actionStatus, setActionStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');\n  const { panelVisibility } = useSettings();\n\n  if (!panelVisibility.actionInsights) return null;\n\n  const handleRefresh = () => {\n    setSuggestions(sampleSuggestions);\n  };\n\n  const handleAction = async (type: 'deploy' | 'rollback') => {\n    setActionStatus('loading');\n    try {\n      await logAuditEvent(type, 'admin', { panel: 'ActionInsights' });\n      trackEvent(type, { panel: 'ActionInsights' });\n      setActionStatus('success');\n      setTimeout(() => setActionStatus('idle'), 1500);\n    } catch {\n      setActionStatus('error');\n      setTimeout(() => setActionStatus('idle'), 1500);\n    }\n  };\n\n  const filteredSuggestions = showHighPriority\n    ? suggestions.filter(s => s.priority === 'high')\n    : suggestions;\n\n  return (\n    <section className=\"bg-white/80 dark:bg-gray-900/80 rounded-xl shadow-lg p-6 flex flex-col gap-6 relative overflow-hidden min-h-[320px]\">\n      {/* Panel Controls */}\n      <div className=\"flex items-center justify-between mb-2\">\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={showHighPriority}\n            onChange={e => setShowHighPriority(e.target.checked)}\n            className=\"accent-blue-500\"\n            aria-label=\"Show only high-priority suggestions\"\n          />\n          Show only high-priority suggestions\n        </label>\n        <button\n          onClick={handleRefresh}\n          className=\"px-3 py-1 rounded bg-blue-500 text-white font-medium hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition\"\n        >\n          Refresh\n        </button>\n      </div>\n      {/* Suggestions or Empty State */}\n      {filteredSuggestions.length === 0 ? (\n        <EmptyState\n          illustration=\"mascot\"\n          title=\"No Suggestions\"\n          description=\"No insights at the moment. Enjoy your coffee â˜•\"\n          action={{ label: 'Refresh', onClick: handleRefresh }}\n        />\n      ) : (\n        <>\n          {/* Deploy/Rollback Actions */}\n          <div className=\"relative flex items-center gap-4 group hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition rounded-lg p-4\">\n            <AnimatedIllustration name=\"rocket\" className=\"absolute right-2 bottom-2 w-20 h-20 opacity-15 pointer-events-none group-hover:scale-105 transition-transform duration-300\" alt=\"Deploy\" />\n            <div className=\"z-10 flex flex-col gap-2 w-full\">\n              <button onClick={() => handleAction('deploy')} className=\"px-4 py-2 rounded bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition\">Deploy</button>\n              <button onClick={() => handleAction('rollback')} className=\"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 font-semibold shadow hover:bg-gray-300 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 transition\">Rollback</button>\n            </div>\n          </div>\n          {/* Logs/Team Actions */}\n          <div className=\"relative flex items-center gap-4 group hover:bg-teal-50 dark:hover:bg-teal-900/20 transition rounded-lg p-4\">\n            <AnimatedIllustration name=\"team\" className=\"absolute right-2 bottom-2 w-16 h-16 opacity-15 pointer-events-none group-hover:scale-105 transition-transform duration-300\" alt=\"Team\" />\n            <div className=\"z-10 flex flex-col gap-2 w-full\">\n              <button className=\"px-4 py-2 rounded bg-teal-600 text-white font-semibold shadow hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-400 transition\">View Logs</button>\n              <button className=\"px-4 py-2 rounded bg-purple-600 text-white font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400 transition\">Manage Team</button>\n            </div>\n          </div>\n          {/* AI Suggestions */}\n          <div className=\"relative flex flex-col gap-2 group hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition rounded-lg p-4\">\n            <AnimatedIllustration name=\"lightbulb\" className=\"absolute right-2 bottom-2 w-14 h-14 opacity-15 pointer-events-none group-hover:scale-105 transition-transform duration-300\" alt=\"AI Suggestions\" />\n            <div className=\"z-10\">\n              <div className=\"font-medium mb-1\">AI Suggestions</div>\n              <ul className=\"space-y-1\">\n                {filteredSuggestions.map(suggestion => (\n                  <li key={suggestion.id} className=\"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-200\">\n                    <AnimatedIllustration name={suggestion.icon} className=\"w-5 h-5 opacity-80\" alt=\"Suggestion Icon\" animate={false} />\n                    <span>{suggestion.message}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </>\n      )}\n    </section>\n  );\n} "],"names":["ActionInsightsPanel","sampleSuggestions","id","message","icon","priority","suggestions","setSuggestions","useState","showHighPriority","setShowHighPriority","actionStatus","setActionStatus","panelVisibility","useSettings","actionInsights","handleRefresh","handleAction","type","logAuditEvent","panel","trackEvent","setTimeout","filteredSuggestions","filter","s","section","className","div","label","input","checked","onChange","e","target","aria-label","button","onClick","length","EmptyState","illustration","title","description","action","AnimatedIllustration","name","alt","ul","map","suggestion","li","animate","span"],"mappings":"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"}