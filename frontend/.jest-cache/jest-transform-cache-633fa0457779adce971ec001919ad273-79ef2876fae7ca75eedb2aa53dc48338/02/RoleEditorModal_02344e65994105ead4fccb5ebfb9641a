371556490fb671fbed2b46825dad5d1e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _PermissionMatrix = /*#__PURE__*/ _interop_require_default(require("./PermissionMatrix"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Modal for creating or editing a role and assigning permissions.
 */ const RoleEditorModal = ({ isOpen, onClose, role })=>{
    const [name, setName] = (0, _react.useState)(role?.name || '');
    const [description, setDescription] = (0, _react.useState)(role?.description || '');
    const [permissions, setPermissions] = (0, _react.useState)(role?.permissions || []);
    // Reset state when role changes
    _react.default.useEffect(()=>{
        setName(role?.name || '');
        setDescription(role?.description || '');
        setPermissions(role?.permissions || []);
    }, [
        role
    ]);
    const handleSave = ()=>{
        // TODO: Integrate with API
        onClose();
    };
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-lg",
            role: "dialog",
            "aria-modal": "true",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                    className: "text-lg font-bold mb-4",
                    children: role ? 'Edit Role' : 'Create Role'
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: "role-name",
                            className: "block mb-1 font-medium",
                            children: "Role Name"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                            id: "role-name",
                            className: "w-full border rounded px-3 py-2",
                            value: name,
                            onChange: (e)=>setName(e.target.value)
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: "role-description",
                            className: "block mb-1 font-medium",
                            children: "Description"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                            id: "role-description",
                            className: "w-full border rounded px-3 py-2",
                            value: description,
                            onChange: (e)=>setDescription(e.target.value)
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            className: "block mb-1 font-medium",
                            children: "Permissions"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_PermissionMatrix.default, {
                            permissions: permissions,
                            setPermissions: setPermissions
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-end gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            className: "px-4 py-2 rounded bg-gray-200",
                            onClick: onClose,
                            children: "Cancel"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            className: "px-4 py-2 rounded bg-blue-600 text-white",
                            onClick: handleSave,
                            children: "Save"
                        })
                    ]
                })
            ]
        })
    });
};
const _default = RoleEditorModal;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9hZG1pbi9yb2xlLW1hbmFnZW1lbnQvUm9sZUVkaXRvck1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb2xlLCBQZXJtaXNzaW9uIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvcm9sZSc7XG5pbXBvcnQgUGVybWlzc2lvbk1hdHJpeCBmcm9tICcuL1Blcm1pc3Npb25NYXRyaXgnO1xuXG5pbnRlcmZhY2UgUm9sZUVkaXRvck1vZGFsUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIHJvbGU6IFJvbGUgfCBudWxsO1xufVxuXG4vKipcbiAqIE1vZGFsIGZvciBjcmVhdGluZyBvciBlZGl0aW5nIGEgcm9sZSBhbmQgYXNzaWduaW5nIHBlcm1pc3Npb25zLlxuICovXG5jb25zdCBSb2xlRWRpdG9yTW9kYWw6IFJlYWN0LkZDPFJvbGVFZGl0b3JNb2RhbFByb3BzPiA9ICh7IGlzT3Blbiwgb25DbG9zZSwgcm9sZSB9KSA9PiB7XG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKHJvbGU/Lm5hbWUgfHwgJycpO1xuICBjb25zdCBbZGVzY3JpcHRpb24sIHNldERlc2NyaXB0aW9uXSA9IHVzZVN0YXRlKHJvbGU/LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgY29uc3QgW3Blcm1pc3Npb25zLCBzZXRQZXJtaXNzaW9uc10gPSB1c2VTdGF0ZTxQZXJtaXNzaW9uW10+KHJvbGU/LnBlcm1pc3Npb25zIHx8IFtdKTtcblxuICAvLyBSZXNldCBzdGF0ZSB3aGVuIHJvbGUgY2hhbmdlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE5hbWUocm9sZT8ubmFtZSB8fCAnJyk7XG4gICAgc2V0RGVzY3JpcHRpb24ocm9sZT8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgIHNldFBlcm1pc3Npb25zKHJvbGU/LnBlcm1pc3Npb25zIHx8IFtdKTtcbiAgfSwgW3JvbGVdKTtcblxuICBjb25zdCBoYW5kbGVTYXZlID0gKCkgPT4ge1xuICAgIC8vIFRPRE86IEludGVncmF0ZSB3aXRoIEFQSVxuICAgIG9uQ2xvc2UoKTtcbiAgfTtcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTQwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC02IHctZnVsbCBtYXgtdy1sZ1wiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgbWItNFwiPntyb2xlID8gJ0VkaXQgUm9sZScgOiAnQ3JlYXRlIFJvbGUnfTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicm9sZS1uYW1lXCIgY2xhc3NOYW1lPVwiYmxvY2sgbWItMSBmb250LW1lZGl1bVwiPlJvbGUgTmFtZTwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBpZD1cInJvbGUtbmFtZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHJvdW5kZWQgcHgtMyBweS0yXCJcbiAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicm9sZS1kZXNjcmlwdGlvblwiIGNsYXNzTmFtZT1cImJsb2NrIG1iLTEgZm9udC1tZWRpdW1cIj5EZXNjcmlwdGlvbjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBpZD1cInJvbGUtZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHB4LTMgcHktMlwiXG4gICAgICAgICAgICB2YWx1ZT17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXREZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayBtYi0xIGZvbnQtbWVkaXVtXCI+UGVybWlzc2lvbnM8L2xhYmVsPlxuICAgICAgICAgIDxQZXJtaXNzaW9uTWF0cml4IHBlcm1pc3Npb25zPXtwZXJtaXNzaW9uc30gc2V0UGVybWlzc2lvbnM9e3NldFBlcm1pc3Npb25zfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZCBiZy1ncmF5LTIwMFwiIG9uQ2xpY2s9e29uQ2xvc2V9PkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctYmx1ZS02MDAgdGV4dC13aGl0ZVwiIG9uQ2xpY2s9e2hhbmRsZVNhdmV9PlxuICAgICAgICAgICAgU2F2ZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUm9sZUVkaXRvck1vZGFsO1xuIl0sIm5hbWVzIjpbIlJvbGVFZGl0b3JNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJyb2xlIiwibmFtZSIsInNldE5hbWUiLCJ1c2VTdGF0ZSIsImRlc2NyaXB0aW9uIiwic2V0RGVzY3JpcHRpb24iLCJwZXJtaXNzaW9ucyIsInNldFBlcm1pc3Npb25zIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJoYW5kbGVTYXZlIiwiZGl2IiwiY2xhc3NOYW1lIiwiYXJpYS1tb2RhbCIsImgzIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiUGVybWlzc2lvbk1hdHJpeCIsImJ1dHRvbiIsIm9uQ2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7K0JBcUVBOzs7ZUFBQTs7OzsrREFyRWdDO3lFQUVIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE3Qjs7Q0FFQyxHQUNELE1BQU1BLGtCQUFrRCxDQUFDLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7SUFDaEYsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdDLElBQUFBLGVBQVEsRUFBQ0gsTUFBTUMsUUFBUTtJQUMvQyxNQUFNLENBQUNHLGFBQWFDLGVBQWUsR0FBR0YsSUFBQUEsZUFBUSxFQUFDSCxNQUFNSSxlQUFlO0lBQ3BFLE1BQU0sQ0FBQ0UsYUFBYUMsZUFBZSxHQUFHSixJQUFBQSxlQUFRLEVBQWVILE1BQU1NLGVBQWUsRUFBRTtJQUVwRixnQ0FBZ0M7SUFDaENFLGNBQUssQ0FBQ0MsU0FBUyxDQUFDO1FBQ2RQLFFBQVFGLE1BQU1DLFFBQVE7UUFDdEJJLGVBQWVMLE1BQU1JLGVBQWU7UUFDcENHLGVBQWVQLE1BQU1NLGVBQWUsRUFBRTtJQUN4QyxHQUFHO1FBQUNOO0tBQUs7SUFFVCxNQUFNVSxhQUFhO1FBQ2pCLDJCQUEyQjtRQUMzQlg7SUFDRjtJQUVBLElBQUksQ0FBQ0QsUUFBUSxPQUFPO0lBRXBCLHFCQUNFLHFCQUFDYTtRQUFJQyxXQUFVO2tCQUNiLGNBQUEsc0JBQUNEO1lBQUlDLFdBQVU7WUFBcUVaLE1BQUs7WUFBU2EsY0FBVzs7OEJBQzNHLHFCQUFDQztvQkFBR0YsV0FBVTs4QkFBMEJaLE9BQU8sY0FBYzs7OEJBQzdELHNCQUFDVztvQkFBSUMsV0FBVTs7c0NBQ2IscUJBQUNHOzRCQUFNQyxTQUFROzRCQUFZSixXQUFVO3NDQUF5Qjs7c0NBQzlELHFCQUFDSzs0QkFDQ0MsSUFBRzs0QkFDSE4sV0FBVTs0QkFDVk8sT0FBT2xCOzRCQUNQbUIsVUFBVUMsQ0FBQUEsSUFBS25CLFFBQVFtQixFQUFFQyxNQUFNLENBQUNILEtBQUs7Ozs7OEJBR3pDLHNCQUFDUjtvQkFBSUMsV0FBVTs7c0NBQ2IscUJBQUNHOzRCQUFNQyxTQUFROzRCQUFtQkosV0FBVTtzQ0FBeUI7O3NDQUNyRSxxQkFBQ0s7NEJBQ0NDLElBQUc7NEJBQ0hOLFdBQVU7NEJBQ1ZPLE9BQU9mOzRCQUNQZ0IsVUFBVUMsQ0FBQUEsSUFBS2hCLGVBQWVnQixFQUFFQyxNQUFNLENBQUNILEtBQUs7Ozs7OEJBR2hELHNCQUFDUjtvQkFBSUMsV0FBVTs7c0NBQ2IscUJBQUNHOzRCQUFNSCxXQUFVO3NDQUF5Qjs7c0NBQzFDLHFCQUFDVyx5QkFBZ0I7NEJBQUNqQixhQUFhQTs0QkFBYUMsZ0JBQWdCQTs7Ozs4QkFFOUQsc0JBQUNJO29CQUFJQyxXQUFVOztzQ0FDYixxQkFBQ1k7NEJBQU9aLFdBQVU7NEJBQWdDYSxTQUFTMUI7c0NBQVM7O3NDQUNwRSxxQkFBQ3lCOzRCQUFPWixXQUFVOzRCQUEyQ2EsU0FBU2Y7c0NBQVk7Ozs7Ozs7QUFPNUY7TUFFQSxXQUFlYiJ9