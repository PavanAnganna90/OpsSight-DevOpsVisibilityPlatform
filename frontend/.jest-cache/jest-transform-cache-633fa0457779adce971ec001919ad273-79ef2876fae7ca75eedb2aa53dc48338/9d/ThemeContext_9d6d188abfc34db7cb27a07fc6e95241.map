{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/contexts/ThemeContext.tsx"],"sourcesContent":["/**\n * Comprehensive Theme Context\n * \n * Provides unified theme management functionality including:\n * - Theme variants (minimal, neo-brutalist, glassmorphic, cyberpunk, editorial, accessible)\n * - Color modes (light, dark, high-contrast)\n * - Contextual themes (default, focus, relax, energize)\n * - System preference detection\n * - Persistent storage\n * - Reduced motion detection\n * - Enhanced theme transitions with FLIP animations\n */\n\n'use client';\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode, useCallback } from 'react';\nimport { \n  themes, \n  ThemeName, \n  ColorMode, \n  Theme, \n  getThemeWithColorMode, \n  applyTheme as applyThemeToDOM,\n  generateDynamicTheme\n} from '../styles/themes';\nimport { \n  applyThemeWithTransition, \n  themeTransitionManager, \n  ThemeTransitionConfig,\n  useThemeTransition\n} from '../utils/themeTransition';\n\n// Contextual theme types\nexport type ContextualTheme = 'default' | 'focus' | 'relax' | 'energize';\n\n// System preferences interface\nexport interface SystemPreferences {\n  colorScheme: 'light' | 'dark';\n  reducedMotion: boolean;\n  highContrast: boolean;\n}\n\n// Main theme configuration interface\nexport interface ThemeConfig {\n  variant: ThemeName;\n  colorMode: ColorMode | 'system';\n  contextualTheme: ContextualTheme;\n  respectSystemPreferences: boolean;\n  enableTransitions: boolean;\n  dynamicSeed?: number; // For dynamic theme generation\n  transitionConfig?: Partial<ThemeTransitionConfig>; // Enhanced transition configuration\n}\n\n// Theme context interface\ninterface ThemeContextType {\n  /** Current theme configuration */\n  config: ThemeConfig;\n  /** Resolved theme (never 'system') */\n  resolvedColorMode: ColorMode;\n  /** Current applied theme object */\n  currentTheme: Theme;\n  /** System preferences */\n  systemPreferences: SystemPreferences;\n  \n  // Theme variant methods\n  /** Set theme variant */\n  setThemeVariant: (variant: ThemeName) => void;\n  /** Get available theme variants */\n  getAvailableVariants: () => ThemeName[];\n  \n  // Color mode methods\n  /** Set color mode */\n  setColorMode: (mode: ColorMode | 'system') => void;\n  /** Toggle between light and dark */\n  toggleColorMode: () => void;\n  \n  // Contextual theme methods\n  /** Set contextual theme */\n  setContextualTheme: (context: ContextualTheme) => void;\n  /** Reset to default contextual theme */\n  resetContextualTheme: () => void;\n  \n  // System preferences methods\n  /** Toggle system preference respect */\n  toggleSystemPreferences: () => void;\n  /** Update specific system preference */\n  updateSystemPreference: (key: keyof SystemPreferences, value: boolean) => void;\n  \n  // Utility methods\n  /** Apply current theme to DOM */\n  applyTheme: () => Promise<void>;\n  /** Reset to default theme */\n  resetTheme: () => void;\n  /** Generate dynamic theme from seed */\n  generateDynamicTheme: (seed: number) => void;\n  /** Export current theme configuration */\n  exportConfig: () => string;\n  /** Import theme configuration */\n  importConfig: (config: string) => boolean;\n  \n  // Enhanced transition control\n  /** Toggle transitions */\n  toggleTransitions: () => void;\n  /** Update transition configuration */\n  updateTransitionConfig: (config: Partial<ThemeTransitionConfig>) => void;\n  /** Check if theme is currently transitioning */\n  isTransitioning: () => boolean;\n  /** Abort current transition */\n  abortTransition: () => void;\n  \n  // Computed properties\n  /** Whether dark mode is currently active */\n  isDark: boolean;\n  /** Whether high contrast is active */\n  isHighContrast: boolean;\n  /** Whether reduced motion is enabled */\n  isReducedMotion: boolean;\n  /** Whether transitions are enabled */\n  hasTransitions: boolean;\n}\n\n// Provider props interface\ninterface ThemeProviderProps {\n  children: ReactNode;\n  defaultConfig?: Partial<ThemeConfig>;\n  storageKey?: string;\n  enableDebug?: boolean;\n}\n\nconst defaultThemeConfig: ThemeConfig = {\n  variant: 'minimal',\n  colorMode: 'system',\n  contextualTheme: 'default',\n  respectSystemPreferences: true,\n  enableTransitions: true,\n  transitionConfig: {\n    duration: 300,\n    timing: 'cubic-bezier(0.4, 0, 0.2, 1)',\n    enableFLIP: true,\n    respectReducedMotion: true,\n  },\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\n/**\n * Comprehensive Theme Provider Component\n * \n * Manages all aspects of theming including variants, color modes, contextual themes,\n * system preferences, persistent storage, and enhanced transitions.\n */\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  defaultConfig = {},\n  storageKey = 'opssight-theme-config',\n  enableDebug = false,\n}) => {\n  const [config, setConfig] = useState<ThemeConfig>({ ...defaultThemeConfig, ...defaultConfig });\n  const [systemPreferences, setSystemPreferences] = useState<SystemPreferences>({\n    colorScheme: 'light',\n    reducedMotion: false,\n    highContrast: false,\n  });\n  const [currentTheme, setCurrentTheme] = useState<Theme>(themes.minimal);\n\n  // Use the enhanced theme transition hook\n  const { \n    isTransitioning, \n    abortTransition: abortThemeTransition, \n    updateConfig: updateThemeTransitionConfig \n  } = useThemeTransition();\n\n  /**\n   * Debug logging\n   */\n  const debugLog = useCallback((...args: any[]) => {\n    if (enableDebug) {\n      console.log('[ThemeProvider]', ...args);\n    }\n  }, [enableDebug]);\n\n  /**\n   * Get system color scheme preference\n   */\n  const getSystemColorScheme = useCallback((): 'light' | 'dark' => {\n    if (typeof window === 'undefined') return 'light';\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  }, []);\n\n  /**\n   * Get system reduced motion preference\n   */\n  const getSystemReducedMotion = useCallback((): boolean => {\n    if (typeof window === 'undefined') return false;\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  }, []);\n\n  /**\n   * Get system high contrast preference\n   */\n  const getSystemHighContrast = useCallback((): boolean => {\n    if (typeof window === 'undefined') return false;\n    return window.matchMedia('(prefers-contrast: high)').matches;\n  }, []);\n\n  /**\n   * Resolve color mode to actual color mode (never 'system')\n   */\n  const resolveColorMode = useCallback((mode: ColorMode | 'system'): ColorMode => {\n    if (mode === 'system') {\n      if (config.respectSystemPreferences && systemPreferences.highContrast) {\n        return 'high-contrast';\n      }\n      return systemPreferences.colorScheme;\n    }\n    return mode;\n  }, [config.respectSystemPreferences, systemPreferences]);\n\n  /**\n   * Enhanced apply theme with transition coordination\n   */\n  const applyTheme = useCallback(async (): Promise<void> => {\n    const resolvedColorMode = resolveColorMode(config.colorMode);\n    let themeToApply: Theme;\n\n    // Handle dynamic theme\n    if (config.dynamicSeed !== undefined) {\n      themeToApply = generateDynamicTheme(config.dynamicSeed);\n    } else {\n      themeToApply = getThemeWithColorMode(config.variant, resolvedColorMode);\n    }\n\n    // Apply contextual theme modifications\n    if (config.contextualTheme !== 'default') {\n      themeToApply = applyContextualThemeModifications(themeToApply, config.contextualTheme);\n    }\n\n    setCurrentTheme(themeToApply);\n\n    // Use enhanced theme transition if enabled\n    if (config.enableTransitions) {\n      try {\n        await applyThemeWithTransition(\n          config.variant, \n          resolvedColorMode, \n          {\n            ...config.transitionConfig,\n            onStart: () => debugLog('Theme transition started'),\n            onComplete: () => debugLog('Theme transition completed'),\n            onError: (error) => debugLog('Theme transition error:', error),\n          }\n        );\n      } catch (error) {\n        debugLog('Theme transition failed, falling back to instant application:', error);\n        // Fallback to instant theme application\n        applyThemeToDOM(themeToApply, resolvedColorMode);\n      }\n    } else {\n      // Apply theme instantly\n      applyThemeToDOM(themeToApply, resolvedColorMode);\n    }\n\n    // Add contextual theme class\n    document.body.className = document.body.className\n      .replace(/contextual-theme-\\w+/g, '')\n      .concat(` contextual-theme-${config.contextualTheme}`);\n\n    debugLog('Theme applied:', {\n      variant: config.variant,\n      colorMode: config.colorMode,\n      resolvedColorMode,\n      contextualTheme: config.contextualTheme,\n      theme: themeToApply.name,\n      transitionsEnabled: config.enableTransitions,\n    });\n  }, [config, systemPreferences, resolveColorMode, debugLog]);\n\n  /**\n   * Apply contextual theme modifications\n   */\n  const applyContextualThemeModifications = useCallback((theme: Theme, contextual: ContextualTheme): Theme => {\n    const modifications: Record<ContextualTheme, Partial<Theme>> = {\n      default: {},\n      focus: {\n        colors: {\n          ...theme.colors,\n          primary: {\n            ...theme.colors.primary,\n            500: 'oklch(0.50 0.20 220)', // Enhanced focus color\n          },\n        },\n        customProperties: {\n          ...theme.customProperties,\n          '--focus-ring-width': '3px',\n          '--focus-ring-offset': '2px',\n        },\n      },\n      relax: {\n        colors: {\n          ...theme.colors,\n          primary: {\n            ...theme.colors.primary,\n            500: 'oklch(0.60 0.10 160)', // Calming green\n          },\n        },\n        customProperties: {\n          ...theme.customProperties,\n          '--border-radius-base': '12px',\n          '--shadow-soft': '0 4px 20px rgba(0, 0, 0, 0.1)',\n        },\n      },\n      energize: {\n        colors: {\n          ...theme.colors,\n          primary: {\n            ...theme.colors.primary,\n            500: 'oklch(0.65 0.25 40)', // Vibrant orange\n          },\n          accent: {\n            ...theme.colors.accent || {},\n            500: 'oklch(0.70 0.20 350)', // Energetic pink\n          },\n        },\n        customProperties: {\n          ...theme.customProperties,\n          '--animation-speed': '0.15s',\n          '--gradient-intensity': '1.2',\n        },\n      },\n    };\n\n    return { ...theme, ...modifications[contextual] };\n  }, []);\n\n  /**\n   * Save configuration to localStorage\n   */\n  const saveConfig = useCallback((newConfig: ThemeConfig) => {\n    try {\n      localStorage.setItem(storageKey, JSON.stringify(newConfig));\n      debugLog('Configuration saved:', newConfig);\n    } catch (error) {\n      console.warn('Failed to save theme configuration:', error);\n    }\n  }, [storageKey, debugLog]);\n\n  /**\n   * Load configuration from localStorage\n   */\n  const loadConfig = useCallback((): ThemeConfig => {\n    try {\n      const stored = localStorage.getItem(storageKey);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        const loadedConfig = { ...defaultThemeConfig, ...parsed };\n        debugLog('Configuration loaded:', loadedConfig);\n        return loadedConfig;\n      }\n    } catch (error) {\n      console.warn('Failed to load theme configuration:', error);\n    }\n    return { ...defaultThemeConfig, ...defaultConfig };\n  }, [storageKey, defaultConfig, debugLog]);\n\n  /**\n   * Update configuration\n   */\n  const updateConfig = useCallback((updates: Partial<ThemeConfig>) => {\n    setConfig(prev => {\n      const newConfig = { ...prev, ...updates };\n      saveConfig(newConfig);\n      \n      // Update theme transition manager config if transition config changed\n      if (updates.transitionConfig) {\n        updateThemeTransitionConfig(updates.transitionConfig);\n      }\n      \n      return newConfig;\n    });\n  }, [saveConfig, updateThemeTransitionConfig]);\n\n  // Theme variant methods\n  const setThemeVariant = useCallback((variant: ThemeName) => {\n    updateConfig({ variant, dynamicSeed: undefined });\n  }, [updateConfig]);\n\n  const getAvailableVariants = useCallback((): ThemeName[] => {\n    return Object.keys(themes) as ThemeName[];\n  }, []);\n\n  // Color mode methods\n  const setColorMode = useCallback((mode: ColorMode | 'system') => {\n    updateConfig({ colorMode: mode });\n  }, [updateConfig]);\n\n  const toggleColorMode = useCallback(() => {\n    const resolved = resolveColorMode(config.colorMode);\n    const newMode: ColorMode = resolved === 'dark' ? 'light' : 'dark';\n    setColorMode(newMode);\n  }, [config.colorMode, resolveColorMode, setColorMode]);\n\n  // Contextual theme methods\n  const setContextualTheme = useCallback((contextualTheme: ContextualTheme) => {\n    updateConfig({ contextualTheme });\n  }, [updateConfig]);\n\n  const resetContextualTheme = useCallback(() => {\n    setContextualTheme('default');\n  }, [setContextualTheme]);\n\n  // System preferences methods\n  const toggleSystemPreferences = useCallback(() => {\n    updateConfig({ respectSystemPreferences: !config.respectSystemPreferences });\n  }, [config.respectSystemPreferences, updateConfig]);\n\n  const updateSystemPreference = useCallback((key: keyof SystemPreferences, value: boolean) => {\n    setSystemPreferences(prev => ({ ...prev, [key]: value }));\n  }, []);\n\n  // Enhanced utility methods\n  const resetTheme = useCallback(() => {\n    const resetConfig = { ...defaultThemeConfig, ...defaultConfig };\n    setConfig(resetConfig);\n    saveConfig(resetConfig);\n  }, [defaultConfig, saveConfig]);\n\n  const generateDynamicThemeHandler = useCallback((seed: number) => {\n    updateConfig({ dynamicSeed: seed, variant: 'minimal' }); // Use minimal as base for dynamic\n  }, [updateConfig]);\n\n  const exportConfig = useCallback((): string => {\n    return JSON.stringify(config, null, 2);\n  }, [config]);\n\n  const importConfig = useCallback((configString: string): boolean => {\n    try {\n      const importedConfig = JSON.parse(configString);\n      // Validate configuration\n      if (typeof importedConfig === 'object' && importedConfig !== null) {\n        const validConfig = { ...defaultThemeConfig, ...importedConfig };\n        setConfig(validConfig);\n        saveConfig(validConfig);\n        return true;\n      }\n    } catch (error) {\n      console.error('Failed to import configuration:', error);\n    }\n    return false;\n  }, [saveConfig]);\n\n  // Enhanced transition control methods\n  const toggleTransitions = useCallback(() => {\n    updateConfig({ enableTransitions: !config.enableTransitions });\n  }, [config.enableTransitions, updateConfig]);\n\n  const updateTransitionConfig = useCallback((transitionConfig: Partial<ThemeTransitionConfig>) => {\n    updateConfig({ transitionConfig: { ...config.transitionConfig, ...transitionConfig } });\n  }, [config.transitionConfig, updateConfig]);\n\n  const abortTransition = useCallback(() => {\n    abortThemeTransition();\n  }, [abortThemeTransition]);\n\n  // Computed properties\n  const resolvedColorMode = resolveColorMode(config.colorMode);\n  const isDark = resolvedColorMode === 'dark';\n  const isHighContrast = resolvedColorMode === 'high-contrast';\n  const isReducedMotion = systemPreferences.reducedMotion;\n  const hasTransitions = config.enableTransitions && !isReducedMotion;\n\n  // Initialize system preferences\n  useEffect(() => {\n    setSystemPreferences({\n      colorScheme: getSystemColorScheme(),\n      reducedMotion: getSystemReducedMotion(),\n      highContrast: getSystemHighContrast(),\n    });\n  }, []); // Only run on mount\n\n  // Load saved configuration on mount\n  useEffect(() => {\n    const loadedConfig = loadConfig();\n    setConfig(loadedConfig);\n    \n    // Initialize theme transition manager with loaded config\n    if (loadedConfig.transitionConfig) {\n      updateThemeTransitionConfig(loadedConfig.transitionConfig);\n    }\n  }, []); // Only run on mount\n\n  // Apply theme when configuration changes\n  useEffect(() => {\n    const applyCurrentTheme = async () => {\n      const resolvedColorMode = resolveColorMode(config.colorMode);\n      let themeToApply: Theme;\n\n      // Handle dynamic theme\n      if (config.dynamicSeed !== undefined) {\n        themeToApply = generateDynamicTheme(config.dynamicSeed);\n      } else {\n        themeToApply = getThemeWithColorMode(config.variant, resolvedColorMode);\n      }\n\n      // Apply contextual theme modifications\n      if (config.contextualTheme !== 'default') {\n        themeToApply = applyContextualThemeModifications(themeToApply, config.contextualTheme);\n      }\n\n      setCurrentTheme(themeToApply);\n\n      // Use enhanced theme transition if enabled\n      if (config.enableTransitions) {\n        try {\n          await applyThemeWithTransition(\n            config.variant, \n            resolvedColorMode, \n            {\n              ...config.transitionConfig,\n              onStart: () => debugLog('Theme transition started'),\n              onComplete: () => debugLog('Theme transition completed'),\n              onError: (error) => debugLog('Theme transition error:', error),\n            }\n          );\n        } catch (error) {\n          debugLog('Theme transition failed, falling back to instant application:', error);\n          // Fallback to instant theme application\n          applyThemeToDOM(themeToApply, resolvedColorMode);\n        }\n      } else {\n        // Apply theme instantly\n        applyThemeToDOM(themeToApply, resolvedColorMode);\n      }\n\n      // Add contextual theme class\n      document.body.className = document.body.className\n        .replace(/contextual-theme-\\w+/g, '')\n        .concat(` contextual-theme-${config.contextualTheme}`);\n\n      debugLog('Theme applied:', {\n        variant: config.variant,\n        colorMode: config.colorMode,\n        resolvedColorMode,\n        contextualTheme: config.contextualTheme,\n        theme: themeToApply.name,\n        transitionsEnabled: config.enableTransitions,\n      });\n    };\n\n    applyCurrentTheme();\n  }, [config.variant, config.colorMode, config.contextualTheme, config.enableTransitions, config.dynamicSeed, config.transitionConfig, systemPreferences.colorScheme, systemPreferences.highContrast]);\n\n  // System preference listeners\n  useEffect(() => {\n    const handleColorSchemeChange = (e: MediaQueryListEvent) => {\n      setSystemPreferences(prev => ({ ...prev, colorScheme: e.matches ? 'dark' : 'light' }));\n    };\n\n    const handleMotionChange = (e: MediaQueryListEvent) => {\n      setSystemPreferences(prev => ({ ...prev, reducedMotion: e.matches }));\n    };\n\n    const handleContrastChange = (e: MediaQueryListEvent) => {\n      setSystemPreferences(prev => ({ ...prev, highContrast: e.matches }));\n    };\n\n    const colorSchemeQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const motionQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    const contrastQuery = window.matchMedia('(prefers-contrast: high)');\n\n    colorSchemeQuery.addEventListener('change', handleColorSchemeChange);\n    motionQuery.addEventListener('change', handleMotionChange);\n    contrastQuery.addEventListener('change', handleContrastChange);\n\n    return () => {\n      colorSchemeQuery.removeEventListener('change', handleColorSchemeChange);\n      motionQuery.removeEventListener('change', handleMotionChange);\n      contrastQuery.removeEventListener('change', handleContrastChange);\n    };\n  }, []);\n\n  const contextValue: ThemeContextType = {\n    config,\n    resolvedColorMode,\n    currentTheme,\n    systemPreferences,\n    \n    setThemeVariant,\n    getAvailableVariants,\n    \n    setColorMode,\n    toggleColorMode,\n    \n    setContextualTheme,\n    resetContextualTheme,\n    \n    toggleSystemPreferences,\n    updateSystemPreference,\n    \n    applyTheme,\n    resetTheme,\n    generateDynamicTheme: generateDynamicThemeHandler,\n    exportConfig,\n    importConfig,\n    \n    toggleTransitions,\n    updateTransitionConfig,\n    isTransitioning,\n    abortTransition,\n    \n    isDark,\n    isHighContrast,\n    isReducedMotion,\n    hasTransitions,\n  };\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n/**\n * Hook to access theme context\n * \n * @returns Theme context value\n * @throws Error if used outside ThemeProvider\n */\nexport const useTheme = (): ThemeContextType => {\n  const context = useContext(ThemeContext);\n  \n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  \n  return context;\n};\n\n/**\n * Higher-order component to provide theme context\n */\nexport function withTheme<P extends object>(\n  Component: React.ComponentType<P>,\n  themeProviderProps?: Omit<ThemeProviderProps, 'children'>\n) {\n  const WrappedComponent = (props: P) => (\n    <ThemeProvider {...themeProviderProps}>\n      <Component {...props} />\n    </ThemeProvider>\n  );\n\n  WrappedComponent.displayName = `withTheme(${Component.displayName || Component.name})`;\n  \n  return WrappedComponent;\n}\n\n/**\n * Hook for theme presets and quick theme actions\n */\nexport const useThemePresets = () => {\n  const { setThemeVariant, setColorMode, setContextualTheme, resetTheme } = useTheme();\n  \n  const presets = {\n    workFocus: () => {\n      setThemeVariant('minimal');\n      setColorMode('light');\n      setContextualTheme('focus');\n    },\n    darkMode: () => {\n      setColorMode('dark');\n    },\n    relaxMode: () => {\n      setThemeVariant('minimal');\n      setContextualTheme('relax');\n    },\n    highContrast: () => {\n      setColorMode('high-contrast');\n      setThemeVariant('accessible');\n    },\n    energyBoost: () => {\n      setThemeVariant('cyberpunk');\n      setContextualTheme('energize');\n    },\n    reset: resetTheme,\n  };\n  \n  return presets;\n}; "],"names":["ThemeProvider","useTheme","useThemePresets","withTheme","defaultThemeConfig","variant","colorMode","contextualTheme","respectSystemPreferences","enableTransitions","transitionConfig","duration","timing","enableFLIP","respectReducedMotion","ThemeContext","createContext","undefined","children","defaultConfig","storageKey","enableDebug","config","setConfig","useState","systemPreferences","setSystemPreferences","colorScheme","reducedMotion","highContrast","currentTheme","setCurrentTheme","themes","minimal","isTransitioning","abortTransition","abortThemeTransition","updateConfig","updateThemeTransitionConfig","useThemeTransition","debugLog","useCallback","args","console","log","getSystemColorScheme","window","matchMedia","matches","getSystemReducedMotion","getSystemHighContrast","resolveColorMode","mode","applyTheme","resolvedColorMode","themeToApply","dynamicSeed","generateDynamicTheme","getThemeWithColorMode","applyContextualThemeModifications","applyThemeWithTransition","onStart","onComplete","onError","error","applyThemeToDOM","document","body","className","replace","concat","theme","name","transitionsEnabled","contextual","modifications","default","focus","colors","primary","customProperties","relax","energize","accent","saveConfig","newConfig","localStorage","setItem","JSON","stringify","warn","loadConfig","stored","getItem","parsed","parse","loadedConfig","updates","prev","setThemeVariant","getAvailableVariants","Object","keys","setColorMode","toggleColorMode","resolved","newMode","setContextualTheme","resetContextualTheme","toggleSystemPreferences","updateSystemPreference","key","value","resetTheme","resetConfig","generateDynamicThemeHandler","seed","exportConfig","importConfig","configString","importedConfig","validConfig","toggleTransitions","updateTransitionConfig","isDark","isHighContrast","isReducedMotion","hasTransitions","useEffect","applyCurrentTheme","handleColorSchemeChange","e","handleMotionChange","handleContrastChange","colorSchemeQuery","motionQuery","contrastQuery","addEventListener","removeEventListener","contextValue","Provider","context","useContext","Error","Component","themeProviderProps","WrappedComponent","props","displayName","presets","workFocus","darkMode","relaxMode","energyBoost","reset"],"mappings":"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"}