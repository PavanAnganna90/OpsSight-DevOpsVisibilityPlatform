{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/utils/__tests__/accessibility.test.ts"],"sourcesContent":["/**\n * Tests for accessibility utilities\n * Ensures WCAG 2.1 AA compliance functions work correctly\n */\n\nimport {\n  calculateContrastRatio,\n  meetsContrastRequirement,\n  validateThemeContrast,\n  generateAriaAttributes,\n  announceToScreenReader,\n  getFocusableElements,\n  createFocusTrap,\n  createKeyboardNavigation,\n  prefersReducedMotion,\n  respectReducedMotion,\n  validateHeadingStructure,\n  validateFormLabels,\n  ScreenReaderClass,\n  screenReaderStyles,\n} from '../accessibility';\n\n// Mock DOM methods\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\n// Mock canvas context for color parsing\nconst mockGetContext = jest.fn(() => ({\n  fillStyle: '#000000',\n}));\n\nObject.defineProperty(HTMLCanvasElement.prototype, 'getContext', {\n  value: mockGetContext,\n});\n\ndescribe('Color Contrast Calculations', () => {\n  describe('calculateContrastRatio', () => {\n    test('calculates correct contrast ratio for black and white', () => {\n      const result = calculateContrastRatio('#000000', '#ffffff');\n      expect(result.ratio).toBe(21); // Perfect contrast\n      expect(result.isAA).toBe(true);\n      expect(result.isAAA).toBe(true);\n      expect(result.level).toBe('AAA');\n    });\n\n    test('calculates correct contrast ratio for same colors', () => {\n      const result = calculateContrastRatio('#ffffff', '#ffffff');\n      expect(result.ratio).toBe(1); // No contrast\n      expect(result.isAA).toBe(false);\n      expect(result.isAAA).toBe(false);\n      expect(result.level).toBe('fail');\n    });\n\n    test('handles invalid color formats gracefully', () => {\n      const result = calculateContrastRatio('invalid', 'alsoinvalid');\n      expect(result.ratio).toBe(1);\n      expect(result.level).toBe('fail');\n    });\n\n    test('calculates medium contrast correctly', () => {\n      const result = calculateContrastRatio('#666666', '#ffffff');\n      expect(result.ratio).toBeGreaterThan(4.5);\n      expect(result.isAA).toBe(true);\n    });\n\n    test('handles hex colors without # prefix', () => {\n      const result = calculateContrastRatio('000000', 'ffffff');\n      expect(result.ratio).toBe(21);\n    });\n\n    test('handles RGB color format', () => {\n      const result = calculateContrastRatio('rgb(0, 0, 0)', 'rgb(255, 255, 255)');\n      expect(result.ratio).toBe(21);\n    });\n\n    test('handles OKLCH color format', () => {\n      const result = calculateContrastRatio('oklch(0.0 0.0 0)', 'oklch(1.0 0.0 0)');\n      expect(result.ratio).toBeGreaterThan(1);\n    });\n  });\n\n  describe('meetsContrastRequirement', () => {\n    test('returns true for AA compliant colors', () => {\n      expect(meetsContrastRequirement('#000000', '#ffffff', 'AA')).toBe(true);\n      expect(meetsContrastRequirement('#666666', '#ffffff', 'AA')).toBe(true);\n    });\n\n    test('returns false for non-compliant colors', () => {\n      expect(meetsContrastRequirement('#cccccc', '#ffffff', 'AA')).toBe(false);\n    });\n\n    test('defaults to AA level', () => {\n      expect(meetsContrastRequirement('#000000', '#ffffff')).toBe(true);\n    });\n\n    test('handles AAA level requirement', () => {\n      expect(meetsContrastRequirement('#000000', '#ffffff', 'AAA')).toBe(true);\n      expect(meetsContrastRequirement('#666666', '#ffffff', 'AAA')).toBe(false);\n    });\n  });\n\n  describe('validateThemeContrast', () => {\n    test('validates theme with good contrast', () => {\n      const goodTheme = {\n        semantic: {\n          text: { primary: '#000000', secondary: '#333333' },\n          background: { primary: '#ffffff' },\n        },\n        colors: {\n          primary: { 500: '#0066cc', 600: '#0052a3' },\n        },\n      };\n\n      const result = validateThemeContrast(goodTheme);\n      expect(result.isCompliant).toBe(true);\n      expect(result.issues).toHaveLength(0);\n    });\n\n    test('identifies contrast issues', () => {\n      const badTheme = {\n        semantic: {\n          text: { primary: '#cccccc', secondary: '#dddddd' },\n          background: { primary: '#ffffff' },\n        },\n        colors: {\n          primary: { 500: '#f0f0f0', 600: '#e0e0e0' },\n        },\n      };\n\n      const result = validateThemeContrast(badTheme);\n      expect(result.isCompliant).toBe(false);\n      expect(result.issues.length).toBeGreaterThan(0);\n    });\n\n    test('handles missing theme properties', () => {\n      const incompleteTheme = {};\n      const result = validateThemeContrast(incompleteTheme);\n      expect(result.isCompliant).toBe(true); // Uses fallback colors\n    });\n  });\n});\n\ndescribe('ARIA Attributes', () => {\n  describe('generateAriaAttributes', () => {\n    test('generates button attributes', () => {\n      const attrs = generateAriaAttributes('button', {\n        label: 'Test Button',\n        expanded: true,\n      });\n\n      expect(attrs['aria-label']).toBe('Test Button');\n      expect(attrs['aria-expanded']).toBe(true);\n    });\n\n    test('generates modal attributes', () => {\n      const attrs = generateAriaAttributes('modal', {\n        label: 'Test Modal',\n      });\n\n      expect(attrs.role).toBe('dialog');\n      expect(attrs['aria-modal']).toBe(true);\n      expect(attrs['aria-label']).toBe('Test Modal');\n    });\n\n    test('generates dropdown attributes', () => {\n      const attrs = generateAriaAttributes('dropdown', {\n        expanded: false,\n      });\n\n      expect(attrs.role).toBe('menu');\n      expect(attrs['aria-expanded']).toBe(false);\n    });\n\n    test('generates tab attributes', () => {\n      const attrs = generateAriaAttributes('tab', {\n        current: true,\n      });\n\n      expect(attrs.role).toBe('tab');\n      expect(attrs['aria-selected']).toBe(true);\n      expect(attrs['aria-current']).toBe('page');\n    });\n\n    test('generates toggle attributes', () => {\n      const attrs = generateAriaAttributes('toggle', {\n        label: 'Toggle Setting',\n        expanded: false,\n      });\n\n      expect(attrs.role).toBe('switch');\n      expect(attrs['aria-checked']).toBe(false);\n      expect(attrs['aria-label']).toBe('Toggle Setting');\n    });\n\n    test('generates input attributes', () => {\n      const attrs = generateAriaAttributes('input', {\n        label: 'Input Field',\n        describedBy: 'help-text',\n      });\n\n      expect(attrs['aria-label']).toBe('Input Field');\n      expect(attrs['aria-describedby']).toBe('help-text');\n    });\n\n    test('handles hidden elements', () => {\n      const attrs = generateAriaAttributes('button', {\n        hidden: true,\n      });\n\n      expect(attrs['aria-hidden']).toBe(true);\n    });\n\n    test('handles live regions', () => {\n      const attrs = generateAriaAttributes('button', {\n        live: 'assertive',\n      });\n\n      expect(attrs['aria-live']).toBe('assertive');\n    });\n  });\n});\n\ndescribe('Screen Reader Announcements', () => {\n  test('creates announcement element', () => {\n    document.body.innerHTML = '';\n    announceToScreenReader('Test message', 'polite');\n\n    const announcement = document.querySelector('[aria-live=\"polite\"]');\n    expect(announcement).toBeTruthy();\n    expect(announcement?.textContent).toBe('Test message');\n    expect(announcement?.getAttribute('aria-atomic')).toBe('true');\n  });\n\n  test('removes announcement after timeout', (done) => {\n    document.body.innerHTML = '';\n    announceToScreenReader('Test message', 'assertive');\n\n    setTimeout(() => {\n      const announcement = document.querySelector('[aria-live=\"assertive\"]');\n      expect(announcement).toBeFalsy();\n      done();\n    }, 1100);\n  });\n\n  test('defaults to polite priority', () => {\n    document.body.innerHTML = '';\n    announceToScreenReader('Test message');\n\n    const announcement = document.querySelector('[aria-live=\"polite\"]');\n    expect(announcement).toBeTruthy();\n  });\n});\n\ndescribe('Focus Management', () => {\n  beforeEach(() => {\n    document.body.innerHTML = `\n      <div id=\"container\">\n        <button id=\"btn1\">Button 1</button>\n        <input id=\"input1\" type=\"text\" />\n        <a href=\"#\" id=\"link1\">Link 1</a>\n        <button disabled id=\"btn-disabled\">Disabled</button>\n        <div tabindex=\"0\" id=\"div1\">Focusable Div</div>\n        <button id=\"btn2\">Button 2</button>\n      </div>\n    `;\n  });\n\n  describe('getFocusableElements', () => {\n    test('finds all focusable elements', () => {\n      const container = document.getElementById('container')!;\n      const focusable = getFocusableElements(container);\n\n      expect(focusable).toHaveLength(4); // Excludes disabled button\n      expect(focusable.map(el => el.id)).toEqual(['btn1', 'input1', 'link1', 'div1', 'btn2']);\n    });\n\n    test('returns empty array for container with no focusable elements', () => {\n      const container = document.createElement('div');\n      container.innerHTML = '<div>No focusable elements</div>';\n      const focusable = getFocusableElements(container);\n\n      expect(focusable).toHaveLength(0);\n    });\n  });\n\n  describe('createFocusTrap', () => {\n    test('focuses first element on creation', () => {\n      const container = document.getElementById('container')!;\n      const cleanup = createFocusTrap(container);\n\n      expect(document.activeElement?.id).toBe('btn1');\n      cleanup();\n    });\n\n    test('traps focus within container', () => {\n      const container = document.getElementById('container')!;\n      const cleanup = createFocusTrap(container);\n\n      // Simulate Tab from last element\n      const lastButton = document.getElementById('btn2')!;\n      lastButton.focus();\n\n      const tabEvent = new KeyboardEvent('keydown', { key: 'Tab' });\n      container.dispatchEvent(tabEvent);\n\n      cleanup();\n    });\n\n    test('handles Shift+Tab reverse navigation', () => {\n      const container = document.getElementById('container')!;\n      const cleanup = createFocusTrap(container);\n\n      // Simulate Shift+Tab from first element\n      const firstButton = document.getElementById('btn1')!;\n      firstButton.focus();\n\n      const shiftTabEvent = new KeyboardEvent('keydown', { key: 'Tab', shiftKey: true });\n      container.dispatchEvent(shiftTabEvent);\n\n      cleanup();\n    });\n  });\n\n  describe('createKeyboardNavigation', () => {\n    test('creates navigation handler for vertical orientation', () => {\n      const elements = [\n        document.getElementById('btn1')!,\n        document.getElementById('input1')!,\n        document.getElementById('link1')!,\n      ];\n\n      const handler = createKeyboardNavigation(elements, {\n        orientation: 'vertical',\n        loop: true,\n      });\n\n      expect(typeof handler).toBe('function');\n    });\n\n    test('handles arrow key navigation', () => {\n      const elements = [\n        document.getElementById('btn1')!,\n        document.getElementById('input1')!,\n        document.getElementById('link1')!,\n      ];\n\n      const mockOnActivate = jest.fn();\n      const handler = createKeyboardNavigation(elements, {\n        orientation: 'vertical',\n        onActivate: mockOnActivate,\n      });\n\n      const downEvent = new KeyboardEvent('keydown', { key: 'ArrowDown' });\n      handler(downEvent);\n\n      expect(mockOnActivate).not.toHaveBeenCalled(); // Only called on Enter/Space\n    });\n\n    test('handles Enter key activation', () => {\n      const elements = [\n        document.getElementById('btn1')!,\n        document.getElementById('input1')!,\n      ];\n\n      const mockOnActivate = jest.fn();\n      const handler = createKeyboardNavigation(elements, {\n        onActivate: mockOnActivate,\n      });\n\n      const enterEvent = new KeyboardEvent('keydown', { key: 'Enter' });\n      handler(enterEvent);\n\n      expect(mockOnActivate).toHaveBeenCalledWith(elements[0], 0);\n    });\n\n    test('handles Home and End keys', () => {\n      const elements = [\n        document.getElementById('btn1')!,\n        document.getElementById('input1')!,\n        document.getElementById('link1')!,\n      ];\n\n      const handler = createKeyboardNavigation(elements);\n\n      const homeEvent = new KeyboardEvent('keydown', { key: 'Home' });\n      const endEvent = new KeyboardEvent('keydown', { key: 'End' });\n\n      handler(homeEvent);\n      handler(endEvent);\n    });\n  });\n});\n\ndescribe('Reduced Motion', () => {\n  test('prefersReducedMotion returns false by default', () => {\n    expect(prefersReducedMotion()).toBe(false);\n  });\n\n  test('prefersReducedMotion returns true when media query matches', () => {\n    (window.matchMedia as jest.Mock).mockImplementation(() => ({\n      matches: true,\n    }));\n\n    expect(prefersReducedMotion()).toBe(true);\n  });\n\n  test('respectReducedMotion returns reduced value when preferred', () => {\n    (window.matchMedia as jest.Mock).mockImplementation(() => ({\n      matches: true,\n    }));\n\n    const result = respectReducedMotion('spring', 'none');\n    expect(result).toBe('none');\n  });\n\n  test('respectReducedMotion returns normal value when not preferred', () => {\n    (window.matchMedia as jest.Mock).mockImplementation(() => ({\n      matches: false,\n    }));\n\n    const result = respectReducedMotion('spring', 'none');\n    expect(result).toBe('spring');\n  });\n});\n\ndescribe('Validation Functions', () => {\n  describe('validateHeadingStructure', () => {\n    test('validates correct heading structure', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <h1>Main Title</h1>\n        <h2>Section</h2>\n        <h3>Subsection</h3>\n        <h2>Another Section</h2>\n      `;\n\n      const result = validateHeadingStructure(container);\n      expect(result.isValid).toBe(true);\n      expect(result.issues).toHaveLength(0);\n    });\n\n    test('detects missing h1', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <h2>Section</h2>\n        <h3>Subsection</h3>\n      `;\n\n      const result = validateHeadingStructure(container);\n      expect(result.isValid).toBe(false);\n      expect(result.issues).toContain('First heading should be h1, found h2');\n    });\n\n    test('detects skipped heading levels', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <h1>Main Title</h1>\n        <h4>Skipped Level</h4>\n      `;\n\n      const result = validateHeadingStructure(container);\n      expect(result.isValid).toBe(false);\n      expect(result.issues).toContain('Heading level skipped: h4 follows h1');\n    });\n\n    test('detects multiple h1 elements', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <h1>First Title</h1>\n        <h1>Second Title</h1>\n      `;\n\n      const result = validateHeadingStructure(container);\n      expect(result.isValid).toBe(false);\n      expect(result.issues).toContain('Multiple h1 elements found. Page should have only one h1.');\n    });\n  });\n\n  describe('validateFormLabels', () => {\n    test('validates forms with proper labels', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <form>\n          <label for=\"input1\">Name</label>\n          <input id=\"input1\" type=\"text\" />\n          \n          <label>\n            Email\n            <input type=\"email\" />\n          </label>\n          \n          <input type=\"submit\" aria-label=\"Submit form\" />\n        </form>\n      `;\n\n      const result = validateFormLabels(container);\n      expect(result.isValid).toBe(true);\n      expect(result.issues).toHaveLength(0);\n    });\n\n    test('detects inputs without labels', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <form>\n          <input type=\"text\" id=\"unlabeled\" />\n          <input type=\"email\" />\n        </form>\n      `;\n\n      const result = validateFormLabels(container);\n      expect(result.isValid).toBe(false);\n      expect(result.issues.length).toBeGreaterThan(0);\n      expect(result.issues[0]).toContain('Form input missing label');\n    });\n\n    test('accepts aria-label as valid label', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <form>\n          <input type=\"text\" aria-label=\"Search\" />\n        </form>\n      `;\n\n      const result = validateFormLabels(container);\n      expect(result.isValid).toBe(true);\n    });\n\n    test('accepts aria-labelledby as valid label', () => {\n      const container = document.createElement('div');\n      container.innerHTML = `\n        <form>\n          <span id=\"label1\">Username</span>\n          <input type=\"text\" aria-labelledby=\"label1\" />\n        </form>\n      `;\n\n      const result = validateFormLabels(container);\n      expect(result.isValid).toBe(true);\n    });\n  });\n});\n\ndescribe('Screen Reader Utilities', () => {\n  test('exports correct screen reader class name', () => {\n    expect(ScreenReaderClass).toBe('sr-only');\n  });\n\n  test('exports screen reader styles', () => {\n    expect(screenReaderStyles).toContain('.sr-only');\n    expect(screenReaderStyles).toContain('position: absolute');\n    expect(screenReaderStyles).toContain('width: 1px');\n    expect(screenReaderStyles).toContain('height: 1px');\n  });\n});\n\ndescribe('Integration Tests', () => {\n  test('full accessibility audit flow', () => {\n    document.body.innerHTML = `\n      <main>\n        <h1>Accessible Page</h1>\n        <form>\n          <label for=\"name\">Name</label>\n          <input id=\"name\" type=\"text\" />\n          <button type=\"submit\">Submit</button>\n        </form>\n      </main>\n    `;\n\n    const headingResult = validateHeadingStructure();\n    const formResult = validateFormLabels();\n\n    expect(headingResult.isValid).toBe(true);\n    expect(formResult.isValid).toBe(true);\n  });\n\n  test('handles complex nested structures', () => {\n    document.body.innerHTML = `\n      <div role=\"application\">\n        <header>\n          <h1>App Title</h1>\n          <nav aria-label=\"Main navigation\">\n            <button aria-expanded=\"false\" aria-controls=\"menu\">Menu</button>\n            <ul id=\"menu\" role=\"menu\" hidden>\n              <li role=\"menuitem\"><a href=\"/\">Home</a></li>\n              <li role=\"menuitem\"><a href=\"/about\">About</a></li>\n            </ul>\n          </nav>\n        </header>\n        <main>\n          <section>\n            <h2>Content Section</h2>\n            <p>Content goes here.</p>\n          </section>\n        </main>\n      </div>\n    `;\n\n    const focusableElements = getFocusableElements(document.body);\n    expect(focusableElements.length).toBeGreaterThan(0);\n\n    const headingResult = validateHeadingStructure();\n    expect(headingResult.isValid).toBe(true);\n  });\n}); "],"names":["Object","defineProperty","window","writable","value","jest","fn","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","mockGetContext","fillStyle","HTMLCanvasElement","prototype","describe","test","result","calculateContrastRatio","expect","ratio","toBe","isAA","isAAA","level","toBeGreaterThan","meetsContrastRequirement","goodTheme","semantic","text","primary","secondary","background","colors","validateThemeContrast","isCompliant","issues","toHaveLength","badTheme","length","incompleteTheme","attrs","generateAriaAttributes","label","expanded","role","current","describedBy","hidden","live","document","body","innerHTML","announceToScreenReader","announcement","querySelector","toBeTruthy","textContent","getAttribute","done","setTimeout","toBeFalsy","beforeEach","container","getElementById","focusable","getFocusableElements","map","el","id","toEqual","createElement","cleanup","createFocusTrap","activeElement","lastButton","focus","tabEvent","KeyboardEvent","key","firstButton","shiftTabEvent","shiftKey","elements","handler","createKeyboardNavigation","orientation","loop","mockOnActivate","onActivate","downEvent","not","toHaveBeenCalled","enterEvent","toHaveBeenCalledWith","homeEvent","endEvent","prefersReducedMotion","matchMedia","respectReducedMotion","validateHeadingStructure","isValid","toContain","validateFormLabels","ScreenReaderClass","screenReaderStyles","headingResult","formResult","focusableElements"],"mappings":"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"}