{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/settings/__tests__/isolated.test.tsx"],"sourcesContent":["// Mock everything BEFORE any imports\njest.mock('@/contexts/SettingsContext', () => ({\n  useSettings: jest.fn(() => ({\n    settings: {\n      id: '1',\n      userId: 'user1',\n      notifications: {\n        emailNotifications: true,\n        pushNotifications: false,\n        deploymentAlerts: true,\n        performanceAlerts: false,\n        securityAlerts: true,\n      },\n      display: {\n        theme: 'light',\n        dashboardLayout: 'grid',\n        metricsTimeRange: '24h',\n        compactView: false,\n      },\n      integrations: {\n        githubEnabled: true,\n        githubRepositories: ['user/repo1', 'user/repo2'],\n        slackEnabled: false,\n        slackChannel: '#devops',\n        jiraEnabled: false,\n        jiraProject: 'OPS',\n      },\n      updatedAt: '2024-01-01T00:00:00Z',\n    },\n    loading: false,\n    error: null,\n    updateSettings: jest.fn().mockResolvedValue(undefined),\n    resetSettings: jest.fn().mockResolvedValue(undefined),\n    clearError: jest.fn(),\n  })),\n}));\n\njest.mock('@/components/auth/withAuth', () => ({\n  withAuth: (Component: React.ComponentType) => Component,\n}));\n\njest.mock('@/components/settings/GitHubRepoModal', () => ({\n  GitHubRepoModal: () => null,\n}));\n\njest.mock('@/components/settings/ThemeSelector', () => ({\n  ThemeSelector: () => <div data-testid=\"theme-selector\">Theme Selector</div>,\n}));\n\njest.mock('framer-motion', () => ({\n  motion: {\n    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,\n    button: ({ children, ...props }: any) => <button {...props}>{children}</button>,\n    section: ({ children, ...props }: any) => <section {...props}>{children}</section>,\n  },\n  AnimatePresence: ({ children }: { children: React.ReactNode }) => <>{children}</>,\n}));\n\njest.mock('@heroicons/react/24/outline', () => {\n  const MockIcon = ({ className, ...props }: any) => (\n    <svg className={className} {...props} data-testid=\"mock-icon\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    </svg>\n  );\n\n  return {\n    CogIcon: MockIcon,\n    CheckIcon: MockIcon,\n    ExclamationTriangleIcon: MockIcon,\n    SwatchIcon: MockIcon,\n    BellIcon: MockIcon,\n    CodeBracketIcon: MockIcon,\n    ArrowPathIcon: MockIcon,\n    CheckCircleIcon: MockIcon,\n    XMarkIcon: MockIcon,\n  };\n});\n\njest.mock('@/utils/cn', () => ({\n  cn: (...classes: any[]) => classes.filter(Boolean).join(' '),\n}));\n\n// Now import React and testing utilities\nimport React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport { useSettings } from '@/contexts/SettingsContext';\n\n// Import the component AFTER all mocks are set up\nimport SettingsPage from '../page';\n\n// Get the mocked function for testing\nconst mockUseSettings = useSettings as jest.MockedFunction<typeof useSettings>;\n\ndescribe('SettingsPage - Isolated Test', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test('renders settings page successfully', () => {\n    render(<SettingsPage />);\n    \n    // Check if the mock was called\n    expect(mockUseSettings).toHaveBeenCalled();\n    \n    // Check if the main heading is rendered\n    expect(screen.getByText('Settings')).toBeInTheDocument();\n    \n    // Check if the description is rendered\n    expect(screen.getByText('Manage your account preferences and integrations')).toBeInTheDocument();\n  });\n\n  test('displays theme selector', () => {\n    render(<SettingsPage />);\n    expect(screen.getByTestId('theme-selector')).toBeInTheDocument();\n  });\n\n  test('displays notification toggles', () => {\n    render(<SettingsPage />);\n    expect(screen.getByText('Email Notifications')).toBeInTheDocument();\n  });\n}); "],"names":["jest","mock","useSettings","fn","settings","id","userId","notifications","emailNotifications","pushNotifications","deploymentAlerts","performanceAlerts","securityAlerts","display","theme","dashboardLayout","metricsTimeRange","compactView","integrations","githubEnabled","githubRepositories","slackEnabled","slackChannel","jiraEnabled","jiraProject","updatedAt","loading","error","updateSettings","mockResolvedValue","undefined","resetSettings","clearError","withAuth","Component","GitHubRepoModal","ThemeSelector","div","data-testid","motion","children","props","button","section","AnimatePresence","MockIcon","className","svg","circle","cx","cy","r","CogIcon","CheckIcon","ExclamationTriangleIcon","SwatchIcon","BellIcon","CodeBracketIcon","ArrowPathIcon","CheckCircleIcon","XMarkIcon","cn","classes","filter","Boolean","join","mockUseSettings","describe","beforeEach","clearAllMocks","test","render","SettingsPage","expect","toHaveBeenCalled","screen","getByText","toBeInTheDocument","getByTestId"],"mappings":"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"}