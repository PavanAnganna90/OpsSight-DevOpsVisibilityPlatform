bf89dd3968c32a7261c5aa65d3e36851
/**
 * Permission Hooks
 * 
 * Custom hooks for common permission checking patterns
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useAdminPermissions: function() {
        return useAdminPermissions;
    },
    useFeaturePermissions: function() {
        return useFeaturePermissions;
    },
    useInfrastructurePermissions: function() {
        return useInfrastructurePermissions;
    },
    useNavigationPermissions: function() {
        return useNavigationPermissions;
    },
    usePermissionState: function() {
        return usePermissionState;
    },
    usePermissions: function() {
        return usePermissions;
    },
    useResourcePermissions: function() {
        return useResourcePermissions;
    },
    useTeamPermissions: function() {
        return useTeamPermissions;
    }
});
const _react = require("react");
const _AuthContext = require("../contexts/AuthContext");
function usePermissions() {
    const { hasPermission, hasRole, hasAnyRole, hasAnyPermission, canAccess, getUserPermissions, getUserRoles, isAdmin } = (0, _AuthContext.useAuth)();
    return {
        hasPermission,
        hasRole,
        hasAnyRole,
        hasAnyPermission,
        canAccess,
        getUserPermissions,
        getUserRoles,
        isAdmin
    };
}
function useResourcePermissions(resource, organizationId) {
    const { canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canView: canAccess(resource, 'view', organizationId),
            canCreate: canAccess(resource, 'create', organizationId),
            canUpdate: canAccess(resource, 'update', organizationId),
            canDelete: canAccess(resource, 'delete', organizationId),
            canManage: canAccess(resource, 'manage', organizationId)
        }), [
        canAccess,
        resource,
        organizationId
    ]);
}
function useAdminPermissions() {
    const { isAdmin, hasPermission, hasRole } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            isAdmin: isAdmin(),
            canManageUsers: hasPermission('manage_users'),
            canManageRoles: hasPermission('manage_roles'),
            canManagePermissions: hasPermission('manage_permissions'),
            canManageTeams: hasPermission('manage_teams'),
            canManageSystem: hasPermission('manage_system'),
            canViewAuditLogs: hasPermission('view_audit_logs'),
            isOrgOwner: hasRole('organization_owner'),
            isDevOpsAdmin: hasRole('devops_admin')
        }), [
        isAdmin,
        hasPermission,
        hasRole
    ]);
}
function useInfrastructurePermissions(organizationId) {
    const { hasPermission, canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewInfrastructure: canAccess('infrastructure', 'view', organizationId),
            canManageInfrastructure: canAccess('infrastructure', 'manage', organizationId),
            canManageClusters: hasPermission('manage_clusters', organizationId),
            canViewClusters: hasPermission('view_clusters', organizationId),
            canManageDeployments: hasPermission('manage_deployments', organizationId),
            canViewDeployments: hasPermission('view_deployments', organizationId),
            canManageMonitoring: hasPermission('manage_monitoring', organizationId),
            canViewMonitoring: hasPermission('view_monitoring', organizationId),
            canManagePipelines: hasPermission('manage_pipelines', organizationId),
            canViewPipelines: hasPermission('view_pipelines', organizationId)
        }), [
        hasPermission,
        canAccess,
        organizationId
    ]);
}
function useTeamPermissions(organizationId) {
    const { hasPermission, canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewTeams: canAccess('teams', 'view', organizationId),
            canCreateTeams: canAccess('teams', 'create', organizationId),
            canUpdateTeams: canAccess('teams', 'update', organizationId),
            canDeleteTeams: canAccess('teams', 'delete', organizationId),
            canManageTeamMembers: hasPermission('manage_team_members', organizationId),
            canViewTeamMembers: hasPermission('view_team_members', organizationId),
            canAssignRoles: hasPermission('assign_roles', organizationId)
        }), [
        hasPermission,
        canAccess,
        organizationId
    ]);
}
function useNavigationPermissions() {
    const { hasPermission, hasAnyRole, isAdmin } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewDashboard: hasPermission('view_dashboard'),
            canViewInfrastructure: hasPermission('view_infrastructure'),
            canViewPipelines: hasPermission('view_pipelines'),
            canViewAutomation: hasPermission('view_automation'),
            canViewTeams: hasPermission('view_teams'),
            canViewUsers: hasPermission('view_users'),
            canViewRoles: hasPermission('view_roles'),
            canViewSettings: hasPermission('view_settings'),
            canViewAdmin: isAdmin(),
            canViewMonitoring: hasPermission('view_monitoring'),
            canViewReports: hasPermission('view_reports'),
            canViewAuditLogs: hasPermission('view_audit_logs'),
            isManagerOrAbove: hasAnyRole([
                'manager',
                'devops_admin',
                'organization_owner',
                'super_admin'
            ]),
            isDevOpsRole: hasAnyRole([
                'devops_admin',
                'engineer',
                'organization_owner',
                'super_admin'
            ])
        }), [
        hasPermission,
        hasAnyRole,
        isAdmin
    ]);
}
function useFeaturePermissions() {
    const { hasPermission, hasRole } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canUseCLI: hasPermission('api_access'),
            canUseAPI: hasPermission('api_access'),
            canUseWebhooks: hasPermission('webhook_management'),
            canViewCosts: hasPermission('view_cost_analysis'),
            canManageCosts: hasPermission('manage_cost_analysis'),
            canViewAlerts: hasPermission('view_alerts'),
            canManageAlerts: hasPermission('manage_alerts'),
            canViewNotifications: hasPermission('view_notifications'),
            canManageNotifications: hasPermission('manage_notifications'),
            canViewIntegrations: hasPermission('view_integrations'),
            canManageIntegrations: hasPermission('manage_integrations'),
            canExportData: hasPermission('export_data'),
            canImportData: hasPermission('import_data'),
            hasAPIOnlyAccess: hasRole('api_only')
        }), [
        hasPermission,
        hasRole
    ]);
}
function usePermissionState() {
    const auth = (0, _AuthContext.useAuth)();
    const adminPerms = useAdminPermissions();
    const navPerms = useNavigationPermissions();
    const featurePerms = useFeaturePermissions();
    return (0, _react.useMemo)(()=>({
            isAuthenticated: auth.state.isAuthenticated,
            user: auth.state.user,
            roles: auth.getUserRoles(),
            permissions: auth.getUserPermissions(),
            admin: adminPerms,
            navigation: navPerms,
            features: featurePerms,
            hasAnyAdminRole: adminPerms.isAdmin,
            hasAnyManagerRole: navPerms.isManagerOrAbove,
            hasAnyDevOpsRole: navPerms.isDevOpsRole
        }), [
        auth,
        adminPerms,
        navPerms,
        featurePerms
    ]);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvaG9va3MvdXNlUGVybWlzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQZXJtaXNzaW9uIEhvb2tzXG4gKiBcbiAqIEN1c3RvbSBob29rcyBmb3IgY29tbW9uIHBlcm1pc3Npb24gY2hlY2tpbmcgcGF0dGVybnNcbiAqL1xuXG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIG11bHRpcGxlIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQZXJtaXNzaW9ucygpIHtcbiAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCBoYXNSb2xlLCBoYXNBbnlSb2xlLCBoYXNBbnlQZXJtaXNzaW9uLCBjYW5BY2Nlc3MsIGdldFVzZXJQZXJtaXNzaW9ucywgZ2V0VXNlclJvbGVzLCBpc0FkbWluIH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoYXNQZXJtaXNzaW9uLFxuICAgIGhhc1JvbGUsXG4gICAgaGFzQW55Um9sZSxcbiAgICBoYXNBbnlQZXJtaXNzaW9uLFxuICAgIGNhbkFjY2VzcyxcbiAgICBnZXRVc2VyUGVybWlzc2lvbnMsXG4gICAgZ2V0VXNlclJvbGVzLFxuICAgIGlzQWRtaW4sXG4gIH07XG59XG5cbi8qKlxuICogSG9vayBmb3IgY2hlY2tpbmcgaWYgdXNlciBjYW4gcGVyZm9ybSBDUlVEIG9wZXJhdGlvbnMgb24gYSByZXNvdXJjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzb3VyY2VQZXJtaXNzaW9ucyhyZXNvdXJjZTogc3RyaW5nLCBvcmdhbml6YXRpb25JZD86IHN0cmluZykge1xuICBjb25zdCB7IGNhbkFjY2VzcyB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlldzogY2FuQWNjZXNzKHJlc291cmNlLCAndmlldycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5DcmVhdGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ2NyZWF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5VcGRhdGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ3VwZGF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5EZWxldGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ2RlbGV0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2U6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ21hbmFnZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgfSksIFtjYW5BY2Nlc3MsIHJlc291cmNlLCBvcmdhbml6YXRpb25JZF0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIGFkbWluIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBZG1pblBlcm1pc3Npb25zKCkge1xuICBjb25zdCB7IGlzQWRtaW4sIGhhc1Blcm1pc3Npb24sIGhhc1JvbGUgfSA9IHVzZUF1dGgoKTtcblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgIGlzQWRtaW46IGlzQWRtaW4oKSxcbiAgICBjYW5NYW5hZ2VVc2VyczogaGFzUGVybWlzc2lvbignbWFuYWdlX3VzZXJzJyksXG4gICAgY2FuTWFuYWdlUm9sZXM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9yb2xlcycpLFxuICAgIGNhbk1hbmFnZVBlcm1pc3Npb25zOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2VfcGVybWlzc2lvbnMnKSxcbiAgICBjYW5NYW5hZ2VUZWFtczogaGFzUGVybWlzc2lvbignbWFuYWdlX3RlYW1zJyksXG4gICAgY2FuTWFuYWdlU3lzdGVtOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2Vfc3lzdGVtJyksXG4gICAgY2FuVmlld0F1ZGl0TG9nczogaGFzUGVybWlzc2lvbigndmlld19hdWRpdF9sb2dzJyksXG4gICAgaXNPcmdPd25lcjogaGFzUm9sZSgnb3JnYW5pemF0aW9uX293bmVyJyksXG4gICAgaXNEZXZPcHNBZG1pbjogaGFzUm9sZSgnZGV2b3BzX2FkbWluJyksXG4gIH0pLCBbaXNBZG1pbiwgaGFzUGVybWlzc2lvbiwgaGFzUm9sZV0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIGluZnJhc3RydWN0dXJlIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VJbmZyYXN0cnVjdHVyZVBlcm1pc3Npb25zKG9yZ2FuaXphdGlvbklkPzogc3RyaW5nKSB7XG4gIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgY2FuQWNjZXNzIH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICBjYW5WaWV3SW5mcmFzdHJ1Y3R1cmU6IGNhbkFjY2VzcygnaW5mcmFzdHJ1Y3R1cmUnLCAndmlldycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2VJbmZyYXN0cnVjdHVyZTogY2FuQWNjZXNzKCdpbmZyYXN0cnVjdHVyZScsICdtYW5hZ2UnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlQ2x1c3RlcnM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9jbHVzdGVycycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5WaWV3Q2x1c3RlcnM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfY2x1c3RlcnMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlRGVwbG95bWVudHM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9kZXBsb3ltZW50cycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5WaWV3RGVwbG95bWVudHM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfZGVwbG95bWVudHMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlTW9uaXRvcmluZzogaGFzUGVybWlzc2lvbignbWFuYWdlX21vbml0b3JpbmcnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld01vbml0b3Jpbmc6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfbW9uaXRvcmluZycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2VQaXBlbGluZXM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9waXBlbGluZXMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld1BpcGVsaW5lczogaGFzUGVybWlzc2lvbigndmlld19waXBlbGluZXMnLCBvcmdhbml6YXRpb25JZCksXG4gIH0pLCBbaGFzUGVybWlzc2lvbiwgY2FuQWNjZXNzLCBvcmdhbml6YXRpb25JZF0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIHRlYW0gcGVybWlzc2lvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRlYW1QZXJtaXNzaW9ucyhvcmdhbml6YXRpb25JZD86IHN0cmluZykge1xuICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIGNhbkFjY2VzcyB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlld1RlYW1zOiBjYW5BY2Nlc3MoJ3RlYW1zJywgJ3ZpZXcnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuQ3JlYXRlVGVhbXM6IGNhbkFjY2VzcygndGVhbXMnLCAnY3JlYXRlJywgb3JnYW5pemF0aW9uSWQpLFxuICAgIGNhblVwZGF0ZVRlYW1zOiBjYW5BY2Nlc3MoJ3RlYW1zJywgJ3VwZGF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5EZWxldGVUZWFtczogY2FuQWNjZXNzKCd0ZWFtcycsICdkZWxldGUnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlVGVhbU1lbWJlcnM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV90ZWFtX21lbWJlcnMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld1RlYW1NZW1iZXJzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X3RlYW1fbWVtYmVycycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5Bc3NpZ25Sb2xlczogaGFzUGVybWlzc2lvbignYXNzaWduX3JvbGVzJywgb3JnYW5pemF0aW9uSWQpLFxuICB9KSwgW2hhc1Blcm1pc3Npb24sIGNhbkFjY2Vzcywgb3JnYW5pemF0aW9uSWRdKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciBjaGVja2luZyBuYXZpZ2F0aW9uIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VOYXZpZ2F0aW9uUGVybWlzc2lvbnMoKSB7XG4gIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgaGFzQW55Um9sZSwgaXNBZG1pbiB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlld0Rhc2hib2FyZDogaGFzUGVybWlzc2lvbigndmlld19kYXNoYm9hcmQnKSxcbiAgICBjYW5WaWV3SW5mcmFzdHJ1Y3R1cmU6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfaW5mcmFzdHJ1Y3R1cmUnKSxcbiAgICBjYW5WaWV3UGlwZWxpbmVzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X3BpcGVsaW5lcycpLFxuICAgIGNhblZpZXdBdXRvbWF0aW9uOiBoYXNQZXJtaXNzaW9uKCd2aWV3X2F1dG9tYXRpb24nKSxcbiAgICBjYW5WaWV3VGVhbXM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfdGVhbXMnKSxcbiAgICBjYW5WaWV3VXNlcnM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfdXNlcnMnKSxcbiAgICBjYW5WaWV3Um9sZXM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfcm9sZXMnKSxcbiAgICBjYW5WaWV3U2V0dGluZ3M6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfc2V0dGluZ3MnKSxcbiAgICBjYW5WaWV3QWRtaW46IGlzQWRtaW4oKSxcbiAgICBjYW5WaWV3TW9uaXRvcmluZzogaGFzUGVybWlzc2lvbigndmlld19tb25pdG9yaW5nJyksXG4gICAgY2FuVmlld1JlcG9ydHM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfcmVwb3J0cycpLFxuICAgIGNhblZpZXdBdWRpdExvZ3M6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfYXVkaXRfbG9ncycpLFxuICAgIGlzTWFuYWdlck9yQWJvdmU6IGhhc0FueVJvbGUoWydtYW5hZ2VyJywgJ2Rldm9wc19hZG1pbicsICdvcmdhbml6YXRpb25fb3duZXInLCAnc3VwZXJfYWRtaW4nXSksXG4gICAgaXNEZXZPcHNSb2xlOiBoYXNBbnlSb2xlKFsnZGV2b3BzX2FkbWluJywgJ2VuZ2luZWVyJywgJ29yZ2FuaXphdGlvbl9vd25lcicsICdzdXBlcl9hZG1pbiddKSxcbiAgfSksIFtoYXNQZXJtaXNzaW9uLCBoYXNBbnlSb2xlLCBpc0FkbWluXSk7XG59XG5cbi8qKlxuICogSG9vayBmb3IgY2hlY2tpbmcgaWYgdXNlciBjYW4gYWNjZXNzIHNwZWNpZmljIGZlYXR1cmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VGZWF0dXJlUGVybWlzc2lvbnMoKSB7XG4gIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgaGFzUm9sZSB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVXNlQ0xJOiBoYXNQZXJtaXNzaW9uKCdhcGlfYWNjZXNzJyksXG4gICAgY2FuVXNlQVBJOiBoYXNQZXJtaXNzaW9uKCdhcGlfYWNjZXNzJyksXG4gICAgY2FuVXNlV2ViaG9va3M6IGhhc1Blcm1pc3Npb24oJ3dlYmhvb2tfbWFuYWdlbWVudCcpLFxuICAgIGNhblZpZXdDb3N0czogaGFzUGVybWlzc2lvbigndmlld19jb3N0X2FuYWx5c2lzJyksXG4gICAgY2FuTWFuYWdlQ29zdHM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9jb3N0X2FuYWx5c2lzJyksXG4gICAgY2FuVmlld0FsZXJ0czogaGFzUGVybWlzc2lvbigndmlld19hbGVydHMnKSxcbiAgICBjYW5NYW5hZ2VBbGVydHM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9hbGVydHMnKSxcbiAgICBjYW5WaWV3Tm90aWZpY2F0aW9uczogaGFzUGVybWlzc2lvbigndmlld19ub3RpZmljYXRpb25zJyksXG4gICAgY2FuTWFuYWdlTm90aWZpY2F0aW9uczogaGFzUGVybWlzc2lvbignbWFuYWdlX25vdGlmaWNhdGlvbnMnKSxcbiAgICBjYW5WaWV3SW50ZWdyYXRpb25zOiBoYXNQZXJtaXNzaW9uKCd2aWV3X2ludGVncmF0aW9ucycpLFxuICAgIGNhbk1hbmFnZUludGVncmF0aW9uczogaGFzUGVybWlzc2lvbignbWFuYWdlX2ludGVncmF0aW9ucycpLFxuICAgIGNhbkV4cG9ydERhdGE6IGhhc1Blcm1pc3Npb24oJ2V4cG9ydF9kYXRhJyksXG4gICAgY2FuSW1wb3J0RGF0YTogaGFzUGVybWlzc2lvbignaW1wb3J0X2RhdGEnKSxcbiAgICBoYXNBUElPbmx5QWNjZXNzOiBoYXNSb2xlKCdhcGlfb25seScpLFxuICB9KSwgW2hhc1Blcm1pc3Npb24sIGhhc1JvbGVdKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciBwZXJtaXNzaW9uLWJhc2VkIFVJIHN0YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQZXJtaXNzaW9uU3RhdGUoKSB7XG4gIGNvbnN0IGF1dGggPSB1c2VBdXRoKCk7XG4gIGNvbnN0IGFkbWluUGVybXMgPSB1c2VBZG1pblBlcm1pc3Npb25zKCk7XG4gIGNvbnN0IG5hdlBlcm1zID0gdXNlTmF2aWdhdGlvblBlcm1pc3Npb25zKCk7XG4gIGNvbnN0IGZlYXR1cmVQZXJtcyA9IHVzZUZlYXR1cmVQZXJtaXNzaW9ucygpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgaXNBdXRoZW50aWNhdGVkOiBhdXRoLnN0YXRlLmlzQXV0aGVudGljYXRlZCxcbiAgICB1c2VyOiBhdXRoLnN0YXRlLnVzZXIsXG4gICAgcm9sZXM6IGF1dGguZ2V0VXNlclJvbGVzKCksXG4gICAgcGVybWlzc2lvbnM6IGF1dGguZ2V0VXNlclBlcm1pc3Npb25zKCksXG4gICAgYWRtaW46IGFkbWluUGVybXMsXG4gICAgbmF2aWdhdGlvbjogbmF2UGVybXMsXG4gICAgZmVhdHVyZXM6IGZlYXR1cmVQZXJtcyxcbiAgICBoYXNBbnlBZG1pblJvbGU6IGFkbWluUGVybXMuaXNBZG1pbixcbiAgICBoYXNBbnlNYW5hZ2VyUm9sZTogbmF2UGVybXMuaXNNYW5hZ2VyT3JBYm92ZSxcbiAgICBoYXNBbnlEZXZPcHNSb2xlOiBuYXZQZXJtcy5pc0Rldk9wc1JvbGUsXG4gIH0pLCBbYXV0aCwgYWRtaW5QZXJtcywgbmF2UGVybXMsIGZlYXR1cmVQZXJtc10pO1xufSJdLCJuYW1lcyI6WyJ1c2VBZG1pblBlcm1pc3Npb25zIiwidXNlRmVhdHVyZVBlcm1pc3Npb25zIiwidXNlSW5mcmFzdHJ1Y3R1cmVQZXJtaXNzaW9ucyIsInVzZU5hdmlnYXRpb25QZXJtaXNzaW9ucyIsInVzZVBlcm1pc3Npb25TdGF0ZSIsInVzZVBlcm1pc3Npb25zIiwidXNlUmVzb3VyY2VQZXJtaXNzaW9ucyIsInVzZVRlYW1QZXJtaXNzaW9ucyIsImhhc1Blcm1pc3Npb24iLCJoYXNSb2xlIiwiaGFzQW55Um9sZSIsImhhc0FueVBlcm1pc3Npb24iLCJjYW5BY2Nlc3MiLCJnZXRVc2VyUGVybWlzc2lvbnMiLCJnZXRVc2VyUm9sZXMiLCJpc0FkbWluIiwidXNlQXV0aCIsInJlc291cmNlIiwib3JnYW5pemF0aW9uSWQiLCJ1c2VNZW1vIiwiY2FuVmlldyIsImNhbkNyZWF0ZSIsImNhblVwZGF0ZSIsImNhbkRlbGV0ZSIsImNhbk1hbmFnZSIsImNhbk1hbmFnZVVzZXJzIiwiY2FuTWFuYWdlUm9sZXMiLCJjYW5NYW5hZ2VQZXJtaXNzaW9ucyIsImNhbk1hbmFnZVRlYW1zIiwiY2FuTWFuYWdlU3lzdGVtIiwiY2FuVmlld0F1ZGl0TG9ncyIsImlzT3JnT3duZXIiLCJpc0Rldk9wc0FkbWluIiwiY2FuVmlld0luZnJhc3RydWN0dXJlIiwiY2FuTWFuYWdlSW5mcmFzdHJ1Y3R1cmUiLCJjYW5NYW5hZ2VDbHVzdGVycyIsImNhblZpZXdDbHVzdGVycyIsImNhbk1hbmFnZURlcGxveW1lbnRzIiwiY2FuVmlld0RlcGxveW1lbnRzIiwiY2FuTWFuYWdlTW9uaXRvcmluZyIsImNhblZpZXdNb25pdG9yaW5nIiwiY2FuTWFuYWdlUGlwZWxpbmVzIiwiY2FuVmlld1BpcGVsaW5lcyIsImNhblZpZXdUZWFtcyIsImNhbkNyZWF0ZVRlYW1zIiwiY2FuVXBkYXRlVGVhbXMiLCJjYW5EZWxldGVUZWFtcyIsImNhbk1hbmFnZVRlYW1NZW1iZXJzIiwiY2FuVmlld1RlYW1NZW1iZXJzIiwiY2FuQXNzaWduUm9sZXMiLCJjYW5WaWV3RGFzaGJvYXJkIiwiY2FuVmlld0F1dG9tYXRpb24iLCJjYW5WaWV3VXNlcnMiLCJjYW5WaWV3Um9sZXMiLCJjYW5WaWV3U2V0dGluZ3MiLCJjYW5WaWV3QWRtaW4iLCJjYW5WaWV3UmVwb3J0cyIsImlzTWFuYWdlck9yQWJvdmUiLCJpc0Rldk9wc1JvbGUiLCJjYW5Vc2VDTEkiLCJjYW5Vc2VBUEkiLCJjYW5Vc2VXZWJob29rcyIsImNhblZpZXdDb3N0cyIsImNhbk1hbmFnZUNvc3RzIiwiY2FuVmlld0FsZXJ0cyIsImNhbk1hbmFnZUFsZXJ0cyIsImNhblZpZXdOb3RpZmljYXRpb25zIiwiY2FuTWFuYWdlTm90aWZpY2F0aW9ucyIsImNhblZpZXdJbnRlZ3JhdGlvbnMiLCJjYW5NYW5hZ2VJbnRlZ3JhdGlvbnMiLCJjYW5FeHBvcnREYXRhIiwiY2FuSW1wb3J0RGF0YSIsImhhc0FQSU9ubHlBY2Nlc3MiLCJhdXRoIiwiYWRtaW5QZXJtcyIsIm5hdlBlcm1zIiwiZmVhdHVyZVBlcm1zIiwiaXNBdXRoZW50aWNhdGVkIiwic3RhdGUiLCJ1c2VyIiwicm9sZXMiLCJwZXJtaXNzaW9ucyIsImFkbWluIiwibmF2aWdhdGlvbiIsImZlYXR1cmVzIiwiaGFzQW55QWRtaW5Sb2xlIiwiaGFzQW55TWFuYWdlclJvbGUiLCJoYXNBbnlEZXZPcHNSb2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztJQXlDZUEsbUJBQW1CO2VBQW5CQTs7SUFnRkFDLHFC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