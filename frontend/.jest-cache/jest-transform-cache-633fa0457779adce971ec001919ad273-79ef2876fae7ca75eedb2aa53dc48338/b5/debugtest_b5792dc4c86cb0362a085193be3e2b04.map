{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/app/settings/__tests__/debug.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen } from '@testing-library/react';\n\n// Mock all dependencies before importing the component\njest.mock('@/contexts/SettingsContext', () => ({\n  useSettings: () => {\n    console.log('Mock useSettings called');\n    return {\n      settings: {\n        id: '1',\n        userId: 'user1',\n        notifications: {\n          emailNotifications: true,\n          pushNotifications: false,\n          deploymentAlerts: true,\n          performanceAlerts: false,\n          securityAlerts: true,\n        },\n        display: {\n          theme: 'light',\n          dashboardLayout: 'grid',\n          metricsTimeRange: '24h',\n          compactView: false,\n        },\n        integrations: {\n          githubEnabled: true,\n          githubRepositories: ['user/repo1', 'user/repo2'],\n          slackEnabled: false,\n          slackChannel: '#devops',\n          jiraEnabled: false,\n          jiraProject: 'OPS',\n        },\n        updatedAt: '2024-01-01T00:00:00Z',\n      },\n      loading: false,\n      error: null,\n      updateSettings: jest.fn().mockResolvedValue(undefined),\n      resetSettings: jest.fn().mockResolvedValue(undefined),\n      clearError: jest.fn(),\n    };\n  },\n}));\n\njest.mock('@/components/auth/withAuth', () => ({\n  withAuth: (Component: React.ComponentType) => Component,\n}));\n\njest.mock('@/components/settings/GitHubRepoModal', () => ({\n  GitHubRepoModal: () => null,\n}));\n\njest.mock('@/components/settings/ThemeSelector', () => ({\n  ThemeSelector: () => <div data-testid=\"theme-selector\">Theme Selector</div>,\n}));\n\njest.mock('framer-motion', () => ({\n  motion: {\n    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,\n    button: ({ children, ...props }: any) => <button {...props}>{children}</button>,\n    section: ({ children, ...props }: any) => <section {...props}>{children}</section>,\n  },\n  AnimatePresence: ({ children }: { children: React.ReactNode }) => <>{children}</>,\n}));\n\njest.mock('@heroicons/react/24/outline', () => {\n  const MockIcon = ({ className, ...props }: any) => (\n    <svg className={className} {...props} data-testid=\"mock-icon\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    </svg>\n  );\n\n  return {\n    CogIcon: MockIcon,\n    CheckIcon: MockIcon,\n    ExclamationTriangleIcon: MockIcon,\n    SwatchIcon: MockIcon,\n    BellIcon: MockIcon,\n    CodeBracketIcon: MockIcon,\n    ArrowPathIcon: MockIcon,\n    CheckCircleIcon: MockIcon,\n    XMarkIcon: MockIcon,\n  };\n});\n\njest.mock('@/utils/cn', () => ({\n  cn: (...classes: any[]) => classes.filter(Boolean).join(' '),\n}));\n\n// Test imports step by step\ndescribe('Debug Tests', () => {\n  test('basic test works', () => {\n    expect(1 + 1).toBe(2);\n  });\n\n  test('can render basic React component', () => {\n    const TestComponent = () => <div>Hello Test</div>;\n    render(<TestComponent />);\n    expect(screen.getByText('Hello Test')).toBeInTheDocument();\n  });\n\n  test('can import heroicons', async () => {\n    const { CogIcon } = await import('@heroicons/react/24/outline');\n    expect(CogIcon).toBeDefined();\n  });\n\n  test('can import framer-motion', async () => {\n    const { motion } = await import('framer-motion');\n    expect(motion).toBeDefined();\n  });\n\n  test('can import contexts with mock', () => {\n    // Mock the settings context\n    jest.doMock('@/contexts/SettingsContext', () => ({\n      useSettings: () => ({\n        settings: null,\n        loading: false,\n        error: null,\n        updateSettings: jest.fn(),\n        resetSettings: jest.fn(),\n        clearError: jest.fn(),\n      }),\n    }));\n    \n    expect(true).toBe(true); // If we get here, the mock worked\n  });\n\n  test('can import SettingsPage component', async () => {\n    const SettingsPageModule = await import('../page');\n    expect(SettingsPageModule.default).toBeDefined();\n  });\n\n  test('can render SettingsPage component', () => {\n    // Import after mocks are set up\n    const SettingsPage = require('../page').default;\n    \n    // Add console.log to see what's happening\n    const originalConsoleLog = console.log;\n    console.log = jest.fn();\n    \n    render(<SettingsPage />);\n    \n    // Check if our mock was called\n    expect(console.log).toHaveBeenCalledWith('Mock useSettings called');\n    \n    // Restore console.log\n    console.log = originalConsoleLog;\n    \n    // Debug: log the actual DOM\n    console.log('Rendered DOM:', document.body.innerHTML);\n    \n    expect(screen.getByText('Settings')).toBeInTheDocument();\n  });\n}); "],"names":["jest","mock","useSettings","console","log","settings","id","userId","notifications","emailNotifications","pushNotifications","deploymentAlerts","performanceAlerts","securityAlerts","display","theme","dashboardLayout","metricsTimeRange","compactView","integrations","githubEnabled","githubRepositories","slackEnabled","slackChannel","jiraEnabled","jiraProject","updatedAt","loading","error","updateSettings","fn","mockResolvedValue","undefined","resetSettings","clearError","withAuth","Component","GitHubRepoModal","ThemeSelector","div","data-testid","motion","children","props","button","section","AnimatePresence","MockIcon","className","svg","circle","cx","cy","r","CogIcon","CheckIcon","ExclamationTriangleIcon","SwatchIcon","BellIcon","CodeBracketIcon","ArrowPathIcon","CheckCircleIcon","XMarkIcon","cn","classes","filter","Boolean","join","describe","test","expect","toBe","TestComponent","render","screen","getByText","toBeInTheDocument","toBeDefined","doMock","SettingsPageModule","default","SettingsPage","require","originalConsoleLog","toHaveBeenCalledWith","document","body","innerHTML"],"mappings":"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"}