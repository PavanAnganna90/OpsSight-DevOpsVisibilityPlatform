1c125fe1b3441c9a7a955b43c9190428
/**
 * Permission Hooks
 * 
 * Custom hooks for common permission checking patterns
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useAdminPermissions: function() {
        return useAdminPermissions;
    },
    useFeaturePermissions: function() {
        return useFeaturePermissions;
    },
    useInfrastructurePermissions: function() {
        return useInfrastructurePermissions;
    },
    useNavigationPermissions: function() {
        return useNavigationPermissions;
    },
    usePermissionState: function() {
        return usePermissionState;
    },
    usePermissions: function() {
        return usePermissions;
    },
    useResourcePermissions: function() {
        return useResourcePermissions;
    },
    useTeamPermissions: function() {
        return useTeamPermissions;
    }
});
const _react = require("react");
const _AuthContext = require("../contexts/AuthContext");
function usePermissions() {
    const { hasPermission, hasRole, hasAnyRole, hasAnyPermission, canAccess, getUserPermissions, getUserRoles, isAdmin } = (0, _AuthContext.useAuth)();
    return {
        hasPermission,
        hasRole,
        hasAnyRole,
        hasAnyPermission,
        canAccess,
        getUserPermissions,
        getUserRoles,
        isAdmin
    };
}
function useResourcePermissions(resource, organizationId) {
    const { canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canView: canAccess(resource, 'view', organizationId),
            canCreate: canAccess(resource, 'create', organizationId),
            canUpdate: canAccess(resource, 'update', organizationId),
            canDelete: canAccess(resource, 'delete', organizationId),
            canManage: canAccess(resource, 'manage', organizationId)
        }), [
        canAccess,
        resource,
        organizationId
    ]);
}
function useAdminPermissions() {
    const { isAdmin, hasPermission, hasRole } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            isAdmin: isAdmin(),
            canManageUsers: hasPermission('manage_users'),
            canManageRoles: hasPermission('manage_roles'),
            canManagePermissions: hasPermission('manage_permissions'),
            canManageTeams: hasPermission('manage_teams'),
            canManageSystem: hasPermission('manage_system'),
            canViewAuditLogs: hasPermission('view_audit_logs'),
            isOrgOwner: hasRole('organization_owner'),
            isDevOpsAdmin: hasRole('devops_admin')
        }), [
        isAdmin,
        hasPermission,
        hasRole
    ]);
}
function useInfrastructurePermissions(organizationId) {
    const { hasPermission, canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewInfrastructure: canAccess('infrastructure', 'view', organizationId),
            canManageInfrastructure: canAccess('infrastructure', 'manage', organizationId),
            canManageClusters: hasPermission('manage_clusters', organizationId),
            canViewClusters: hasPermission('view_clusters', organizationId),
            canManageDeployments: hasPermission('manage_deployments', organizationId),
            canViewDeployments: hasPermission('view_deployments', organizationId),
            canManageMonitoring: hasPermission('manage_monitoring', organizationId),
            canViewMonitoring: hasPermission('view_monitoring', organizationId),
            canManagePipelines: hasPermission('manage_pipelines', organizationId),
            canViewPipelines: hasPermission('view_pipelines', organizationId)
        }), [
        hasPermission,
        canAccess,
        organizationId
    ]);
}
function useTeamPermissions(organizationId) {
    const { hasPermission, canAccess } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewTeams: canAccess('teams', 'view', organizationId),
            canCreateTeams: canAccess('teams', 'create', organizationId),
            canUpdateTeams: canAccess('teams', 'update', organizationId),
            canDeleteTeams: canAccess('teams', 'delete', organizationId),
            canManageTeamMembers: hasPermission('manage_team_members', organizationId),
            canViewTeamMembers: hasPermission('view_team_members', organizationId),
            canAssignRoles: hasPermission('assign_roles', organizationId)
        }), [
        hasPermission,
        canAccess,
        organizationId
    ]);
}
function useNavigationPermissions() {
    const { hasPermission, hasAnyRole, isAdmin } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canViewDashboard: hasPermission('view_dashboard'),
            canViewInfrastructure: hasPermission('view_infrastructure'),
            canViewPipelines: hasPermission('view_pipelines'),
            canViewTeams: hasPermission('view_teams'),
            canViewUsers: hasPermission('view_users'),
            canViewRoles: hasPermission('view_roles'),
            canViewSettings: hasPermission('view_settings'),
            canViewAdmin: isAdmin(),
            canViewMonitoring: hasPermission('view_monitoring'),
            canViewReports: hasPermission('view_reports'),
            canViewAuditLogs: hasPermission('view_audit_logs'),
            isManagerOrAbove: hasAnyRole([
                'manager',
                'devops_admin',
                'organization_owner',
                'super_admin'
            ]),
            isDevOpsRole: hasAnyRole([
                'devops_admin',
                'engineer',
                'organization_owner',
                'super_admin'
            ])
        }), [
        hasPermission,
        hasAnyRole,
        isAdmin
    ]);
}
function useFeaturePermissions() {
    const { hasPermission, hasRole } = (0, _AuthContext.useAuth)();
    return (0, _react.useMemo)(()=>({
            canUseCLI: hasPermission('api_access'),
            canUseAPI: hasPermission('api_access'),
            canUseWebhooks: hasPermission('webhook_management'),
            canViewCosts: hasPermission('view_cost_analysis'),
            canManageCosts: hasPermission('manage_cost_analysis'),
            canViewAlerts: hasPermission('view_alerts'),
            canManageAlerts: hasPermission('manage_alerts'),
            canViewNotifications: hasPermission('view_notifications'),
            canManageNotifications: hasPermission('manage_notifications'),
            canViewIntegrations: hasPermission('view_integrations'),
            canManageIntegrations: hasPermission('manage_integrations'),
            canExportData: hasPermission('export_data'),
            canImportData: hasPermission('import_data'),
            hasAPIOnlyAccess: hasRole('api_only')
        }), [
        hasPermission,
        hasRole
    ]);
}
function usePermissionState() {
    const auth = (0, _AuthContext.useAuth)();
    const adminPerms = useAdminPermissions();
    const navPerms = useNavigationPermissions();
    const featurePerms = useFeaturePermissions();
    return (0, _react.useMemo)(()=>({
            isAuthenticated: auth.state.isAuthenticated,
            user: auth.state.user,
            roles: auth.getUserRoles(),
            permissions: auth.getUserPermissions(),
            admin: adminPerms,
            navigation: navPerms,
            features: featurePerms,
            hasAnyAdminRole: adminPerms.isAdmin,
            hasAnyManagerRole: navPerms.isManagerOrAbove,
            hasAnyDevOpsRole: navPerms.isDevOpsRole
        }), [
        auth,
        adminPerms,
        navPerms,
        featurePerms
    ]);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvaG9va3MvdXNlUGVybWlzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQZXJtaXNzaW9uIEhvb2tzXG4gKiBcbiAqIEN1c3RvbSBob29rcyBmb3IgY29tbW9uIHBlcm1pc3Npb24gY2hlY2tpbmcgcGF0dGVybnNcbiAqL1xuXG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIG11bHRpcGxlIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQZXJtaXNzaW9ucygpIHtcbiAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCBoYXNSb2xlLCBoYXNBbnlSb2xlLCBoYXNBbnlQZXJtaXNzaW9uLCBjYW5BY2Nlc3MsIGdldFVzZXJQZXJtaXNzaW9ucywgZ2V0VXNlclJvbGVzLCBpc0FkbWluIH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoYXNQZXJtaXNzaW9uLFxuICAgIGhhc1JvbGUsXG4gICAgaGFzQW55Um9sZSxcbiAgICBoYXNBbnlQZXJtaXNzaW9uLFxuICAgIGNhbkFjY2VzcyxcbiAgICBnZXRVc2VyUGVybWlzc2lvbnMsXG4gICAgZ2V0VXNlclJvbGVzLFxuICAgIGlzQWRtaW4sXG4gIH07XG59XG5cbi8qKlxuICogSG9vayBmb3IgY2hlY2tpbmcgaWYgdXNlciBjYW4gcGVyZm9ybSBDUlVEIG9wZXJhdGlvbnMgb24gYSByZXNvdXJjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzb3VyY2VQZXJtaXNzaW9ucyhyZXNvdXJjZTogc3RyaW5nLCBvcmdhbml6YXRpb25JZD86IHN0cmluZykge1xuICBjb25zdCB7IGNhbkFjY2VzcyB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlldzogY2FuQWNjZXNzKHJlc291cmNlLCAndmlldycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5DcmVhdGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ2NyZWF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5VcGRhdGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ3VwZGF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5EZWxldGU6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ2RlbGV0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2U6IGNhbkFjY2VzcyhyZXNvdXJjZSwgJ21hbmFnZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgfSksIFtjYW5BY2Nlc3MsIHJlc291cmNlLCBvcmdhbml6YXRpb25JZF0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIGFkbWluIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBZG1pblBlcm1pc3Npb25zKCkge1xuICBjb25zdCB7IGlzQWRtaW4sIGhhc1Blcm1pc3Npb24sIGhhc1JvbGUgfSA9IHVzZUF1dGgoKTtcblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgIGlzQWRtaW46IGlzQWRtaW4oKSxcbiAgICBjYW5NYW5hZ2VVc2VyczogaGFzUGVybWlzc2lvbignbWFuYWdlX3VzZXJzJyksXG4gICAgY2FuTWFuYWdlUm9sZXM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9yb2xlcycpLFxuICAgIGNhbk1hbmFnZVBlcm1pc3Npb25zOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2VfcGVybWlzc2lvbnMnKSxcbiAgICBjYW5NYW5hZ2VUZWFtczogaGFzUGVybWlzc2lvbignbWFuYWdlX3RlYW1zJyksXG4gICAgY2FuTWFuYWdlU3lzdGVtOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2Vfc3lzdGVtJyksXG4gICAgY2FuVmlld0F1ZGl0TG9nczogaGFzUGVybWlzc2lvbigndmlld19hdWRpdF9sb2dzJyksXG4gICAgaXNPcmdPd25lcjogaGFzUm9sZSgnb3JnYW5pemF0aW9uX293bmVyJyksXG4gICAgaXNEZXZPcHNBZG1pbjogaGFzUm9sZSgnZGV2b3BzX2FkbWluJyksXG4gIH0pLCBbaXNBZG1pbiwgaGFzUGVybWlzc2lvbiwgaGFzUm9sZV0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIGluZnJhc3RydWN0dXJlIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VJbmZyYXN0cnVjdHVyZVBlcm1pc3Npb25zKG9yZ2FuaXphdGlvbklkPzogc3RyaW5nKSB7XG4gIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgY2FuQWNjZXNzIH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICBjYW5WaWV3SW5mcmFzdHJ1Y3R1cmU6IGNhbkFjY2VzcygnaW5mcmFzdHJ1Y3R1cmUnLCAndmlldycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2VJbmZyYXN0cnVjdHVyZTogY2FuQWNjZXNzKCdpbmZyYXN0cnVjdHVyZScsICdtYW5hZ2UnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlQ2x1c3RlcnM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9jbHVzdGVycycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5WaWV3Q2x1c3RlcnM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfY2x1c3RlcnMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlRGVwbG95bWVudHM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9kZXBsb3ltZW50cycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5WaWV3RGVwbG95bWVudHM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfZGVwbG95bWVudHMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlTW9uaXRvcmluZzogaGFzUGVybWlzc2lvbignbWFuYWdlX21vbml0b3JpbmcnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld01vbml0b3Jpbmc6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfbW9uaXRvcmluZycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5NYW5hZ2VQaXBlbGluZXM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV9waXBlbGluZXMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld1BpcGVsaW5lczogaGFzUGVybWlzc2lvbigndmlld19waXBlbGluZXMnLCBvcmdhbml6YXRpb25JZCksXG4gIH0pLCBbaGFzUGVybWlzc2lvbiwgY2FuQWNjZXNzLCBvcmdhbml6YXRpb25JZF0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIGNoZWNraW5nIHRlYW0gcGVybWlzc2lvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRlYW1QZXJtaXNzaW9ucyhvcmdhbml6YXRpb25JZD86IHN0cmluZykge1xuICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIGNhbkFjY2VzcyB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlld1RlYW1zOiBjYW5BY2Nlc3MoJ3RlYW1zJywgJ3ZpZXcnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuQ3JlYXRlVGVhbXM6IGNhbkFjY2VzcygndGVhbXMnLCAnY3JlYXRlJywgb3JnYW5pemF0aW9uSWQpLFxuICAgIGNhblVwZGF0ZVRlYW1zOiBjYW5BY2Nlc3MoJ3RlYW1zJywgJ3VwZGF0ZScsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5EZWxldGVUZWFtczogY2FuQWNjZXNzKCd0ZWFtcycsICdkZWxldGUnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuTWFuYWdlVGVhbU1lbWJlcnM6IGhhc1Blcm1pc3Npb24oJ21hbmFnZV90ZWFtX21lbWJlcnMnLCBvcmdhbml6YXRpb25JZCksXG4gICAgY2FuVmlld1RlYW1NZW1iZXJzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X3RlYW1fbWVtYmVycycsIG9yZ2FuaXphdGlvbklkKSxcbiAgICBjYW5Bc3NpZ25Sb2xlczogaGFzUGVybWlzc2lvbignYXNzaWduX3JvbGVzJywgb3JnYW5pemF0aW9uSWQpLFxuICB9KSwgW2hhc1Blcm1pc3Npb24sIGNhbkFjY2Vzcywgb3JnYW5pemF0aW9uSWRdKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciBjaGVja2luZyBuYXZpZ2F0aW9uIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VOYXZpZ2F0aW9uUGVybWlzc2lvbnMoKSB7XG4gIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgaGFzQW55Um9sZSwgaXNBZG1pbiB9ID0gdXNlQXV0aCgpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2FuVmlld0Rhc2hib2FyZDogaGFzUGVybWlzc2lvbigndmlld19kYXNoYm9hcmQnKSxcbiAgICBjYW5WaWV3SW5mcmFzdHJ1Y3R1cmU6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfaW5mcmFzdHJ1Y3R1cmUnKSxcbiAgICBjYW5WaWV3UGlwZWxpbmVzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X3BpcGVsaW5lcycpLFxuICAgIGNhblZpZXdUZWFtczogaGFzUGVybWlzc2lvbigndmlld190ZWFtcycpLFxuICAgIGNhblZpZXdVc2VyczogaGFzUGVybWlzc2lvbigndmlld191c2VycycpLFxuICAgIGNhblZpZXdSb2xlczogaGFzUGVybWlzc2lvbigndmlld19yb2xlcycpLFxuICAgIGNhblZpZXdTZXR0aW5nczogaGFzUGVybWlzc2lvbigndmlld19zZXR0aW5ncycpLFxuICAgIGNhblZpZXdBZG1pbjogaXNBZG1pbigpLFxuICAgIGNhblZpZXdNb25pdG9yaW5nOiBoYXNQZXJtaXNzaW9uKCd2aWV3X21vbml0b3JpbmcnKSxcbiAgICBjYW5WaWV3UmVwb3J0czogaGFzUGVybWlzc2lvbigndmlld19yZXBvcnRzJyksXG4gICAgY2FuVmlld0F1ZGl0TG9nczogaGFzUGVybWlzc2lvbigndmlld19hdWRpdF9sb2dzJyksXG4gICAgaXNNYW5hZ2VyT3JBYm92ZTogaGFzQW55Um9sZShbJ21hbmFnZXInLCAnZGV2b3BzX2FkbWluJywgJ29yZ2FuaXphdGlvbl9vd25lcicsICdzdXBlcl9hZG1pbiddKSxcbiAgICBpc0Rldk9wc1JvbGU6IGhhc0FueVJvbGUoWydkZXZvcHNfYWRtaW4nLCAnZW5naW5lZXInLCAnb3JnYW5pemF0aW9uX293bmVyJywgJ3N1cGVyX2FkbWluJ10pLFxuICB9KSwgW2hhc1Blcm1pc3Npb24sIGhhc0FueVJvbGUsIGlzQWRtaW5dKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciBjaGVja2luZyBpZiB1c2VyIGNhbiBhY2Nlc3Mgc3BlY2lmaWMgZmVhdHVyZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUZlYXR1cmVQZXJtaXNzaW9ucygpIHtcbiAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCBoYXNSb2xlIH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICBjYW5Vc2VDTEk6IGhhc1Blcm1pc3Npb24oJ2FwaV9hY2Nlc3MnKSxcbiAgICBjYW5Vc2VBUEk6IGhhc1Blcm1pc3Npb24oJ2FwaV9hY2Nlc3MnKSxcbiAgICBjYW5Vc2VXZWJob29rczogaGFzUGVybWlzc2lvbignd2ViaG9va19tYW5hZ2VtZW50JyksXG4gICAgY2FuVmlld0Nvc3RzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X2Nvc3RfYW5hbHlzaXMnKSxcbiAgICBjYW5NYW5hZ2VDb3N0czogaGFzUGVybWlzc2lvbignbWFuYWdlX2Nvc3RfYW5hbHlzaXMnKSxcbiAgICBjYW5WaWV3QWxlcnRzOiBoYXNQZXJtaXNzaW9uKCd2aWV3X2FsZXJ0cycpLFxuICAgIGNhbk1hbmFnZUFsZXJ0czogaGFzUGVybWlzc2lvbignbWFuYWdlX2FsZXJ0cycpLFxuICAgIGNhblZpZXdOb3RpZmljYXRpb25zOiBoYXNQZXJtaXNzaW9uKCd2aWV3X25vdGlmaWNhdGlvbnMnKSxcbiAgICBjYW5NYW5hZ2VOb3RpZmljYXRpb25zOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2Vfbm90aWZpY2F0aW9ucycpLFxuICAgIGNhblZpZXdJbnRlZ3JhdGlvbnM6IGhhc1Blcm1pc3Npb24oJ3ZpZXdfaW50ZWdyYXRpb25zJyksXG4gICAgY2FuTWFuYWdlSW50ZWdyYXRpb25zOiBoYXNQZXJtaXNzaW9uKCdtYW5hZ2VfaW50ZWdyYXRpb25zJyksXG4gICAgY2FuRXhwb3J0RGF0YTogaGFzUGVybWlzc2lvbignZXhwb3J0X2RhdGEnKSxcbiAgICBjYW5JbXBvcnREYXRhOiBoYXNQZXJtaXNzaW9uKCdpbXBvcnRfZGF0YScpLFxuICAgIGhhc0FQSU9ubHlBY2Nlc3M6IGhhc1JvbGUoJ2FwaV9vbmx5JyksXG4gIH0pLCBbaGFzUGVybWlzc2lvbiwgaGFzUm9sZV0pO1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIHBlcm1pc3Npb24tYmFzZWQgVUkgc3RhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBlcm1pc3Npb25TdGF0ZSgpIHtcbiAgY29uc3QgYXV0aCA9IHVzZUF1dGgoKTtcbiAgY29uc3QgYWRtaW5QZXJtcyA9IHVzZUFkbWluUGVybWlzc2lvbnMoKTtcbiAgY29uc3QgbmF2UGVybXMgPSB1c2VOYXZpZ2F0aW9uUGVybWlzc2lvbnMoKTtcbiAgY29uc3QgZmVhdHVyZVBlcm1zID0gdXNlRmVhdHVyZVBlcm1pc3Npb25zKCk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGF1dGguc3RhdGUuaXNBdXRoZW50aWNhdGVkLFxuICAgIHVzZXI6IGF1dGguc3RhdGUudXNlcixcbiAgICByb2xlczogYXV0aC5nZXRVc2VyUm9sZXMoKSxcbiAgICBwZXJtaXNzaW9uczogYXV0aC5nZXRVc2VyUGVybWlzc2lvbnMoKSxcbiAgICBhZG1pbjogYWRtaW5QZXJtcyxcbiAgICBuYXZpZ2F0aW9uOiBuYXZQZXJtcyxcbiAgICBmZWF0dXJlczogZmVhdHVyZVBlcm1zLFxuICAgIGhhc0FueUFkbWluUm9sZTogYWRtaW5QZXJtcy5pc0FkbWluLFxuICAgIGhhc0FueU1hbmFnZXJSb2xlOiBuYXZQZXJtcy5pc01hbmFnZXJPckFib3ZlLFxuICAgIGhhc0FueURldk9wc1JvbGU6IG5hdlBlcm1zLmlzRGV2T3BzUm9sZSxcbiAgfSksIFthdXRoLCBhZG1pblBlcm1zLCBuYXZQZXJtcywgZmVhdHVyZVBlcm1zXSk7XG59Il0sIm5hbWVzIjpbInVzZUFkbWluUGVybWlzc2lvbnMiLCJ1c2VGZWF0dXJlUGVybWlzc2lvbnMiLCJ1c2VJbmZyYXN0cnVjdHVyZVBlcm1pc3Npb25zIiwidXNlTmF2aWdhdGlvblBlcm1pc3Npb25zIiwidXNlUGVybWlzc2lvblN0YXRlIiwidXNlUGVybWlzc2lvbnMiLCJ1c2VSZXNvdXJjZVBlcm1pc3Npb25zIiwidXNlVGVhbVBlcm1pc3Npb25zIiwiaGFzUGVybWlzc2lvbiIsImhhc1JvbGUiLCJoYXNBbnlSb2xlIiwiaGFzQW55UGVybWlzc2lvbiIsImNhbkFjY2VzcyIsImdldFVzZXJQZXJtaXNzaW9ucyIsImdldFVzZXJSb2xlcyIsImlzQWRtaW4iLCJ1c2VBdXRoIiwicmVzb3VyY2UiLCJvcmdhbml6YXRpb25JZCIsInVzZU1lbW8iLCJjYW5WaWV3IiwiY2FuQ3JlYXRlIiwiY2FuVXBkYXRlIiwiY2FuRGVsZXRlIiwiY2FuTWFuYWdlIiwiY2FuTWFuYWdlVXNlcnMiLCJjYW5NYW5hZ2VSb2xlcyIsImNhbk1hbmFnZVBlcm1pc3Npb25zIiwiY2FuTWFuYWdlVGVhbXMiLCJjYW5NYW5hZ2VTeXN0ZW0iLCJjYW5WaWV3QXVkaXRMb2dzIiwiaXNPcmdPd25lciIsImlzRGV2T3BzQWRtaW4iLCJjYW5WaWV3SW5mcmFzdHJ1Y3R1cmUiLCJjYW5NYW5hZ2VJbmZyYXN0cnVjdHVyZSIsImNhbk1hbmFnZUNsdXN0ZXJzIiwiY2FuVmlld0NsdXN0ZXJzIiwiY2FuTWFuYWdlRGVwbG95bWVudHMiLCJjYW5WaWV3RGVwbG95bWVudHMiLCJjYW5NYW5hZ2VNb25pdG9yaW5nIiwiY2FuVmlld01vbml0b3JpbmciLCJjYW5NYW5hZ2VQaXBlbGluZXMiLCJjYW5WaWV3UGlwZWxpbmVzIiwiY2FuVmlld1RlYW1zIiwiY2FuQ3JlYXRlVGVhbXMiLCJjYW5VcGRhdGVUZWFtcyIsImNhbkRlbGV0ZVRlYW1zIiwiY2FuTWFuYWdlVGVhbU1lbWJlcnMiLCJjYW5WaWV3VGVhbU1lbWJlcnMiLCJjYW5Bc3NpZ25Sb2xlcyIsImNhblZpZXdEYXNoYm9hcmQiLCJjYW5WaWV3VXNlcnMiLCJjYW5WaWV3Um9sZXMiLCJjYW5WaWV3U2V0dGluZ3MiLCJjYW5WaWV3QWRtaW4iLCJjYW5WaWV3UmVwb3J0cyIsImlzTWFuYWdlck9yQWJvdmUiLCJpc0Rldk9wc1JvbGUiLCJjYW5Vc2VDTEkiLCJjYW5Vc2VBUEkiLCJjYW5Vc2VXZWJob29rcyIsImNhblZpZXdDb3N0cyIsImNhbk1hbmFnZUNvc3RzIiwiY2FuVmlld0FsZXJ0cyIsImNhbk1hbmFnZUFsZXJ0cyIsImNhblZpZXdOb3RpZmljYXRpb25zIiwiY2FuTWFuYWdlTm90aWZpY2F0aW9ucyIsImNhblZpZXdJbnRlZ3JhdGlvbnMiLCJjYW5NYW5hZ2VJbnRlZ3JhdGlvbnMiLCJjYW5FeHBvcnREYXRhIiwiY2FuSW1wb3J0RGF0YSIsImhhc0FQSU9ubHlBY2Nlc3MiLCJhdXRoIiwiYWRtaW5QZXJtcyIsIm5hdlBlcm1zIiwiZmVhdHVyZVBlcm1zIiwiaXNBdXRoZW50aWNhdGVkIiwic3RhdGUiLCJ1c2VyIiwicm9sZXMiLCJwZXJtaXNzaW9ucyIsImFkbWluIiwibmF2aWdhdGlvbiIsImZlYXR1cmVzIiwiaGFzQW55QWRtaW5Sb2xlIiwiaGFzQW55TWFuYWdlclJvbGUiLCJoYXNBbnlEZXZPcHNSb2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztJQXlDZUEsbUJBQW1CO2VBQW5CQTs7SUErRUFDLHFCQUFxQjtlQUFyQkE7O0lBNURBQyw0QkFBNEI7ZUFBNUJBOztJQXFDQUMsd0JBQXdCO2VBQXhCQTs7SUErQ0FDLGtCQUFrQjtlQUFsQkE7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