39e5b6cb098a7340d9ec4a577aee783f
/**
 * Git Activity Service
 * 
 * API service for Git activity data, heatmaps, and analytics.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    GitActivityService: function() {
        return GitActivityService;
    },
    calculateActivityLevel: function() {
        return calculateActivityLevel;
    },
    default: function() {
        return _default;
    },
    fillMissingDates: function() {
        return fillMissingDates;
    },
    processHeatmapData: function() {
        return processHeatmapData;
    }
});
const _axios = /*#__PURE__*/ _interop_require_default(require("axios"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// API base URL - should be configured based on environment
const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api/v1';
/**
 * Git Activity API Service Implementation
 */ class GitActivityService {
    constructor(baseURL){
        this.baseURL = baseURL || API_BASE_URL;
    }
    /**
   * Get comprehensive Git activity data for a repository
   */ async getRepositoryActivity(request) {
        try {
            const params = {
                provider: request.provider,
                days_back: request.days_back,
                use_cache: request.use_cache,
                force_refresh: request.force_refresh
            };
            const response = await _axios.default.get(`${this.baseURL}/git/activity/${request.owner}/${request.repo}`, {
                params
            });
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch repository activity');
        }
    }
    /**
   * Get activity heatmap data for a repository
   */ async getRepositoryHeatmap(owner, repo, daysBack = 365) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/heatmap/${owner}/${repo}`, {
                params: {
                    days_back: daysBack
                }
            });
            return response.data.heatmap;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch repository heatmap');
        }
    }
    /**
   * Get repository metrics
   */ async getRepositoryMetrics(owner, repo) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/metrics/${owner}/${repo}`);
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch repository metrics');
        }
    }
    /**
   * Get repository contributors
   */ async getRepositoryContributors(owner, repo) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/contributors/${owner}/${repo}`);
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch repository contributors');
        }
    }
    /**
   * Get velocity trends
   */ async getVelocityTrends(owner, repo) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/velocity/${owner}/${repo}`);
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch velocity trends');
        }
    }
    /**
   * Invalidate cache for a repository
   */ async invalidateCache(owner, repo) {
        try {
            await _axios.default.delete(`${this.baseURL}/git/cache/${owner}/${repo}`);
        } catch (error) {
            throw this.handleError(error, 'Failed to invalidate cache');
        }
    }
    /**
   * Get cache statistics
   */ async getCacheStats() {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/cache/stats`);
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch cache stats');
        }
    }
    /**
   * Warm cache for multiple repositories
   */ async warmCache(repositories) {
        try {
            await _axios.default.post(`${this.baseURL}/git/cache/warm`, {
                repositories
            });
        } catch (error) {
            throw this.handleError(error, 'Failed to warm cache');
        }
    }
    /**
   * Cleanup expired cache entries
   */ async cleanupCache() {
        try {
            await _axios.default.post(`${this.baseURL}/git/cache/cleanup`);
        } catch (error) {
            throw this.handleError(error, 'Failed to cleanup cache');
        }
    }
    /**
   * Search repositories by organization
   */ async searchRepositories(query, provider = 'github') {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/search`, {
                params: {
                    query,
                    provider
                }
            });
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to search repositories');
        }
    }
    /**
   * Get webhook configuration status
   */ async getWebhookStatus(owner, repo) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/webhooks/status/${owner}/${repo}`);
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to fetch webhook status');
        }
    }
    /**
   * Configure webhook for real-time updates
   */ async configureWebhook(owner, repo, provider) {
        try {
            const response = await _axios.default.post(`${this.baseURL}/webhooks/configure`, {
                owner,
                repo,
                provider
            });
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to configure webhook');
        }
    }
    /**
   * Export activity data in various formats
   */ async exportActivity(owner, repo, format, options) {
        try {
            const response = await _axios.default.get(`${this.baseURL}/git/export/${owner}/${repo}`, {
                params: {
                    format,
                    ...options
                },
                responseType: 'blob'
            });
            return response.data;
        } catch (error) {
            throw this.handleError(error, 'Failed to export activity data');
        }
    }
    /**
   * Handle API errors and convert to GitActivityError
   */ handleError(error, message) {
        const gitError = {
            type: 'network',
            message,
            timestamp: new Date().toISOString()
        };
        if (_axios.default.isAxiosError(error)) {
            if (error.response) {
                // Server responded with error status
                gitError.type = this.getErrorType(error.response.status);
                gitError.message = error.response.data?.message || error.response.data?.detail || message;
                gitError.details = error.response.data;
            } else if (error.request) {
                // Request made but no response
                gitError.type = 'network';
                gitError.message = 'Network error: No response from server';
            } else {
                // Something else happened
                gitError.type = 'network';
                gitError.message = error.message || message;
            }
        } else {
            gitError.details = error;
        }
        return gitError;
    }
    /**
   * Determine error type based on HTTP status code
   */ getErrorType(status) {
        if (status === 401 || status === 403) return 'auth';
        if (status === 400 || status === 422) return 'validation';
        if (status >= 500) return 'server';
        return 'network';
    }
}
// Create and export singleton instance
const gitActivityService = new GitActivityService();
const _default = gitActivityService;
const processHeatmapData = (data)=>{
    // Sort by date
    return data.sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());
};
const fillMissingDates = (data, startDate, endDate)=>{
    const filled = [];
    const dataMap = new Map(data.map((item)=>[
            item.date,
            item
        ]));
    const currentDate = new Date(startDate);
    while(currentDate <= endDate){
        const dateStr = currentDate.toISOString().split('T')[0];
        if (dataMap.has(dateStr)) {
            filled.push(dataMap.get(dateStr));
        } else {
            // Fill missing date with zero activity
            filled.push({
                date: dateStr,
                activity_count: 0,
                commit_count: 0,
                pr_count: 0,
                contributor_count: 0,
                lines_added: 0,
                lines_deleted: 0,
                files_changed: 0,
                activity_types: []
            });
        }
        currentDate.setDate(currentDate.getDate() + 1);
    }
    return filled;
};
const calculateActivityLevel = (activityCount, maxActivity)=>{
    if (activityCount === 0) return 0;
    if (maxActivity === 0) return 1;
    const ratio = activityCount / maxActivity;
    if (ratio <= 0.25) return 1;
    if (ratio <= 0.5) return 2;
    if (ratio <= 0.75) return 3;
    return 4;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvc2VydmljZXMvZ2l0QWN0aXZpdHlTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2l0IEFjdGl2aXR5IFNlcnZpY2VcbiAqIFxuICogQVBJIHNlcnZpY2UgZm9yIEdpdCBhY3Rpdml0eSBkYXRhLCBoZWF0bWFwcywgYW5kIGFuYWx5dGljcy5cbiAqL1xuXG5pbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7XG4gIEdpdEFjdGl2aXR5UmVxdWVzdCxcbiAgR2l0QWN0aXZpdHlSZXNwb25zZSxcbiAgQWN0aXZpdHlIZWF0bWFwRGF0YSxcbiAgR2l0QWN0aXZpdHlFcnJvcixcbiAgR2l0QWN0aXZpdHlBcGlTZXJ2aWNlXG59IGZyb20gJy4uL3R5cGVzL2dpdC1hY3Rpdml0eSc7XG5cbi8vIEFQSSBiYXNlIFVSTCAtIHNob3VsZCBiZSBjb25maWd1cmVkIGJhc2VkIG9uIGVudmlyb25tZW50XG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3YxJztcblxuLyoqXG4gKiBHaXQgQWN0aXZpdHkgQVBJIFNlcnZpY2UgSW1wbGVtZW50YXRpb25cbiAqL1xuY2xhc3MgR2l0QWN0aXZpdHlTZXJ2aWNlIGltcGxlbWVudHMgR2l0QWN0aXZpdHlBcGlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBiYXNlVVJMOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYmFzZVVSTD86IHN0cmluZykge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkwgfHwgQVBJX0JBU0VfVVJMO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb21wcmVoZW5zaXZlIEdpdCBhY3Rpdml0eSBkYXRhIGZvciBhIHJlcG9zaXRvcnlcbiAgICovXG4gIGFzeW5jIGdldFJlcG9zaXRvcnlBY3Rpdml0eShyZXF1ZXN0OiBHaXRBY3Rpdml0eVJlcXVlc3QpOiBQcm9taXNlPEdpdEFjdGl2aXR5UmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBwcm92aWRlcjogcmVxdWVzdC5wcm92aWRlcixcbiAgICAgICAgZGF5c19iYWNrOiByZXF1ZXN0LmRheXNfYmFjayxcbiAgICAgICAgdXNlX2NhY2hlOiByZXF1ZXN0LnVzZV9jYWNoZSxcbiAgICAgICAgZm9yY2VfcmVmcmVzaDogcmVxdWVzdC5mb3JjZV9yZWZyZXNoXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxHaXRBY3Rpdml0eVJlc3BvbnNlPiA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgYCR7dGhpcy5iYXNlVVJMfS9naXQvYWN0aXZpdHkvJHtyZXF1ZXN0Lm93bmVyfS8ke3JlcXVlc3QucmVwb31gLFxuICAgICAgICB7IHBhcmFtcyB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgJ0ZhaWxlZCB0byBmZXRjaCByZXBvc2l0b3J5IGFjdGl2aXR5Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhY3Rpdml0eSBoZWF0bWFwIGRhdGEgZm9yIGEgcmVwb3NpdG9yeVxuICAgKi9cbiAgYXN5bmMgZ2V0UmVwb3NpdG9yeUhlYXRtYXAoXG4gICAgb3duZXI6IHN0cmluZywgXG4gICAgcmVwbzogc3RyaW5nLCBcbiAgICBkYXlzQmFjazogbnVtYmVyID0gMzY1XG4gICk6IFByb21pc2U8QWN0aXZpdHlIZWF0bWFwRGF0YVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPHsgaGVhdG1hcDogQWN0aXZpdHlIZWF0bWFwRGF0YVtdIH0+ID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L2dpdC9oZWF0bWFwLyR7b3duZXJ9LyR7cmVwb31gLFxuICAgICAgICB7IFxuICAgICAgICAgIHBhcmFtczogeyBkYXlzX2JhY2s6IGRheXNCYWNrIH1cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuaGVhdG1hcDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgJ0ZhaWxlZCB0byBmZXRjaCByZXBvc2l0b3J5IGhlYXRtYXAnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlcG9zaXRvcnkgbWV0cmljc1xuICAgKi9cbiAgYXN5bmMgZ2V0UmVwb3NpdG9yeU1ldHJpY3Mob3duZXI6IHN0cmluZywgcmVwbzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8YW55PiA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgYCR7dGhpcy5iYXNlVVJMfS9naXQvbWV0cmljcy8ke293bmVyfS8ke3JlcG99YFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gZmV0Y2ggcmVwb3NpdG9yeSBtZXRyaWNzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZXBvc2l0b3J5IGNvbnRyaWJ1dG9yc1xuICAgKi9cbiAgYXN5bmMgZ2V0UmVwb3NpdG9yeUNvbnRyaWJ1dG9ycyhvd25lcjogc3RyaW5nLCByZXBvOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxhbnk+ID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L2dpdC9jb250cmlidXRvcnMvJHtvd25lcn0vJHtyZXBvfWBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCAnRmFpbGVkIHRvIGZldGNoIHJlcG9zaXRvcnkgY29udHJpYnV0b3JzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2ZWxvY2l0eSB0cmVuZHNcbiAgICovXG4gIGFzeW5jIGdldFZlbG9jaXR5VHJlbmRzKG93bmVyOiBzdHJpbmcsIHJlcG86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGAke3RoaXMuYmFzZVVSTH0vZ2l0L3ZlbG9jaXR5LyR7b3duZXJ9LyR7cmVwb31gXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgJ0ZhaWxlZCB0byBmZXRjaCB2ZWxvY2l0eSB0cmVuZHMnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52YWxpZGF0ZSBjYWNoZSBmb3IgYSByZXBvc2l0b3J5XG4gICAqL1xuICBhc3luYyBpbnZhbGlkYXRlQ2FjaGUob3duZXI6IHN0cmluZywgcmVwbzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShgJHt0aGlzLmJhc2VVUkx9L2dpdC9jYWNoZS8ke293bmVyfS8ke3JlcG99YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gaW52YWxpZGF0ZSBjYWNoZScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xuICAgKi9cbiAgYXN5bmMgZ2V0Q2FjaGVTdGF0cygpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxhbnk+ID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L2dpdC9jYWNoZS9zdGF0c2BcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCAnRmFpbGVkIHRvIGZldGNoIGNhY2hlIHN0YXRzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdhcm0gY2FjaGUgZm9yIG11bHRpcGxlIHJlcG9zaXRvcmllc1xuICAgKi9cbiAgYXN5bmMgd2FybUNhY2hlKHJlcG9zaXRvcmllczogQXJyYXk8eyBvd25lcjogc3RyaW5nOyByZXBvOiBzdHJpbmcgfT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHt0aGlzLmJhc2VVUkx9L2dpdC9jYWNoZS93YXJtYCwgeyByZXBvc2l0b3JpZXMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gd2FybSBjYWNoZScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbnVwIGV4cGlyZWQgY2FjaGUgZW50cmllc1xuICAgKi9cbiAgYXN5bmMgY2xlYW51cENhY2hlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBheGlvcy5wb3N0KGAke3RoaXMuYmFzZVVSTH0vZ2l0L2NhY2hlL2NsZWFudXBgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgJ0ZhaWxlZCB0byBjbGVhbnVwIGNhY2hlJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCByZXBvc2l0b3JpZXMgYnkgb3JnYW5pemF0aW9uXG4gICAqL1xuICBhc3luYyBzZWFyY2hSZXBvc2l0b3JpZXMocXVlcnk6IHN0cmluZywgcHJvdmlkZXI6ICdnaXRodWInIHwgJ2dpdGxhYicgPSAnZ2l0aHViJyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGAke3RoaXMuYmFzZVVSTH0vZ2l0L3NlYXJjaGAsXG4gICAgICAgIHsgXG4gICAgICAgICAgcGFyYW1zOiB7IHF1ZXJ5LCBwcm92aWRlciB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCAnRmFpbGVkIHRvIHNlYXJjaCByZXBvc2l0b3JpZXMnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHdlYmhvb2sgY29uZmlndXJhdGlvbiBzdGF0dXNcbiAgICovXG4gIGFzeW5jIGdldFdlYmhvb2tTdGF0dXMob3duZXI6IHN0cmluZywgcmVwbzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8YW55PiA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgYCR7dGhpcy5iYXNlVVJMfS93ZWJob29rcy9zdGF0dXMvJHtvd25lcn0vJHtyZXBvfWBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCAnRmFpbGVkIHRvIGZldGNoIHdlYmhvb2sgc3RhdHVzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB3ZWJob29rIGZvciByZWFsLXRpbWUgdXBkYXRlc1xuICAgKi9cbiAgYXN5bmMgY29uZmlndXJlV2ViaG9vayhcbiAgICBvd25lcjogc3RyaW5nLCBcbiAgICByZXBvOiBzdHJpbmcsIFxuICAgIHByb3ZpZGVyOiAnZ2l0aHViJyB8ICdnaXRsYWInXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L3dlYmhvb2tzL2NvbmZpZ3VyZWAsXG4gICAgICAgIHsgb3duZXIsIHJlcG8sIHByb3ZpZGVyIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCAnRmFpbGVkIHRvIGNvbmZpZ3VyZSB3ZWJob29rJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9ydCBhY3Rpdml0eSBkYXRhIGluIHZhcmlvdXMgZm9ybWF0c1xuICAgKi9cbiAgYXN5bmMgZXhwb3J0QWN0aXZpdHkoXG4gICAgb3duZXI6IHN0cmluZyxcbiAgICByZXBvOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAnY3N2JyB8ICdqc29uJyB8ICdwZGYnLFxuICAgIG9wdGlvbnM/OiBhbnlcbiAgKTogUHJvbWlzZTxCbG9iPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEJsb2I+ID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L2dpdC9leHBvcnQvJHtvd25lcn0vJHtyZXBvfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBwYXJhbXM6IHsgZm9ybWF0LCAuLi5vcHRpb25zIH0sXG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYidcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsICdGYWlsZWQgdG8gZXhwb3J0IGFjdGl2aXR5IGRhdGEnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIEFQSSBlcnJvcnMgYW5kIGNvbnZlcnQgdG8gR2l0QWN0aXZpdHlFcnJvclxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogYW55LCBtZXNzYWdlOiBzdHJpbmcpOiBHaXRBY3Rpdml0eUVycm9yIHtcbiAgICBjb25zdCBnaXRFcnJvcjogR2l0QWN0aXZpdHlFcnJvciA9IHtcbiAgICAgIHR5cGU6ICduZXR3b3JrJyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG5cbiAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgIC8vIFNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBzdGF0dXNcbiAgICAgICAgZ2l0RXJyb3IudHlwZSA9IHRoaXMuZ2V0RXJyb3JUeXBlKGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGdpdEVycm9yLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhPy5tZXNzYWdlIHx8IGVycm9yLnJlc3BvbnNlLmRhdGE/LmRldGFpbCB8fCBtZXNzYWdlO1xuICAgICAgICBnaXRFcnJvci5kZXRhaWxzID0gZXJyb3IucmVzcG9uc2UuZGF0YTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICAvLyBSZXF1ZXN0IG1hZGUgYnV0IG5vIHJlc3BvbnNlXG4gICAgICAgIGdpdEVycm9yLnR5cGUgPSAnbmV0d29yayc7XG4gICAgICAgIGdpdEVycm9yLm1lc3NhZ2UgPSAnTmV0d29yayBlcnJvcjogTm8gcmVzcG9uc2UgZnJvbSBzZXJ2ZXInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU29tZXRoaW5nIGVsc2UgaGFwcGVuZWRcbiAgICAgICAgZ2l0RXJyb3IudHlwZSA9ICduZXR3b3JrJztcbiAgICAgICAgZ2l0RXJyb3IubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgbWVzc2FnZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2l0RXJyb3IuZGV0YWlscyA9IGVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBnaXRFcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgZXJyb3IgdHlwZSBiYXNlZCBvbiBIVFRQIHN0YXR1cyBjb2RlXG4gICAqL1xuICBwcml2YXRlIGdldEVycm9yVHlwZShzdGF0dXM6IG51bWJlcik6IEdpdEFjdGl2aXR5RXJyb3JbJ3R5cGUnXSB7XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxIHx8IHN0YXR1cyA9PT0gNDAzKSByZXR1cm4gJ2F1dGgnO1xuICAgIGlmIChzdGF0dXMgPT09IDQwMCB8fCBzdGF0dXMgPT09IDQyMikgcmV0dXJuICd2YWxpZGF0aW9uJztcbiAgICBpZiAoc3RhdHVzID49IDUwMCkgcmV0dXJuICdzZXJ2ZXInO1xuICAgIHJldHVybiAnbmV0d29yayc7XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGFuZCBleHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5jb25zdCBnaXRBY3Rpdml0eVNlcnZpY2UgPSBuZXcgR2l0QWN0aXZpdHlTZXJ2aWNlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdpdEFjdGl2aXR5U2VydmljZTtcblxuLy8gRXhwb3J0IGNsYXNzIGZvciB0ZXN0aW5nXG5leHBvcnQgeyBHaXRBY3Rpdml0eVNlcnZpY2UgfTtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGRhdGEgcHJvY2Vzc2luZ1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NIZWF0bWFwRGF0YSA9IChkYXRhOiBBY3Rpdml0eUhlYXRtYXBEYXRhW10pOiBBY3Rpdml0eUhlYXRtYXBEYXRhW10gPT4ge1xuICAvLyBTb3J0IGJ5IGRhdGVcbiAgcmV0dXJuIGRhdGEuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmlsbE1pc3NpbmdEYXRlcyA9IChcbiAgZGF0YTogQWN0aXZpdHlIZWF0bWFwRGF0YVtdLFxuICBzdGFydERhdGU6IERhdGUsXG4gIGVuZERhdGU6IERhdGVcbik6IEFjdGl2aXR5SGVhdG1hcERhdGFbXSA9PiB7XG4gIGNvbnN0IGZpbGxlZDogQWN0aXZpdHlIZWF0bWFwRGF0YVtdID0gW107XG4gIGNvbnN0IGRhdGFNYXAgPSBuZXcgTWFwKGRhdGEubWFwKGl0ZW0gPT4gW2l0ZW0uZGF0ZSwgaXRlbV0pKTtcbiAgXG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTtcbiAgd2hpbGUgKGN1cnJlbnREYXRlIDw9IGVuZERhdGUpIHtcbiAgICBjb25zdCBkYXRlU3RyID0gY3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIFxuICAgIGlmIChkYXRhTWFwLmhhcyhkYXRlU3RyKSkge1xuICAgICAgZmlsbGVkLnB1c2goZGF0YU1hcC5nZXQoZGF0ZVN0cikhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmlsbCBtaXNzaW5nIGRhdGUgd2l0aCB6ZXJvIGFjdGl2aXR5XG4gICAgICBmaWxsZWQucHVzaCh7XG4gICAgICAgIGRhdGU6IGRhdGVTdHIsXG4gICAgICAgIGFjdGl2aXR5X2NvdW50OiAwLFxuICAgICAgICBjb21taXRfY291bnQ6IDAsXG4gICAgICAgIHByX2NvdW50OiAwLFxuICAgICAgICBjb250cmlidXRvcl9jb3VudDogMCxcbiAgICAgICAgbGluZXNfYWRkZWQ6IDAsXG4gICAgICAgIGxpbmVzX2RlbGV0ZWQ6IDAsXG4gICAgICAgIGZpbGVzX2NoYW5nZWQ6IDAsXG4gICAgICAgIGFjdGl2aXR5X3R5cGVzOiBbXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGN1cnJlbnREYXRlLnNldERhdGUoY3VycmVudERhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gIH1cbiAgXG4gIHJldHVybiBmaWxsZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQWN0aXZpdHlMZXZlbCA9IChhY3Rpdml0eUNvdW50OiBudW1iZXIsIG1heEFjdGl2aXR5OiBudW1iZXIpOiAwIHwgMSB8IDIgfCAzIHwgNCA9PiB7XG4gIGlmIChhY3Rpdml0eUNvdW50ID09PSAwKSByZXR1cm4gMDtcbiAgaWYgKG1heEFjdGl2aXR5ID09PSAwKSByZXR1cm4gMTtcbiAgXG4gIGNvbnN0IHJhdGlvID0gYWN0aXZpdHlDb3VudCAvIG1heEFjdGl2aXR5O1xuICBpZiAocmF0aW8gPD0gMC4yNSkgcmV0dXJuIDE7XG4gIGlmIChyYXRpbyA8PSAwLjUpIHJldHVybiAyO1xuICBpZiAocmF0aW8gPD0gMC43NSkgcmV0dXJuIDM7XG4gIHJldHVybiA0O1xufTsgIl0sIm5hbWVzIjpbIkdpdEFjdGl2aXR5U2VydmljZSIsImNhbGN1bGF0ZUFjdGl2aXR5TGV2ZWwiLCJmaWxsTWlzc2luZ0RhdGVzIiwicHJvY2Vzc0hlYXRtYXBEYXRhIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJjb25zdHJ1Y3RvciIsImJhc2VVUkwiLCJnZXRSZXBvc2l0b3J5QWN0aXZpdHkiLCJyZXF1ZXN0IiwicGFyYW1zIiwicHJvdmlkZXIiLCJkYXlzX2JhY2siLCJ1c2VfY2FjaGUiLCJmb3JjZV9yZWZyZXNoIiwicmVzcG9uc2UiLCJheGlvcyIsImdldCIsIm93bmVyIiwicmVwbyIsImRhdGEiLCJlcnJvciIsImhhbmRsZUVycm9yIiwiZ2V0UmVwb3NpdG9yeUhlYXRtYXAiLCJkYXlzQmFjayIsImhlYXRtYXAiLCJnZXRSZXBvc2l0b3J5TWV0cmljcyIsImdldFJlcG9zaXRvcnlDb250cmlidXRvcnMiLCJnZXRWZWxvY2l0eVRyZW5kcyIsImludmFsaWRhdGVDYWNoZSIsImRlbGV0ZSIsImdldENhY2hlU3RhdHMiLCJ3YXJtQ2FjaGUiLCJyZXBvc2l0b3JpZXMiLCJwb3N0IiwiY2xlYW51cENhY2hlIiwic2VhcmNoUmVwb3NpdG9yaWVzIiwicXVlcnkiLCJnZXRXZWJob29rU3RhdHVzIiwiY29uZmlndXJlV2ViaG9vayIsImV4cG9ydEFjdGl2aXR5IiwiZm9ybWF0Iiwib3B0aW9ucyIsInJlc3BvbnNlVHlwZSIsIm1lc3NhZ2UiLCJnaXRFcnJvciIsInR5cGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJpc0F4aW9zRXJyb3IiLCJnZXRFcnJvclR5cGUiLCJzdGF0dXMiLCJkZXRhaWwiLCJkZXRhaWxzIiwiZ2l0QWN0aXZpdHlTZXJ2aWNlIiwic29ydCIsImEiLCJiIiwiZGF0ZSIsImdldFRpbWUiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiZmlsbGVkIiwiZGF0YU1hcCIsIk1hcCIsIm1hcCIsIml0ZW0iLCJjdXJyZW50RGF0ZSIsImRhdGVTdHIiLCJzcGxpdCIsImhhcyIsInB1c2giLCJhY3Rpdml0eV9jb3VudCIsImNvbW1pdF9jb3VudCIsInByX2NvdW50IiwiY29udHJpYnV0b3JfY291bnQiLCJsaW5lc19hZGRlZCIsImxpbmVzX2RlbGV0ZWQiLCJmaWxlc19jaGFuZ2VkIiwiYWN0aXZpdHlfdHlwZXMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImFjdGl2aXR5Q291bnQiLCJtYXhBY3Rpdml0eSIsInJhdGlvIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztJQWdTUUEsa0JBQWtCO2VBQWxCQTs7SUEyQ0lDLHNCQUFzQjtlQUF0QkE7O0lBOUNiLE9B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