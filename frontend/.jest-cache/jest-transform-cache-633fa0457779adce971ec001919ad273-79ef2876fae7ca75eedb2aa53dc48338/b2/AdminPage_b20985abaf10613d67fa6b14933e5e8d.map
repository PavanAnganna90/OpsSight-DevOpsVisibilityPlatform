{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/admin/AdminPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport AppShell from '../layout/AppShell';\nimport RoleList from './RoleList';\nimport RoleDetail from './RoleDetail';\nimport PermissionAssignment from './PermissionAssignment';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport RoleCreateModal from './RoleCreateModal';\n\n/**\n * AdminPage - Main admin UI for role and permission management in OpsSight.\n * Integrates RoleList, RoleDetail, and PermissionAssignment in a 3-column layout.\n * Now includes RoleCreateModal for creating new roles and supports editing, deleting roles and permissions.\n */\nconst AdminPage: React.FC = () => {\n  const [roles, setRoles] = useState<Array<any>>([]);\n  const [selected, setSelected] = useState<any | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [permissions, setPermissions] = useState<string[]>([]); // assigned permissions (names)\n  const [allPermissions, setAllPermissions] = useState<any[]>([]); // all permission objects\n  const [showCreate, setShowCreate] = useState(false);\n  const [createLoading, setCreateLoading] = useState(false);\n  const [createError, setCreateError] = useState('');\n  const [showSuccess, setShowSuccess] = useState(false);\n  // Edit state\n  const [editLoading, setEditLoading] = useState(false);\n  const [editError, setEditError] = useState('');\n  const [editSuccess, setEditSuccess] = useState(false);\n  // Permission update state\n  const [permLoading, setPermLoading] = useState(false);\n  const [permError, setPermError] = useState('');\n  const [permSuccess, setPermSuccess] = useState(false);\n  // Delete state\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const [deleteError, setDeleteError] = useState('');\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n  // Fetch roles on mount\n  useEffect(() => {\n    fetch('/api/v1/roles')\n      .then(res => res.json())\n      .then(data => {\n        setRoles(data);\n        if (data.length > 0) setSelected(data[0]);\n      })\n      .catch(() => setError('Failed to load roles'))\n      .finally(() => setLoading(false));\n  }, []);\n\n  // Fetch all permissions on mount\n  useEffect(() => {\n    fetch('/api/v1/permissions')\n      .then(res => res.json())\n      .then(data => setAllPermissions(data))\n      .catch(() => setAllPermissions([]));\n  }, []);\n\n  // Fetch assigned permissions for selected role\n  useEffect(() => {\n    if (!selected) return;\n    fetch(`/api/v1/roles/${selected.id}/permissions`)\n      .then(res => res.json())\n      .then(data => setPermissions(data.permissions ? data.permissions.map((p: any) => p.name) : []))\n      .catch(() => setPermissions([]));\n  }, [selected]);\n\n  const handleRoleSelect = (role: any) => setSelected(role);\n\n  // Handle role edit (display_name, description)\n  const handleRoleEdit = async (updated: { display_name: string; description?: string }) => {\n    if (!selected) return;\n    setEditLoading(true);\n    setEditError('');\n    try {\n      const res = await fetch(`/api/v1/roles/${selected.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updated),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.detail || 'Failed to update role');\n      }\n      const updatedRole = await res.json();\n      setRoles(prev => prev.map(r => (r.id === updatedRole.id ? updatedRole : r)));\n      setSelected(updatedRole);\n      setEditSuccess(true);\n      setTimeout(() => setEditSuccess(false), 2500);\n    } catch (e: any) {\n      setEditError(e.message || 'Failed to update role');\n    } finally {\n      setEditLoading(false);\n    }\n  };\n\n  const handleRoleSave = handleRoleEdit; // For clarity in prop passing\n  const handleRoleCancel = () => setEditError('');\n\n  // Handle permission assignment update\n  const handlePermissionChange = async (updated: string[]) => {\n    if (!selected) return;\n    setPermLoading(true);\n    setPermError('');\n    try {\n      // Map permission names to IDs\n      const updatedIds = allPermissions.filter(p => updated.includes(p.name)).map(p => p.id);\n      const res = await fetch(`/api/v1/roles/${selected.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ permission_ids: updatedIds }),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.detail || 'Failed to update permissions');\n      }\n      const updatedRole = await res.json();\n      setRoles(prev => prev.map(r => (r.id === updatedRole.id ? updatedRole : r)));\n      setSelected(updatedRole);\n      setPermissions(updated);\n      setPermSuccess(true);\n      setTimeout(() => setPermSuccess(false), 2000);\n    } catch (e: any) {\n      setPermError(e.message || 'Failed to update permissions');\n    } finally {\n      setPermLoading(false);\n    }\n  };\n\n  // Handle role creation with robust error/success feedback\n  const handleCreateRole = async (role: { name: string; display_name: string; description?: string; permission_ids?: number[] }) => {\n    setCreateLoading(true);\n    setCreateError('');\n    try {\n      const res = await fetch('/api/v1/roles', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(role),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.detail || 'Failed to create role');\n      }\n      const newRole = await res.json();\n      setRoles(prev => [...prev, newRole]);\n      setSelected(newRole);\n      setShowCreate(false);\n      setShowSuccess(true);\n      setTimeout(() => setShowSuccess(false), 2500);\n    } catch (e: any) {\n      setCreateError(e.message || 'Failed to create role');\n    } finally {\n      setCreateLoading(false);\n    }\n  };\n\n  // Handle role deletion\n  const handleDeleteRole = async () => {\n    if (!selected) return;\n    if (!window.confirm(`Are you sure you want to delete the role \"${selected.display_name}\"? This action cannot be undone.`)) return;\n    setDeleteLoading(true);\n    setDeleteError('');\n    try {\n      const res = await fetch(`/api/v1/roles/${selected.id}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.detail || 'Failed to delete role');\n      }\n      setRoles(prev => prev.filter(r => r.id !== selected.id));\n      // Select next available role or null\n      const idx = roles.findIndex(r => r.id === selected.id);\n      const next = roles[idx + 1] || roles[idx - 1] || null;\n      setSelected(next);\n      setDeleteSuccess(true);\n      setTimeout(() => setDeleteSuccess(false), 2500);\n    } catch (e: any) {\n      setDeleteError(e.message || 'Failed to delete role');\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  // Reset error/loading state on modal close\n  const handleCloseModal = () => {\n    setShowCreate(false);\n    setCreateError('');\n    setCreateLoading(false);\n  };\n\n  if (loading) return <AppShell><LoadingSpinner /></AppShell>;\n  if (error) return <AppShell><div className=\"text-red-500\">{error}</div></AppShell>;\n\n  return (\n    <AppShell>\n      {/* Success Toasts */}\n      {showSuccess && (\n        <div className=\"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded shadow z-50 animate-fade-in\">\n          Role created successfully!\n        </div>\n      )}\n      {editSuccess && (\n        <div className=\"fixed top-4 right-4 bg-blue-600 text-white px-4 py-2 rounded shadow z-50 animate-fade-in\">\n          Role updated successfully!\n        </div>\n      )}\n      {permSuccess && (\n        <div className=\"fixed top-4 right-4 bg-green-700 text-white px-4 py-2 rounded shadow z-50 animate-fade-in\">\n          Permissions updated!\n        </div>\n      )}\n      {deleteSuccess && (\n        <div className=\"fixed top-4 right-4 bg-red-600 text-white px-4 py-2 rounded shadow z-50 animate-fade-in\">\n          Role deleted.\n        </div>\n      )}\n      <RoleCreateModal\n        open={showCreate}\n        onClose={handleCloseModal}\n        onCreate={handleCreateRole}\n        creationLoading={createLoading}\n        creationError={createError}\n        onSuccess={() => setShowSuccess(true)}\n      />\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div>\n          <div className=\"flex items-center justify-between mb-2\">\n            <h3 className=\"font-bold\">Roles</h3>\n            <button\n              className=\"px-3 py-1 rounded bg-blue-600 text-white text-sm hover:bg-blue-700\"\n              onClick={() => setShowCreate(true)}\n              disabled={createLoading}\n            >\n              + New Role\n            </button>\n          </div>\n          <RoleList onSelect={handleRoleSelect} />\n        </div>\n        <div>\n          {selected && (\n            <>\n              <RoleDetail\n                role={{ ...selected, permissions }}\n                onSave={handleRoleSave}\n                onCancel={handleRoleCancel}\n                loading={editLoading}\n              />\n              <button\n                className=\"mt-4 px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\"\n                onClick={handleDeleteRole}\n                disabled={deleteLoading}\n              >\n                {deleteLoading ? 'Deleting...' : 'Delete Role'}\n              </button>\n              {deleteError && <div className=\"text-red-500 mt-2\">{deleteError}</div>}\n            </>\n          )}\n          {editError && <div className=\"text-red-500 mt-2\">{editError}</div>}\n        </div>\n        <div>\n          {selected && (\n            <div className=\"bg-white dark:bg-gray-900 rounded shadow p-4\">\n              <h3 className=\"font-bold mb-2\">Assign Permissions</h3>\n              <PermissionAssignment\n                allPermissions={allPermissions}\n                assigned={permissions}\n                onChange={handlePermissionChange}\n                loading={permLoading}\n                error={permError}\n              />\n              {permError && <div className=\"text-red-500 mt-2\">{permError}</div>}\n            </div>\n          )}\n        </div>\n      </div>\n    </AppShell>\n  );\n};\n\nexport default AdminPage; "],"names":["AdminPage","roles","setRoles","useState","selected","setSelected","loading","setLoading","error","setError","permissions","setPermissions","allPermissions","setAllPermissions","showCreate","setShowCreate","createLoading","setCreateLoading","createError","setCreateError","showSuccess","setShowSuccess","editLoading","setEditLoading","editError","setEditError","editSuccess","setEditSuccess","permLoading","setPermLoading","permError","setPermError","permSuccess","setPermSuccess","deleteLoading","setDeleteLoading","deleteError","setDeleteError","deleteSuccess","setDeleteSuccess","useEffect","fetch","then","res","json","data","length","catch","finally","id","map","p","name","handleRoleSelect","role","handleRoleEdit","updated","method","headers","body","JSON","stringify","ok","err","Error","detail","updatedRole","prev","r","setTimeout","e","message","handleRoleSave","handleRoleCancel","handlePermissionChange","updatedIds","filter","includes","permission_ids","handleCreateRole","newRole","handleDeleteRole","window","confirm","display_name","idx","findIndex","next","handleCloseModal","AppShell","LoadingSpinner","div","className","RoleCreateModal","open","onClose","onCreate","creationLoading","creationError","onSuccess","h3","button","onClick","disabled","RoleList","onSelect","RoleDetail","onSave","onCancel","PermissionAssignment","assigned","onChange"],"mappings":"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"}