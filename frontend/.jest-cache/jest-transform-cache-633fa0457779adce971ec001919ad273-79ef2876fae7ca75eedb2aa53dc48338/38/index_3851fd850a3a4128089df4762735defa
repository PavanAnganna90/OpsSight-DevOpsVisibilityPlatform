16e020dee1b3f6862ba1513ae556bcaf
/**
 * Theme variants for the OpsSight design system
 * Implements multiple aesthetic approaches while maintaining accessibility
 * Extended with color mode support (light, dark, high-contrast)
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    accessibleTheme: function() {
        return accessibleTheme;
    },
    applyTheme: function() {
        return applyTheme;
    },
    createTheme: function() {
        return createTheme;
    },
    createThemeWithColorModes: function() {
        return createThemeWithColorModes;
    },
    cyberpunkTheme: function() {
        return cyberpunkTheme;
    },
    default: function() {
        return _default;
    },
    editorialTheme: function() {
        return editorialTheme;
    },
    generateDynamicTheme: function() {
        return generateDynamicTheme;
    },
    generateThemeVariables: function() {
        return generateThemeVariables;
    },
    getTheme: function() {
        return getTheme;
    },
    getThemeWithColorMode: function() {
        return getThemeWithColorMode;
    },
    glassmorphicTheme: function() {
        return glassmorphicTheme;
    },
    minimalTheme: function() {
        return minimalTheme;
    },
    neoBrutalistTheme: function() {
        return neoBrutalistTheme;
    },
    themes: function() {
        return themes;
    }
});
const _colors = require("../tokens/colors");
const _typography = require("../tokens/typography");
const _spacing = require("../tokens/spacing");
// Utility function to generate color variants
function generateColorScale(baseColor, steps = 10) {
    const colors = {};
    for(let i = 0; i < steps; i++){
        const lightness = 0.95 - i * 0.1;
        colors[`${(i + 1) * 50}`] = `oklch(${lightness.toFixed(2)} 0.15 ${baseColor})`;
    }
    return colors;
}
// Utility function to invert colors for dark mode
function invertColorScale(colorScale) {
    const inverted = {};
    const keys = Object.keys(colorScale).reverse();
    const values = Object.values(colorScale);
    keys.forEach((key, index)=>{
        inverted[key] = values[index];
    });
    return inverted;
}
function generateDynamicTheme(seedColor) {
    const complementary = (seedColor + 180) % 360;
    const triadic1 = (seedColor + 120) % 360;
    const dynamicColors = {
        ..._colors.colorTokens,
        primary: generateColorScale(seedColor.toString()),
        secondary: generateColorScale(complementary.toString()),
        accent: generateColorScale(triadic1.toString())
    };
    return createTheme('dynamic', {
        colors: dynamicColors,
        customProperties: {
            '--dynamic-seed': seedColor.toString(),
            '--dynamic-primary-hue': seedColor.toString(),
            '--dynamic-secondary-hue': complementary.toString()
        }
    });
}
function createTheme(name, overrides = {}) {
    const baseTheme = {
        name,
        colors: JSON.parse(JSON.stringify(_colors.colorTokens)),
        semantic: JSON.parse(JSON.stringify(_colors.semanticColorMap)),
        typography: JSON.parse(JSON.stringify(_typography.defaultTypographyConfig)),
        spacing: JSON.parse(JSON.stringify(_spacing.defaultSpacingConfig)),
        customProperties: {}
    };
    // Deep merge function
    function deepMerge(target, source) {
        if (source === null || source === undefined) return target;
        if (typeof source !== 'object') return source;
        const result = {
            ...target
        };
        for(const key in source){
            if (source.hasOwnProperty(key)) {
                if (typeof source[key] === 'object' && source[key] !== null && !Array.isArray(source[key])) {
                    result[key] = deepMerge(target[key] || {}, source[key]);
                } else {
                    result[key] = source[key];
                }
            }
        }
        return result;
    }
    return deepMerge(baseTheme, overrides);
}
function createThemeWithColorModes(name, baseTheme = {}, colorModes = {}) {
    const theme = createTheme(name, baseTheme);
    theme.colorModes = colorModes;
    return theme;
}
const minimalTheme = createThemeWithColorModes('minimal', {
    colors: {
        primary: {
            ..._colors.colorTokens.primary,
            500: 'oklch(0.45 0.05 250)'
        },
        neutral: {
            ..._colors.colorTokens.neutral,
            50: 'oklch(0.99 0.00 0)'
        }
    },
    spacing: {
        spacing: {
            xs: '0.75rem',
            sm: '1rem',
            md: '2rem',
            lg: '3rem',
            xl: '4rem'
        }
    },
    customProperties: {
        '--minimal-emphasis': 'subtle',
        '--border-style': 'none',
        '--shadow-intensity': '0.02'
    },
    effects: {
        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.02)',
        borderStyle: 'none'
    }
}, {
    dark: {
        colors: {
            neutral: {
                ..._colors.colorTokens.neutral,
                0: 'oklch(0.08 0.00 0)',
                50: 'oklch(0.12 0.00 0)',
                100: 'oklch(0.16 0.00 0)'
            },
            primary: {
                ..._colors.colorTokens.primary,
                500: 'oklch(0.65 0.08 250)'
            }
        },
        semantic: {
            background: {
                primary: 'var(--color-neutral-0)',
                secondary: 'var(--color-neutral-50)',
                tertiary: 'var(--color-neutral-100)',
                inverse: 'var(--color-neutral-0)'
            },
            text: {
                primary: 'var(--color-neutral-0)',
                secondary: 'var(--color-neutral-100)',
                tertiary: 'var(--color-neutral-200)',
                inverse: 'var(--color-neutral-900)'
            }
        },
        effects: {
            boxShadow: '0 1px 3px rgba(255, 255, 255, 0.05)'
        }
    },
    'high-contrast': {
        colors: {
            primary: {
                ..._colors.colorTokens.primary,
                500: 'oklch(0.00 0.00 0)'
            },
            neutral: {
                ..._colors.colorTokens.neutral,
                0: 'oklch(1.00 0.00 0)',
                1000: 'oklch(0.00 0.00 0)'
            }
        },
        customProperties: {
            '--minimal-emphasis': 'strong',
            '--border-style': '2px solid',
            '--shadow-intensity': '0'
        },
        effects: {
            boxShadow: 'none',
            borderStyle: '2px solid oklch(0.00 0.00 0)'
        }
    }
});
const neoBrutalistTheme = createThemeWithColorModes('neo-brutalist', {
    colors: {
        primary: {
            50: 'oklch(1.00 0.00 0)',
            100: 'oklch(0.95 0.00 0)',
            200: 'oklch(0.90 0.00 0)',
            300: 'oklch(0.80 0.00 0)',
            400: 'oklch(0.60 0.00 0)',
            500: 'oklch(0.00 0.00 0)',
            600: 'oklch(0.00 0.00 0)',
            700: 'oklch(0.00 0.00 0)',
            800: 'oklch(0.00 0.00 0)',
            900: 'oklch(0.00 0.00 0)',
            950: 'oklch(0.00 0.00 0)'
        },
        accent: {
            ..._colors.colorTokens.accent,
            500: 'oklch(0.70 0.25 60)'
        }
    },
    spacing: {
        borderWidth: {
            thin: '1px',
            default: '3px',
            thick: '5px',
            thicker: '8px'
        },
        shadows: {
            sm: '3px 3px 0px oklch(0.00 0.00 0)',
            md: '6px 6px 0px oklch(0.00 0.00 0)',
            lg: '9px 9px 0px oklch(0.00 0.00 0)'
        }
    },
    customProperties: {
        '--brutalist-border': '3px solid oklch(0.00 0.00 0)',
        '--brutalist-shadow': '6px 6px 0px oklch(0.00 0.00 0)'
    },
    effects: {
        boxShadow: '6px 6px 0px oklch(0.00 0.00 0)',
        borderStyle: 'solid'
    }
}, {
    dark: {
        colors: {
            primary: {
                500: 'oklch(1.00 0.00 0)'
            },
            neutral: {
                0: 'oklch(0.00 0.00 0)',
                50: 'oklch(0.10 0.00 0)',
                100: 'oklch(0.20 0.00 0)'
            }
        },
        customProperties: {
            '--brutalist-border': '3px solid oklch(1.00 0.00 0)',
            '--brutalist-shadow': '6px 6px 0px oklch(1.00 0.00 0)'
        },
        effects: {
            boxShadow: '6px 6px 0px oklch(1.00 0.00 0)'
        }
    },
    'high-contrast': {
        colors: {
            primary: {
                500: 'oklch(0.00 0.00 0)'
            },
            accent: {
                500: 'oklch(1.00 0.00 0)'
            }
        },
        spacing: {
            borderWidth: {
                default: '5px',
                thick: '8px',
                thicker: '12px'
            }
        }
    }
});
const glassmorphicTheme = createThemeWithColorModes('glassmorphic', {
    colors: {
        special: {
            glass: {
                light: 'rgba(255, 255, 255, 0.1)',
                medium: 'rgba(255, 255, 255, 0.15)',
                heavy: 'rgba(255, 255, 255, 0.25)',
                dark: 'rgba(0, 0, 0, 0.1)'
            }
        }
    },
    customProperties: {
        '--glass-backdrop': 'blur(10px) saturate(180%)',
        '--glass-border': '1px solid rgba(255, 255, 255, 0.2)',
        '--glass-background': 'rgba(255, 255, 255, 0.1)'
    },
    effects: {
        backdropFilter: 'blur(10px) saturate(180%)',
        boxShadow: '0 8px 32px rgba(31, 38, 135, 0.37)',
        borderStyle: '1px solid rgba(255, 255, 255, 0.2)'
    }
}, {
    dark: {
        colors: {
            special: {
                glass: {
                    light: 'rgba(255, 255, 255, 0.05)',
                    medium: 'rgba(255, 255, 255, 0.08)',
                    heavy: 'rgba(255, 255, 255, 0.12)',
                    dark: 'rgba(0, 0, 0, 0.3)'
                }
            }
        },
        customProperties: {
            '--glass-backdrop': 'blur(15px) saturate(120%)',
            '--glass-border': '1px solid rgba(255, 255, 255, 0.1)',
            '--glass-background': 'rgba(0, 0, 0, 0.2)'
        },
        effects: {
            backdropFilter: 'blur(15px) saturate(120%)',
            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.5)',
            borderStyle: '1px solid rgba(255, 255, 255, 0.1)'
        }
    },
    'high-contrast': {
        colors: {
            special: {
                glass: {
                    light: 'rgba(255, 255, 255, 0.9)',
                    medium: 'rgba(255, 255, 255, 0.95)',
                    heavy: 'rgba(255, 255, 255, 1.0)',
                    dark: 'rgba(0, 0, 0, 0.9)'
                }
            }
        },
        customProperties: {
            '--glass-backdrop': 'none',
            '--glass-border': '2px solid oklch(0.00 0.00 0)',
            '--glass-background': 'oklch(1.00 0.00 0)'
        },
        effects: {
            backdropFilter: 'none',
            boxShadow: 'none',
            borderStyle: '2px solid oklch(0.00 0.00 0)'
        }
    }
});
const cyberpunkTheme = createThemeWithColorModes('cyberpunk', {
    colors: {
        primary: {
            50: 'oklch(0.20 0.00 0)',
            100: 'oklch(0.25 0.05 200)',
            200: 'oklch(0.30 0.10 200)',
            300: 'oklch(0.40 0.15 200)',
            400: 'oklch(0.60 0.25 200)',
            500: 'oklch(0.80 0.30 200)',
            600: 'oklch(0.75 0.28 200)',
            700: 'oklch(0.70 0.25 200)',
            800: 'oklch(0.60 0.20 200)',
            900: 'oklch(0.50 0.15 200)',
            950: 'oklch(0.40 0.10 200)'
        },
        accent: {
            ..._colors.colorTokens.accent,
            500: 'oklch(0.70 0.30 320)'
        },
        neutral: {
            ..._colors.colorTokens.neutral,
            0: 'oklch(0.08 0.02 250)',
            50: 'oklch(0.12 0.02 250)',
            100: 'oklch(0.16 0.02 250)',
            200: 'oklch(0.20 0.02 250)'
        },
        special: {
            neon: {
                cyan: 'oklch(0.80 0.30 200)',
                magenta: 'oklch(0.70 0.30 320)',
                yellow: 'oklch(0.90 0.25 90)',
                green: 'oklch(0.80 0.30 140)'
            }
        }
    },
    customProperties: {
        '--cyberpunk-glow': '0 0 10px currentColor',
        '--cyberpunk-text-shadow': '0 0 5px currentColor'
    },
    effects: {
        boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)',
        animations: {
            neonGlow: 'neonGlow 2s ease-in-out infinite alternate',
            textFlicker: 'textFlicker 1.5s infinite'
        }
    }
}, {
    light: {
        colors: {
            neutral: {
                0: 'oklch(0.98 0.00 0)',
                50: 'oklch(0.95 0.00 0)',
                100: 'oklch(0.90 0.00 0)'
            },
            primary: {
                500: 'oklch(0.40 0.25 200)'
            }
        },
        customProperties: {
            '--cyberpunk-glow': '0 0 5px currentColor',
            '--cyberpunk-text-shadow': 'none'
        },
        effects: {
            boxShadow: '0 2px 10px rgba(0, 150, 150, 0.2)'
        }
    },
    'high-contrast': {
        colors: {
            primary: {
                500: 'oklch(0.00 0.00 0)'
            },
            accent: {
                500: 'oklch(1.00 0.00 0)'
            },
            special: {
                neon: {
                    cyan: 'oklch(0.00 0.00 0)',
                    magenta: 'oklch(1.00 0.00 0)',
                    yellow: 'oklch(0.00 0.00 0)',
                    green: 'oklch(1.00 0.00 0)'
                }
            }
        },
        customProperties: {
            '--cyberpunk-glow': 'none',
            '--cyberpunk-text-shadow': 'none'
        },
        effects: {
            boxShadow: 'none',
            animations: {}
        }
    }
});
const editorialTheme = createThemeWithColorModes('editorial', {
    typography: {
        families: {
            heading: '"Playfair Display", "Georgia", serif',
            body: '"Source Sans Pro", "system-ui", sans-serif',
            code: '"IBM Plex Mono", "Consolas", monospace'
        },
        sizes: {
            xs: '0.75rem',
            sm: '0.875rem',
            base: '1rem',
            lg: '1.125rem',
            xl: '1.25rem',
            '2xl': '1.5rem',
            '3xl': '1.875rem',
            '4xl': '2.25rem'
        },
        lineHeights: {
            normal: '1.6',
            relaxed: '1.7',
            loose: '1.8'
        }
    },
    colors: {
        neutral: {
            ..._colors.colorTokens.neutral,
            900: 'oklch(0.20 0.00 0)'
        }
    },
    customProperties: {
        '--editorial-measure': '65ch',
        '--editorial-leading': '1.6'
    }
}, {
    dark: {
        colors: {
            neutral: {
                0: 'oklch(0.10 0.00 0)',
                50: 'oklch(0.15 0.00 0)',
                100: 'oklch(0.20 0.00 0)',
                900: 'oklch(0.85 0.00 0)'
            }
        },
        customProperties: {
            '--editorial-measure': '60ch',
            '--editorial-leading': '1.7'
        }
    },
    'high-contrast': {
        colors: {
            neutral: {
                0: 'oklch(1.00 0.00 0)',
                900: 'oklch(0.00 0.00 0)'
            }
        },
        typography: {
            sizes: {
                base: '1.125rem',
                lg: '1.25rem',
                xl: '1.5rem'
            },
            lineHeights: {
                normal: '1.8',
                relaxed: '1.9',
                loose: '2.0'
            }
        }
    }
});
const accessibleTheme = createThemeWithColorModes('accessible', {
    colors: {
        primary: {
            50: 'oklch(0.98 0.00 0)',
            100: 'oklch(0.95 0.00 0)',
            200: 'oklch(0.90 0.00 0)',
            300: 'oklch(0.80 0.00 0)',
            400: 'oklch(0.60 0.00 0)',
            500: 'oklch(0.20 0.00 0)',
            600: 'oklch(0.15 0.00 0)',
            700: 'oklch(0.10 0.00 0)',
            800: 'oklch(0.05 0.00 0)',
            900: 'oklch(0.00 0.00 0)',
            950: 'oklch(0.00 0.00 0)'
        },
        special: {
            highContrast: {
                black: 'oklch(0.00 0.00 0)',
                white: 'oklch(1.00 0.00 0)',
                darkGray: 'oklch(0.20 0.00 0)',
                lightGray: 'oklch(0.80 0.00 0)'
            }
        }
    },
    spacing: {
        spacing: {
            xs: '0.5rem',
            sm: '1rem',
            md: '1.5rem',
            lg: '2.5rem',
            xl: '3rem'
        }
    },
    customProperties: {
        '--accessible-focus': '3px solid oklch(0.60 0.25 250)',
        '--accessible-target-size': '44px'
    }
}, {
    dark: {
        colors: {
            primary: {
                500: 'oklch(0.85 0.00 0)'
            },
            neutral: {
                0: 'oklch(0.00 0.00 0)',
                50: 'oklch(0.05 0.00 0)',
                900: 'oklch(1.00 0.00 0)'
            }
        },
        customProperties: {
            '--accessible-focus': '3px solid oklch(0.70 0.25 250)'
        }
    },
    'high-contrast': {
        colors: {
            primary: {
                500: 'oklch(0.00 0.00 0)'
            },
            neutral: {
                0: 'oklch(1.00 0.00 0)',
                900: 'oklch(0.00 0.00 0)'
            }
        },
        spacing: {
            spacing: {
                lg: '3rem',
                xl: '4rem'
            }
        },
        customProperties: {
            '--accessible-focus': '4px solid oklch(0.00 0.00 0)',
            '--accessible-target-size': '48px'
        }
    }
});
const themes = {
    minimal: minimalTheme,
    'neo-brutalist': neoBrutalistTheme,
    glassmorphic: glassmorphicTheme,
    cyberpunk: cyberpunkTheme,
    editorial: editorialTheme,
    accessible: accessibleTheme
};
function getTheme(name) {
    return themes[name];
}
function getThemeWithColorMode(name, colorMode) {
    const baseTheme = themes[name];
    if (!baseTheme.colorModes || !baseTheme.colorModes[colorMode]) {
        return baseTheme;
    }
    const colorModeOverrides = baseTheme.colorModes[colorMode];
    // Deep merge the color mode overrides with the base theme
    function deepMerge(target, source) {
        if (source === null || source === undefined) return target;
        if (typeof source !== 'object') return source;
        const result = {
            ...target
        };
        for(const key in source){
            if (source.hasOwnProperty(key)) {
                if (typeof source[key] === 'object' && source[key] !== null && !Array.isArray(source[key])) {
                    result[key] = deepMerge(target[key] || {}, source[key]);
                } else {
                    result[key] = source[key];
                }
            }
        }
        return result;
    }
    return deepMerge(baseTheme, colorModeOverrides);
}
function generateThemeVariables(theme) {
    const variables = {};
    // Color variables
    function processColors(colors, prefix = 'color') {
        Object.entries(colors).forEach(([key, value])=>{
            if (typeof value === 'object' && value !== null) {
                processColors(value, `${prefix}-${key}`);
            } else if (typeof value === 'string') {
                variables[`--${prefix}-${key}`] = value;
            }
        });
    }
    processColors(theme.colors);
    // Custom properties
    Object.entries(theme.customProperties).forEach(([key, value])=>{
        variables[key] = value;
    });
    return variables;
}
function applyTheme(theme, colorMode) {
    const root = document.documentElement;
    // Get theme with color mode applied if specified
    const appliedTheme = colorMode && theme.colorModes?.[colorMode] ? getThemeWithColorMode(theme.name, colorMode) : theme;
    const variables = generateThemeVariables(appliedTheme);
    Object.entries(variables).forEach(([property, value])=>{
        root.style.setProperty(property, value);
    });
    // Add theme class to body for CSS targeting
    document.body.className = document.body.className.replace(/theme-\w+/g, '').concat(` theme-${appliedTheme.name}`);
    // Add color mode class if specified
    if (colorMode) {
        document.body.className = document.body.className.replace(/color-mode-\w+/g, '').concat(` color-mode-${colorMode}`);
    }
}
const _default = themes;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvc3R5bGVzL3RoZW1lcy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZW1lIHZhcmlhbnRzIGZvciB0aGUgT3BzU2lnaHQgZGVzaWduIHN5c3RlbVxuICogSW1wbGVtZW50cyBtdWx0aXBsZSBhZXN0aGV0aWMgYXBwcm9hY2hlcyB3aGlsZSBtYWludGFpbmluZyBhY2Nlc3NpYmlsaXR5XG4gKiBFeHRlbmRlZCB3aXRoIGNvbG9yIG1vZGUgc3VwcG9ydCAobGlnaHQsIGRhcmssIGhpZ2gtY29udHJhc3QpXG4gKi9cblxuaW1wb3J0IHsgY29sb3JUb2tlbnMsIHNlbWFudGljQ29sb3JNYXAgfSBmcm9tICcuLi90b2tlbnMvY29sb3JzJztcbmltcG9ydCB7IGRlZmF1bHRUeXBvZ3JhcGh5Q29uZmlnIH0gZnJvbSAnLi4vdG9rZW5zL3R5cG9ncmFwaHknO1xuaW1wb3J0IHsgZGVmYXVsdFNwYWNpbmdDb25maWcgfSBmcm9tICcuLi90b2tlbnMvc3BhY2luZyc7XG5cbi8vIENvbG9yIG1vZGUgdHlwZVxuZXhwb3J0IHR5cGUgQ29sb3JNb2RlID0gJ2xpZ2h0JyB8ICdkYXJrJyB8ICdoaWdoLWNvbnRyYXN0JztcblxuLy8gVGhlbWUgaW50ZXJmYWNlIHdpdGggZmxleGlibGUgc3RydWN0dXJlIGFuZCBjb2xvciBtb2RlIHN1cHBvcnRcbmV4cG9ydCBpbnRlcmZhY2UgVGhlbWUge1xuICBuYW1lOiBzdHJpbmc7XG4gIGNvbG9yczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgc2VtYW50aWM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHR5cG9ncmFwaHk6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHNwYWNpbmc6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIGN1c3RvbVByb3BlcnRpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGVmZmVjdHM/OiB7XG4gICAgYmx1cj86IHN0cmluZztcbiAgICBiYWNrZHJvcEZpbHRlcj86IHN0cmluZztcbiAgICBib3hTaGFkb3c/OiBzdHJpbmc7XG4gICAgYm9yZGVyU3R5bGU/OiBzdHJpbmc7XG4gICAgYW5pbWF0aW9ucz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIH07XG4gIC8vIE5ldzogQ29sb3IgbW9kZSB2YXJpYXRpb25zXG4gIGNvbG9yTW9kZXM/OiB7XG4gICAgbGlnaHQ/OiBQYXJ0aWFsPFRoZW1lPjtcbiAgICBkYXJrPzogUGFydGlhbDxUaGVtZT47XG4gICAgJ2hpZ2gtY29udHJhc3QnPzogUGFydGlhbDxUaGVtZT47XG4gIH07XG59XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY29sb3IgdmFyaWFudHNcbmZ1bmN0aW9uIGdlbmVyYXRlQ29sb3JTY2FsZShiYXNlQ29sb3I6IHN0cmluZywgc3RlcHM6IG51bWJlciA9IDEwKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IGNvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzOyBpKyspIHtcbiAgICBjb25zdCBsaWdodG5lc3MgPSAwLjk1IC0gKGkgKiAwLjEpO1xuICAgIGNvbG9yc1tgJHsoaSArIDEpICogNTB9YF0gPSBgb2tsY2goJHtsaWdodG5lc3MudG9GaXhlZCgyKX0gMC4xNSAke2Jhc2VDb2xvcn0pYDtcbiAgfVxuICByZXR1cm4gY29sb3JzO1xufVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGludmVydCBjb2xvcnMgZm9yIGRhcmsgbW9kZVxuZnVuY3Rpb24gaW52ZXJ0Q29sb3JTY2FsZShjb2xvclNjYWxlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IGludmVydGVkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjb2xvclNjYWxlKS5yZXZlcnNlKCk7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoY29sb3JTY2FsZSk7XG4gIFxuICBrZXlzLmZvckVhY2goKGtleSwgaW5kZXgpID0+IHtcbiAgICBpbnZlcnRlZFtrZXldID0gdmFsdWVzW2luZGV4XTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaW52ZXJ0ZWQ7XG59XG5cbi8vIER5bmFtaWMgdGhlbWUgZ2VuZXJhdG9yIGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVEeW5hbWljVGhlbWUoc2VlZENvbG9yOiBudW1iZXIpOiBUaGVtZSB7XG4gIGNvbnN0IGNvbXBsZW1lbnRhcnkgPSAoc2VlZENvbG9yICsgMTgwKSAlIDM2MDtcbiAgY29uc3QgdHJpYWRpYzEgPSAoc2VlZENvbG9yICsgMTIwKSAlIDM2MDtcblxuICBjb25zdCBkeW5hbWljQ29sb3JzID0ge1xuICAgIC4uLmNvbG9yVG9rZW5zLFxuICAgIHByaW1hcnk6IGdlbmVyYXRlQ29sb3JTY2FsZShzZWVkQ29sb3IudG9TdHJpbmcoKSksXG4gICAgc2Vjb25kYXJ5OiBnZW5lcmF0ZUNvbG9yU2NhbGUoY29tcGxlbWVudGFyeS50b1N0cmluZygpKSxcbiAgICBhY2NlbnQ6IGdlbmVyYXRlQ29sb3JTY2FsZSh0cmlhZGljMS50b1N0cmluZygpKSxcbiAgfTtcblxuICByZXR1cm4gY3JlYXRlVGhlbWUoJ2R5bmFtaWMnLCB7XG4gICAgY29sb3JzOiBkeW5hbWljQ29sb3JzLFxuICAgIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAgICctLWR5bmFtaWMtc2VlZCc6IHNlZWRDb2xvci50b1N0cmluZygpLFxuICAgICAgJy0tZHluYW1pYy1wcmltYXJ5LWh1ZSc6IHNlZWRDb2xvci50b1N0cmluZygpLFxuICAgICAgJy0tZHluYW1pYy1zZWNvbmRhcnktaHVlJzogY29tcGxlbWVudGFyeS50b1N0cmluZygpLFxuICAgIH0sXG4gIH0pO1xufVxuXG4vLyBNYWluIHRoZW1lIGNyZWF0aW9uIGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGhlbWUoXG4gIG5hbWU6IHN0cmluZyxcbiAgb3ZlcnJpZGVzOiBQYXJ0aWFsPFRoZW1lPiA9IHt9XG4pOiBUaGVtZSB7XG4gIGNvbnN0IGJhc2VUaGVtZTogVGhlbWUgPSB7XG4gICAgbmFtZSxcbiAgICBjb2xvcnM6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29sb3JUb2tlbnMpKSxcbiAgICBzZW1hbnRpYzogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzZW1hbnRpY0NvbG9yTWFwKSksXG4gICAgdHlwb2dyYXBoeTogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWZhdWx0VHlwb2dyYXBoeUNvbmZpZykpLFxuICAgIHNwYWNpbmc6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFNwYWNpbmdDb25maWcpKSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7fSxcbiAgfTtcblxuICAvLyBEZWVwIG1lcmdlIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQ6IGFueSwgc291cmNlOiBhbnkpOiBhbnkge1xuICAgIGlmIChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB1bmRlZmluZWQpIHJldHVybiB0YXJnZXQ7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSByZXR1cm4gc291cmNlO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IHsgLi4udGFyZ2V0IH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2Vba2V5XSA9PT0gJ29iamVjdCcgJiYgc291cmNlW2tleV0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UodGFyZ2V0W2tleV0gfHwge30sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZGVlcE1lcmdlKGJhc2VUaGVtZSwgb3ZlcnJpZGVzKTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gY3JlYXRlIHRoZW1lIHdpdGggY29sb3IgbW9kZSB2YXJpYXRpb25zXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGhlbWVXaXRoQ29sb3JNb2RlcyhcbiAgbmFtZTogc3RyaW5nLFxuICBiYXNlVGhlbWU6IFBhcnRpYWw8VGhlbWU+ID0ge30sXG4gIGNvbG9yTW9kZXM6IFRoZW1lWydjb2xvck1vZGVzJ10gPSB7fVxuKTogVGhlbWUge1xuICBjb25zdCB0aGVtZSA9IGNyZWF0ZVRoZW1lKG5hbWUsIGJhc2VUaGVtZSk7XG4gIHRoZW1lLmNvbG9yTW9kZXMgPSBjb2xvck1vZGVzO1xuICByZXR1cm4gdGhlbWU7XG59XG5cbi8vIE1pbmltYWwgVGhlbWUgLSBDbGVhbiwgc3BhY2lvdXMsIGFuZCBmb2N1c2VkXG5leHBvcnQgY29uc3QgbWluaW1hbFRoZW1lOiBUaGVtZSA9IGNyZWF0ZVRoZW1lV2l0aENvbG9yTW9kZXMoJ21pbmltYWwnLCB7XG4gIGNvbG9yczoge1xuICAgIHByaW1hcnk6IHtcbiAgICAgIC4uLmNvbG9yVG9rZW5zLnByaW1hcnksXG4gICAgICA1MDA6ICdva2xjaCgwLjQ1IDAuMDUgMjUwKScsIC8vIE11dGVkIHByaW1hcnlcbiAgICB9LFxuICAgIG5ldXRyYWw6IHtcbiAgICAgIC4uLmNvbG9yVG9rZW5zLm5ldXRyYWwsXG4gICAgICA1MDogJ29rbGNoKDAuOTkgMC4wMCAwKScsIC8vIFZlcnkgbGlnaHQgYmFja2dyb3VuZFxuICAgIH0sXG4gIH0sXG4gIHNwYWNpbmc6IHtcbiAgICBzcGFjaW5nOiB7XG4gICAgICB4czogJzAuNzVyZW0nLFxuICAgICAgc206ICcxcmVtJyxcbiAgICAgIG1kOiAnMnJlbScsIC8vIEluY3JlYXNlZCBzcGFjaW5nXG4gICAgICBsZzogJzNyZW0nLFxuICAgICAgeGw6ICc0cmVtJyxcbiAgICB9LFxuICB9LFxuICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgJy0tbWluaW1hbC1lbXBoYXNpcyc6ICdzdWJ0bGUnLFxuICAgICctLWJvcmRlci1zdHlsZSc6ICdub25lJyxcbiAgICAnLS1zaGFkb3ctaW50ZW5zaXR5JzogJzAuMDInLFxuICB9LFxuICBlZmZlY3RzOiB7XG4gICAgYm94U2hhZG93OiAnMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wMiknLFxuICAgIGJvcmRlclN0eWxlOiAnbm9uZScsXG4gIH0sXG59LCB7XG4gIGRhcms6IHtcbiAgICBjb2xvcnM6IHtcbiAgICAgIG5ldXRyYWw6IHtcbiAgICAgICAgLi4uY29sb3JUb2tlbnMubmV1dHJhbCxcbiAgICAgICAgMDogJ29rbGNoKDAuMDggMC4wMCAwKScsIC8vIERhcmsgYmFja2dyb3VuZFxuICAgICAgICA1MDogJ29rbGNoKDAuMTIgMC4wMCAwKScsXG4gICAgICAgIDEwMDogJ29rbGNoKDAuMTYgMC4wMCAwKScsXG4gICAgICB9LFxuICAgICAgcHJpbWFyeToge1xuICAgICAgICAuLi5jb2xvclRva2Vucy5wcmltYXJ5LFxuICAgICAgICA1MDA6ICdva2xjaCgwLjY1IDAuMDggMjUwKScsIC8vIEJyaWdodGVyIGluIGRhcmsgbW9kZVxuICAgICAgfSxcbiAgICB9LFxuICAgIHNlbWFudGljOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgIHByaW1hcnk6ICd2YXIoLS1jb2xvci1uZXV0cmFsLTApJyxcbiAgICAgICAgc2Vjb25kYXJ5OiAndmFyKC0tY29sb3ItbmV1dHJhbC01MCknLFxuICAgICAgICB0ZXJ0aWFyeTogJ3ZhcigtLWNvbG9yLW5ldXRyYWwtMTAwKScsXG4gICAgICAgIGludmVyc2U6ICd2YXIoLS1jb2xvci1uZXV0cmFsLTApJyxcbiAgICAgIH0sXG4gICAgICB0ZXh0OiB7XG4gICAgICAgIHByaW1hcnk6ICd2YXIoLS1jb2xvci1uZXV0cmFsLTApJyxcbiAgICAgICAgc2Vjb25kYXJ5OiAndmFyKC0tY29sb3ItbmV1dHJhbC0xMDApJyxcbiAgICAgICAgdGVydGlhcnk6ICd2YXIoLS1jb2xvci1uZXV0cmFsLTIwMCknLFxuICAgICAgICBpbnZlcnNlOiAndmFyKC0tY29sb3ItbmV1dHJhbC05MDApJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICBib3hTaGFkb3c6ICcwIDFweCAzcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KScsXG4gICAgfSxcbiAgfSxcbiAgJ2hpZ2gtY29udHJhc3QnOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIC4uLmNvbG9yVG9rZW5zLnByaW1hcnksXG4gICAgICAgIDUwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIFB1cmUgYmxhY2tcbiAgICAgIH0sXG4gICAgICBuZXV0cmFsOiB7XG4gICAgICAgIC4uLmNvbG9yVG9rZW5zLm5ldXRyYWwsXG4gICAgICAgIDA6ICdva2xjaCgxLjAwIDAuMDAgMCknLCAvLyBQdXJlIHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgMTAwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIFB1cmUgYmxhY2tcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgICAnLS1taW5pbWFsLWVtcGhhc2lzJzogJ3N0cm9uZycsXG4gICAgICAnLS1ib3JkZXItc3R5bGUnOiAnMnB4IHNvbGlkJyxcbiAgICAgICctLXNoYWRvdy1pbnRlbnNpdHknOiAnMCcsXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICBib3hTaGFkb3c6ICdub25lJyxcbiAgICAgIGJvcmRlclN0eWxlOiAnMnB4IHNvbGlkIG9rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBOZW8tQnJ1dGFsaXN0IFRoZW1lIC0gQm9sZCwgZ2VvbWV0cmljLCBoaWdoIGNvbnRyYXN0XG5leHBvcnQgY29uc3QgbmVvQnJ1dGFsaXN0VGhlbWU6IFRoZW1lID0gY3JlYXRlVGhlbWVXaXRoQ29sb3JNb2RlcygnbmVvLWJydXRhbGlzdCcsIHtcbiAgY29sb3JzOiB7XG4gICAgcHJpbWFyeToge1xuICAgICAgNTA6ICdva2xjaCgxLjAwIDAuMDAgMCknLFxuICAgICAgMTAwOiAnb2tsY2goMC45NSAwLjAwIDApJyxcbiAgICAgIDIwMDogJ29rbGNoKDAuOTAgMC4wMCAwKScsXG4gICAgICAzMDA6ICdva2xjaCgwLjgwIDAuMDAgMCknLFxuICAgICAgNDAwOiAnb2tsY2goMC42MCAwLjAwIDApJyxcbiAgICAgIDUwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIFB1cmUgYmxhY2sgcHJpbWFyeVxuICAgICAgNjAwOiAnb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAgIDcwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgICA4MDA6ICdva2xjaCgwLjAwIDAuMDAgMCknLFxuICAgICAgOTAwOiAnb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAgIDk1MDogJ29rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgfSxcbiAgICBhY2NlbnQ6IHtcbiAgICAgIC4uLmNvbG9yVG9rZW5zLmFjY2VudCxcbiAgICAgIDUwMDogJ29rbGNoKDAuNzAgMC4yNSA2MCknLCAvLyBCcmlnaHQgeWVsbG93IGFjY2VudFxuICAgIH0sXG4gIH0sXG4gIHNwYWNpbmc6IHtcbiAgICBib3JkZXJXaWR0aDoge1xuICAgICAgdGhpbjogJzFweCcsXG4gICAgICBkZWZhdWx0OiAnM3B4JywgLy8gVGhpY2tlciBib3JkZXJzXG4gICAgICB0aGljazogJzVweCcsXG4gICAgICB0aGlja2VyOiAnOHB4JyxcbiAgICB9LFxuICAgIHNoYWRvd3M6IHtcbiAgICAgIHNtOiAnM3B4IDNweCAwcHggb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAgIG1kOiAnNnB4IDZweCAwcHggb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAgIGxnOiAnOXB4IDlweCAwcHggb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICB9LFxuICB9LFxuICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgJy0tYnJ1dGFsaXN0LWJvcmRlcic6ICczcHggc29saWQgb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAnLS1icnV0YWxpc3Qtc2hhZG93JzogJzZweCA2cHggMHB4IG9rbGNoKDAuMDAgMC4wMCAwKScsXG4gIH0sXG4gIGVmZmVjdHM6IHtcbiAgICBib3hTaGFkb3c6ICc2cHggNnB4IDBweCBva2xjaCgwLjAwIDAuMDAgMCknLFxuICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICB9LFxufSwge1xuICBkYXJrOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIDUwMDogJ29rbGNoKDEuMDAgMC4wMCAwKScsIC8vIFdoaXRlIHByaW1hcnkgb24gZGFya1xuICAgICAgfSxcbiAgICAgIG5ldXRyYWw6IHtcbiAgICAgICAgMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIEJsYWNrIGJhY2tncm91bmRcbiAgICAgICAgNTA6ICdva2xjaCgwLjEwIDAuMDAgMCknLFxuICAgICAgICAxMDA6ICdva2xjaCgwLjIwIDAuMDAgMCknLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAgICctLWJydXRhbGlzdC1ib3JkZXInOiAnM3B4IHNvbGlkIG9rbGNoKDEuMDAgMC4wMCAwKScsXG4gICAgICAnLS1icnV0YWxpc3Qtc2hhZG93JzogJzZweCA2cHggMHB4IG9rbGNoKDEuMDAgMC4wMCAwKScsXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICBib3hTaGFkb3c6ICc2cHggNnB4IDBweCBva2xjaCgxLjAwIDAuMDAgMCknLFxuICAgIH0sXG4gIH0sXG4gICdoaWdoLWNvbnRyYXN0Jzoge1xuICAgIGNvbG9yczoge1xuICAgICAgcHJpbWFyeToge1xuICAgICAgICA1MDA6ICdva2xjaCgwLjAwIDAuMDAgMCknLCAvLyBQdXJlIGJsYWNrXG4gICAgICB9LFxuICAgICAgYWNjZW50OiB7XG4gICAgICAgIDUwMDogJ29rbGNoKDEuMDAgMC4wMCAwKScsIC8vIFB1cmUgd2hpdGUgYWNjZW50XG4gICAgICB9LFxuICAgIH0sXG4gICAgc3BhY2luZzoge1xuICAgICAgYm9yZGVyV2lkdGg6IHtcbiAgICAgICAgZGVmYXVsdDogJzVweCcsIC8vIEV4dHJhIHRoaWNrIGJvcmRlcnNcbiAgICAgICAgdGhpY2s6ICc4cHgnLFxuICAgICAgICB0aGlja2VyOiAnMTJweCcsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gR2xhc3Ntb3JwaGljIFRoZW1lIC0gVHJhbnNsdWNlbnQsIGJsdXJyZWQgYmFja2dyb3VuZHNcbmV4cG9ydCBjb25zdCBnbGFzc21vcnBoaWNUaGVtZTogVGhlbWUgPSBjcmVhdGVUaGVtZVdpdGhDb2xvck1vZGVzKCdnbGFzc21vcnBoaWMnLCB7XG4gIGNvbG9yczoge1xuICAgIHNwZWNpYWw6IHtcbiAgICAgIGdsYXNzOiB7XG4gICAgICAgIGxpZ2h0OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyxcbiAgICAgICAgbWVkaXVtOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KScsXG4gICAgICAgIGhlYXZ5OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KScsXG4gICAgICAgIGRhcms6ICdyZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgJy0tZ2xhc3MtYmFja2Ryb3AnOiAnYmx1cigxMHB4KSBzYXR1cmF0ZSgxODAlKScsXG4gICAgJy0tZ2xhc3MtYm9yZGVyJzogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknLFxuICAgICctLWdsYXNzLWJhY2tncm91bmQnOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyxcbiAgfSxcbiAgZWZmZWN0czoge1xuICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigxMHB4KSBzYXR1cmF0ZSgxODAlKScsXG4gICAgYm94U2hhZG93OiAnMCA4cHggMzJweCByZ2JhKDMxLCAzOCwgMTM1LCAwLjM3KScsXG4gICAgYm9yZGVyU3R5bGU6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyxcbiAgfSxcbn0sIHtcbiAgZGFyazoge1xuICAgIGNvbG9yczoge1xuICAgICAgc3BlY2lhbDoge1xuICAgICAgICBnbGFzczoge1xuICAgICAgICAgIGxpZ2h0OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KScsXG4gICAgICAgICAgbWVkaXVtOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KScsXG4gICAgICAgICAgaGVhdnk6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgICAgICAgICBkYXJrOiAncmdiYSgwLCAwLCAwLCAwLjMpJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgICAnLS1nbGFzcy1iYWNrZHJvcCc6ICdibHVyKDE1cHgpIHNhdHVyYXRlKDEyMCUpJyxcbiAgICAgICctLWdsYXNzLWJvcmRlcic6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyxcbiAgICAgICctLWdsYXNzLWJhY2tncm91bmQnOiAncmdiYSgwLCAwLCAwLCAwLjIpJyxcbiAgICB9LFxuICAgIGVmZmVjdHM6IHtcbiAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigxNXB4KSBzYXR1cmF0ZSgxMjAlKScsXG4gICAgICBib3hTaGFkb3c6ICcwIDhweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgICBib3JkZXJTdHlsZTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLFxuICAgIH0sXG4gIH0sXG4gICdoaWdoLWNvbnRyYXN0Jzoge1xuICAgIGNvbG9yczoge1xuICAgICAgc3BlY2lhbDoge1xuICAgICAgICBnbGFzczoge1xuICAgICAgICAgIGxpZ2h0OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyxcbiAgICAgICAgICBtZWRpdW06ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpJyxcbiAgICAgICAgICBoZWF2eTogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMS4wKScsXG4gICAgICAgICAgZGFyazogJ3JnYmEoMCwgMCwgMCwgMC45KScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgY3VzdG9tUHJvcGVydGllczoge1xuICAgICAgJy0tZ2xhc3MtYmFja2Ryb3AnOiAnbm9uZScsXG4gICAgICAnLS1nbGFzcy1ib3JkZXInOiAnMnB4IHNvbGlkIG9rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgICAnLS1nbGFzcy1iYWNrZ3JvdW5kJzogJ29rbGNoKDEuMDAgMC4wMCAwKScsXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICBiYWNrZHJvcEZpbHRlcjogJ25vbmUnLFxuICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICBib3JkZXJTdHlsZTogJzJweCBzb2xpZCBva2xjaCgwLjAwIDAuMDAgMCknLFxuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gQ3liZXJwdW5rIFRoZW1lIC0gTmVvbiBjb2xvcnMsIGRhcmsgYmFja2dyb3VuZHNcbmV4cG9ydCBjb25zdCBjeWJlcnB1bmtUaGVtZTogVGhlbWUgPSBjcmVhdGVUaGVtZVdpdGhDb2xvck1vZGVzKCdjeWJlcnB1bmsnLCB7XG4gIGNvbG9yczoge1xuICAgIHByaW1hcnk6IHtcbiAgICAgIDUwOiAnb2tsY2goMC4yMCAwLjAwIDApJyxcbiAgICAgIDEwMDogJ29rbGNoKDAuMjUgMC4wNSAyMDApJyxcbiAgICAgIDIwMDogJ29rbGNoKDAuMzAgMC4xMCAyMDApJyxcbiAgICAgIDMwMDogJ29rbGNoKDAuNDAgMC4xNSAyMDApJyxcbiAgICAgIDQwMDogJ29rbGNoKDAuNjAgMC4yNSAyMDApJyxcbiAgICAgIDUwMDogJ29rbGNoKDAuODAgMC4zMCAyMDApJywgLy8gTmVvbiBjeWFuXG4gICAgICA2MDA6ICdva2xjaCgwLjc1IDAuMjggMjAwKScsXG4gICAgICA3MDA6ICdva2xjaCgwLjcwIDAuMjUgMjAwKScsXG4gICAgICA4MDA6ICdva2xjaCgwLjYwIDAuMjAgMjAwKScsXG4gICAgICA5MDA6ICdva2xjaCgwLjUwIDAuMTUgMjAwKScsXG4gICAgICA5NTA6ICdva2xjaCgwLjQwIDAuMTAgMjAwKScsXG4gICAgfSxcbiAgICBhY2NlbnQ6IHtcbiAgICAgIC4uLmNvbG9yVG9rZW5zLmFjY2VudCxcbiAgICAgIDUwMDogJ29rbGNoKDAuNzAgMC4zMCAzMjApJywgLy8gTmVvbiBtYWdlbnRhXG4gICAgfSxcbiAgICBuZXV0cmFsOiB7XG4gICAgICAuLi5jb2xvclRva2Vucy5uZXV0cmFsLFxuICAgICAgMDogJ29rbGNoKDAuMDggMC4wMiAyNTApJywgLy8gVmVyeSBkYXJrIGJhY2tncm91bmRcbiAgICAgIDUwOiAnb2tsY2goMC4xMiAwLjAyIDI1MCknLFxuICAgICAgMTAwOiAnb2tsY2goMC4xNiAwLjAyIDI1MCknLFxuICAgICAgMjAwOiAnb2tsY2goMC4yMCAwLjAyIDI1MCknLFxuICAgIH0sXG4gICAgc3BlY2lhbDoge1xuICAgICAgbmVvbjoge1xuICAgICAgICBjeWFuOiAnb2tsY2goMC44MCAwLjMwIDIwMCknLFxuICAgICAgICBtYWdlbnRhOiAnb2tsY2goMC43MCAwLjMwIDMyMCknLFxuICAgICAgICB5ZWxsb3c6ICdva2xjaCgwLjkwIDAuMjUgOTApJyxcbiAgICAgICAgZ3JlZW46ICdva2xjaCgwLjgwIDAuMzAgMTQwKScsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAnLS1jeWJlcnB1bmstZ2xvdyc6ICcwIDAgMTBweCBjdXJyZW50Q29sb3InLFxuICAgICctLWN5YmVycHVuay10ZXh0LXNoYWRvdyc6ICcwIDAgNXB4IGN1cnJlbnRDb2xvcicsXG4gIH0sXG4gIGVmZmVjdHM6IHtcbiAgICBib3hTaGFkb3c6ICcwIDAgMjBweCByZ2JhKDAsIDI1NSwgMjU1LCAwLjMpJyxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBuZW9uR2xvdzogJ25lb25HbG93IDJzIGVhc2UtaW4tb3V0IGluZmluaXRlIGFsdGVybmF0ZScsXG4gICAgICB0ZXh0RmxpY2tlcjogJ3RleHRGbGlja2VyIDEuNXMgaW5maW5pdGUnLFxuICAgIH0sXG4gIH0sXG59LCB7XG4gIGxpZ2h0OiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBuZXV0cmFsOiB7XG4gICAgICAgIDA6ICdva2xjaCgwLjk4IDAuMDAgMCknLCAvLyBMaWdodCBiYWNrZ3JvdW5kXG4gICAgICAgIDUwOiAnb2tsY2goMC45NSAwLjAwIDApJyxcbiAgICAgICAgMTAwOiAnb2tsY2goMC45MCAwLjAwIDApJyxcbiAgICAgIH0sXG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIDUwMDogJ29rbGNoKDAuNDAgMC4yNSAyMDApJywgLy8gRGFya2VyIGN5YW4gZm9yIGxpZ2h0IG1vZGVcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgICAnLS1jeWJlcnB1bmstZ2xvdyc6ICcwIDAgNXB4IGN1cnJlbnRDb2xvcicsXG4gICAgICAnLS1jeWJlcnB1bmstdGV4dC1zaGFkb3cnOiAnbm9uZScsXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMTUwLCAxNTAsIDAuMiknLFxuICAgIH0sXG4gIH0sXG4gICdoaWdoLWNvbnRyYXN0Jzoge1xuICAgIGNvbG9yczoge1xuICAgICAgcHJpbWFyeToge1xuICAgICAgICA1MDA6ICdva2xjaCgwLjAwIDAuMDAgMCknLCAvLyBQdXJlIGJsYWNrXG4gICAgICB9LFxuICAgICAgYWNjZW50OiB7XG4gICAgICAgIDUwMDogJ29rbGNoKDEuMDAgMC4wMCAwKScsIC8vIFB1cmUgd2hpdGVcbiAgICAgIH0sXG4gICAgICBzcGVjaWFsOiB7XG4gICAgICAgIG5lb246IHtcbiAgICAgICAgICBjeWFuOiAnb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICAgICAgICBtYWdlbnRhOiAnb2tsY2goMS4wMCAwLjAwIDApJyxcbiAgICAgICAgICB5ZWxsb3c6ICdva2xjaCgwLjAwIDAuMDAgMCknLFxuICAgICAgICAgIGdyZWVuOiAnb2tsY2goMS4wMCAwLjAwIDApJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgICAnLS1jeWJlcnB1bmstZ2xvdyc6ICdub25lJyxcbiAgICAgICctLWN5YmVycHVuay10ZXh0LXNoYWRvdyc6ICdub25lJyxcbiAgICB9LFxuICAgIGVmZmVjdHM6IHtcbiAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgICAgYW5pbWF0aW9uczoge30sXG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBFZGl0b3JpYWwgVGhlbWUgLSBUeXBvZ3JhcGh5LWZvY3VzZWQsIHJlYWRhYmxlXG5leHBvcnQgY29uc3QgZWRpdG9yaWFsVGhlbWU6IFRoZW1lID0gY3JlYXRlVGhlbWVXaXRoQ29sb3JNb2RlcygnZWRpdG9yaWFsJywge1xuICB0eXBvZ3JhcGh5OiB7XG4gICAgZmFtaWxpZXM6IHtcbiAgICAgIGhlYWRpbmc6ICdcIlBsYXlmYWlyIERpc3BsYXlcIiwgXCJHZW9yZ2lhXCIsIHNlcmlmJyxcbiAgICAgIGJvZHk6ICdcIlNvdXJjZSBTYW5zIFByb1wiLCBcInN5c3RlbS11aVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgIGNvZGU6ICdcIklCTSBQbGV4IE1vbm9cIiwgXCJDb25zb2xhc1wiLCBtb25vc3BhY2UnLFxuICAgIH0sXG4gICAgc2l6ZXM6IHtcbiAgICAgIHhzOiAnMC43NXJlbScsXG4gICAgICBzbTogJzAuODc1cmVtJyxcbiAgICAgIGJhc2U6ICcxcmVtJyxcbiAgICAgIGxnOiAnMS4xMjVyZW0nLCAvLyBMYXJnZXIgYmFzZSByZWFkaW5nIHNpemVcbiAgICAgIHhsOiAnMS4yNXJlbScsXG4gICAgICAnMnhsJzogJzEuNXJlbScsXG4gICAgICAnM3hsJzogJzEuODc1cmVtJyxcbiAgICAgICc0eGwnOiAnMi4yNXJlbScsXG4gICAgfSxcbiAgICBsaW5lSGVpZ2h0czoge1xuICAgICAgbm9ybWFsOiAnMS42JywgLy8gSW1wcm92ZWQgcmVhZGluZyBsaW5lIGhlaWdodFxuICAgICAgcmVsYXhlZDogJzEuNycsXG4gICAgICBsb29zZTogJzEuOCcsXG4gICAgfSxcbiAgfSxcbiAgY29sb3JzOiB7XG4gICAgbmV1dHJhbDoge1xuICAgICAgLi4uY29sb3JUb2tlbnMubmV1dHJhbCxcbiAgICAgIDkwMDogJ29rbGNoKDAuMjAgMC4wMCAwKScsIC8vIFNsaWdodGx5IHNvZnRlciBibGFjayBmb3IgdGV4dFxuICAgIH0sXG4gIH0sXG4gIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAnLS1lZGl0b3JpYWwtbWVhc3VyZSc6ICc2NWNoJywgLy8gT3B0aW1hbCByZWFkaW5nIHdpZHRoXG4gICAgJy0tZWRpdG9yaWFsLWxlYWRpbmcnOiAnMS42JyxcbiAgfSxcbn0sIHtcbiAgZGFyazoge1xuICAgIGNvbG9yczoge1xuICAgICAgbmV1dHJhbDoge1xuICAgICAgICAwOiAnb2tsY2goMC4xMCAwLjAwIDApJywgLy8gRGFyayByZWFkaW5nIGJhY2tncm91bmRcbiAgICAgICAgNTA6ICdva2xjaCgwLjE1IDAuMDAgMCknLFxuICAgICAgICAxMDA6ICdva2xjaCgwLjIwIDAuMDAgMCknLFxuICAgICAgICA5MDA6ICdva2xjaCgwLjg1IDAuMDAgMCknLCAvLyBMaWdodCB0ZXh0XG4gICAgICB9LFxuICAgIH0sXG4gICAgY3VzdG9tUHJvcGVydGllczoge1xuICAgICAgJy0tZWRpdG9yaWFsLW1lYXN1cmUnOiAnNjBjaCcsIC8vIFNsaWdodGx5IG5hcnJvd2VyIGZvciBkYXJrIG1vZGVcbiAgICAgICctLWVkaXRvcmlhbC1sZWFkaW5nJzogJzEuNycsXG4gICAgfSxcbiAgfSxcbiAgJ2hpZ2gtY29udHJhc3QnOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBuZXV0cmFsOiB7XG4gICAgICAgIDA6ICdva2xjaCgxLjAwIDAuMDAgMCknLCAvLyBQdXJlIHdoaXRlXG4gICAgICAgIDkwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIFB1cmUgYmxhY2sgdGV4dFxuICAgICAgfSxcbiAgICB9LFxuICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgIHNpemVzOiB7XG4gICAgICAgIGJhc2U6ICcxLjEyNXJlbScsIC8vIExhcmdlciB0ZXh0IGZvciBhY2Nlc3NpYmlsaXR5XG4gICAgICAgIGxnOiAnMS4yNXJlbScsXG4gICAgICAgIHhsOiAnMS41cmVtJyxcbiAgICAgIH0sXG4gICAgICBsaW5lSGVpZ2h0czoge1xuICAgICAgICBub3JtYWw6ICcxLjgnLCAvLyBJbmNyZWFzZWQgbGluZSBoZWlnaHRcbiAgICAgICAgcmVsYXhlZDogJzEuOScsXG4gICAgICAgIGxvb3NlOiAnMi4wJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBBY2Nlc3NpYmxlIFRoZW1lIC0gSGlnaCBjb250cmFzdCwgb3B0aW1pemVkIGZvciBzY3JlZW4gcmVhZGVyc1xuZXhwb3J0IGNvbnN0IGFjY2Vzc2libGVUaGVtZTogVGhlbWUgPSBjcmVhdGVUaGVtZVdpdGhDb2xvck1vZGVzKCdhY2Nlc3NpYmxlJywge1xuICBjb2xvcnM6IHtcbiAgICBwcmltYXJ5OiB7XG4gICAgICA1MDogJ29rbGNoKDAuOTggMC4wMCAwKScsXG4gICAgICAxMDA6ICdva2xjaCgwLjk1IDAuMDAgMCknLFxuICAgICAgMjAwOiAnb2tsY2goMC45MCAwLjAwIDApJyxcbiAgICAgIDMwMDogJ29rbGNoKDAuODAgMC4wMCAwKScsXG4gICAgICA0MDA6ICdva2xjaCgwLjYwIDAuMDAgMCknLFxuICAgICAgNTAwOiAnb2tsY2goMC4yMCAwLjAwIDApJywgLy8gSGlnaCBjb250cmFzdCBwcmltYXJ5XG4gICAgICA2MDA6ICdva2xjaCgwLjE1IDAuMDAgMCknLFxuICAgICAgNzAwOiAnb2tsY2goMC4xMCAwLjAwIDApJyxcbiAgICAgIDgwMDogJ29rbGNoKDAuMDUgMC4wMCAwKScsXG4gICAgICA5MDA6ICdva2xjaCgwLjAwIDAuMDAgMCknLFxuICAgICAgOTUwOiAnb2tsY2goMC4wMCAwLjAwIDApJyxcbiAgICB9LFxuICAgIHNwZWNpYWw6IHtcbiAgICAgIGhpZ2hDb250cmFzdDoge1xuICAgICAgICBibGFjazogJ29rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgICAgIHdoaXRlOiAnb2tsY2goMS4wMCAwLjAwIDApJyxcbiAgICAgICAgZGFya0dyYXk6ICdva2xjaCgwLjIwIDAuMDAgMCknLFxuICAgICAgICBsaWdodEdyYXk6ICdva2xjaCgwLjgwIDAuMDAgMCknLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBzcGFjaW5nOiB7XG4gICAgc3BhY2luZzoge1xuICAgICAgeHM6ICcwLjVyZW0nLFxuICAgICAgc206ICcxcmVtJyxcbiAgICAgIG1kOiAnMS41cmVtJyxcbiAgICAgIGxnOiAnMi41cmVtJywgLy8gTGFyZ2VyIHRhcCB0YXJnZXRzXG4gICAgICB4bDogJzNyZW0nLFxuICAgIH0sXG4gIH0sXG4gIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAnLS1hY2Nlc3NpYmxlLWZvY3VzJzogJzNweCBzb2xpZCBva2xjaCgwLjYwIDAuMjUgMjUwKScsXG4gICAgJy0tYWNjZXNzaWJsZS10YXJnZXQtc2l6ZSc6ICc0NHB4JywgLy8gTWluaW11bSB0b3VjaCB0YXJnZXRcbiAgfSxcbn0sIHtcbiAgZGFyazoge1xuICAgIGNvbG9yczoge1xuICAgICAgcHJpbWFyeToge1xuICAgICAgICA1MDA6ICdva2xjaCgwLjg1IDAuMDAgMCknLCAvLyBMaWdodCBwcmltYXJ5IG9uIGRhcmtcbiAgICAgIH0sXG4gICAgICBuZXV0cmFsOiB7XG4gICAgICAgIDA6ICdva2xjaCgwLjAwIDAuMDAgMCknLCAvLyBQdXJlIGJsYWNrIGJhY2tncm91bmRcbiAgICAgICAgNTA6ICdva2xjaCgwLjA1IDAuMDAgMCknLFxuICAgICAgICA5MDA6ICdva2xjaCgxLjAwIDAuMDAgMCknLCAvLyBQdXJlIHdoaXRlIHRleHRcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzOiB7XG4gICAgICAnLS1hY2Nlc3NpYmxlLWZvY3VzJzogJzNweCBzb2xpZCBva2xjaCgwLjcwIDAuMjUgMjUwKScsXG4gICAgfSxcbiAgfSxcbiAgJ2hpZ2gtY29udHJhc3QnOiB7XG4gICAgY29sb3JzOiB7XG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIDUwMDogJ29rbGNoKDAuMDAgMC4wMCAwKScsIC8vIFB1cmUgYmxhY2tcbiAgICAgIH0sXG4gICAgICBuZXV0cmFsOiB7XG4gICAgICAgIDA6ICdva2xjaCgxLjAwIDAuMDAgMCknLCAvLyBQdXJlIHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgOTAwOiAnb2tsY2goMC4wMCAwLjAwIDApJywgLy8gUHVyZSBibGFjayB0ZXh0XG4gICAgICB9LFxuICAgIH0sXG4gICAgc3BhY2luZzoge1xuICAgICAgc3BhY2luZzoge1xuICAgICAgICBsZzogJzNyZW0nLCAvLyBFdmVuIGxhcmdlciB0YXAgdGFyZ2V0c1xuICAgICAgICB4bDogJzRyZW0nLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGN1c3RvbVByb3BlcnRpZXM6IHtcbiAgICAgICctLWFjY2Vzc2libGUtZm9jdXMnOiAnNHB4IHNvbGlkIG9rbGNoKDAuMDAgMC4wMCAwKScsXG4gICAgICAnLS1hY2Nlc3NpYmxlLXRhcmdldC1zaXplJzogJzQ4cHgnLCAvLyBMYXJnZXIgdG91Y2ggdGFyZ2V0c1xuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gVGhlbWUgcmVnaXN0cnlcbmV4cG9ydCBjb25zdCB0aGVtZXMgPSB7XG4gIG1pbmltYWw6IG1pbmltYWxUaGVtZSxcbiAgJ25lby1icnV0YWxpc3QnOiBuZW9CcnV0YWxpc3RUaGVtZSxcbiAgZ2xhc3Ntb3JwaGljOiBnbGFzc21vcnBoaWNUaGVtZSxcbiAgY3liZXJwdW5rOiBjeWJlcnB1bmtUaGVtZSxcbiAgZWRpdG9yaWFsOiBlZGl0b3JpYWxUaGVtZSxcbiAgYWNjZXNzaWJsZTogYWNjZXNzaWJsZVRoZW1lLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgVGhlbWVOYW1lID0ga2V5b2YgdHlwZW9mIHRoZW1lcztcblxuLy8gRnVuY3Rpb24gdG8gZ2V0IGEgdGhlbWUgYnkgbmFtZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRoZW1lKG5hbWU6IFRoZW1lTmFtZSk6IFRoZW1lIHtcbiAgcmV0dXJuIHRoZW1lc1tuYW1lXTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gZ2V0IGEgdGhlbWUgd2l0aCBjb2xvciBtb2RlIGFwcGxpZWRcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaGVtZVdpdGhDb2xvck1vZGUobmFtZTogVGhlbWVOYW1lLCBjb2xvck1vZGU6IENvbG9yTW9kZSk6IFRoZW1lIHtcbiAgY29uc3QgYmFzZVRoZW1lID0gdGhlbWVzW25hbWVdO1xuICBcbiAgaWYgKCFiYXNlVGhlbWUuY29sb3JNb2RlcyB8fCAhYmFzZVRoZW1lLmNvbG9yTW9kZXNbY29sb3JNb2RlXSkge1xuICAgIHJldHVybiBiYXNlVGhlbWU7XG4gIH1cblxuICBjb25zdCBjb2xvck1vZGVPdmVycmlkZXMgPSBiYXNlVGhlbWUuY29sb3JNb2Rlc1tjb2xvck1vZGVdO1xuICBcbiAgLy8gRGVlcCBtZXJnZSB0aGUgY29sb3IgbW9kZSBvdmVycmlkZXMgd2l0aCB0aGUgYmFzZSB0aGVtZVxuICBmdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0OiBhbnksIHNvdXJjZTogYW55KTogYW55IHtcbiAgICBpZiAoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGFyZ2V0O1xuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0JykgcmV0dXJuIHNvdXJjZTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSB7IC4uLnRhcmdldCB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2tleV0gPT09ICdvYmplY3QnICYmIHNvdXJjZVtrZXldICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHRhcmdldFtrZXldIHx8IHt9LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGRlZXBNZXJnZShiYXNlVGhlbWUsIGNvbG9yTW9kZU92ZXJyaWRlcyk7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIENTUyBjdXN0b20gcHJvcGVydGllcyBmb3IgYSB0aGVtZVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVGhlbWVWYXJpYWJsZXModGhlbWU6IFRoZW1lKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gIC8vIENvbG9yIHZhcmlhYmxlc1xuICBmdW5jdGlvbiBwcm9jZXNzQ29sb3JzKGNvbG9yczogYW55LCBwcmVmaXg6IHN0cmluZyA9ICdjb2xvcicpOiB2b2lkIHtcbiAgICBPYmplY3QuZW50cmllcyhjb2xvcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgcHJvY2Vzc0NvbG9ycyh2YWx1ZSwgYCR7cHJlZml4fS0ke2tleX1gKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXJpYWJsZXNbYC0tJHtwcmVmaXh9LSR7a2V5fWBdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm9jZXNzQ29sb3JzKHRoZW1lLmNvbG9ycyk7XG5cbiAgLy8gQ3VzdG9tIHByb3BlcnRpZXNcbiAgT2JqZWN0LmVudHJpZXModGhlbWUuY3VzdG9tUHJvcGVydGllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgdmFyaWFibGVzW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHZhcmlhYmxlcztcbn1cblxuLy8gRnVuY3Rpb24gdG8gYXBwbHkgdGhlbWUgdG8gZG9jdW1lbnQgd2l0aCBjb2xvciBtb2RlIHN1cHBvcnRcbmV4cG9ydCBmdW5jdGlvbiBhcHBseVRoZW1lKHRoZW1lOiBUaGVtZSwgY29sb3JNb2RlPzogQ29sb3JNb2RlKTogdm9pZCB7XG4gIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIFxuICAvLyBHZXQgdGhlbWUgd2l0aCBjb2xvciBtb2RlIGFwcGxpZWQgaWYgc3BlY2lmaWVkXG4gIGNvbnN0IGFwcGxpZWRUaGVtZSA9IGNvbG9yTW9kZSAmJiB0aGVtZS5jb2xvck1vZGVzPy5bY29sb3JNb2RlXSBcbiAgICA/IGdldFRoZW1lV2l0aENvbG9yTW9kZSh0aGVtZS5uYW1lIGFzIFRoZW1lTmFtZSwgY29sb3JNb2RlKVxuICAgIDogdGhlbWU7XG4gICAgXG4gIGNvbnN0IHZhcmlhYmxlcyA9IGdlbmVyYXRlVGhlbWVWYXJpYWJsZXMoYXBwbGllZFRoZW1lKTtcblxuICBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLmZvckVhY2goKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiB7XG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICB9KTtcblxuICAvLyBBZGQgdGhlbWUgY2xhc3MgdG8gYm9keSBmb3IgQ1NTIHRhcmdldGluZ1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lXG4gICAgLnJlcGxhY2UoL3RoZW1lLVxcdysvZywgJycpXG4gICAgLmNvbmNhdChgIHRoZW1lLSR7YXBwbGllZFRoZW1lLm5hbWV9YCk7XG4gICAgXG4gIC8vIEFkZCBjb2xvciBtb2RlIGNsYXNzIGlmIHNwZWNpZmllZFxuICBpZiAoY29sb3JNb2RlKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZVxuICAgICAgLnJlcGxhY2UoL2NvbG9yLW1vZGUtXFx3Ky9nLCAnJylcbiAgICAgIC5jb25jYXQoYCBjb2xvci1tb2RlLSR7Y29sb3JNb2RlfWApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRoZW1lczsgIl0sIm5hbWVzIjpbImFjY2Vzc2libGVUaGVtZSIsImFwcGx5VGhlbWUiLCJjcmVhdGVUaGVtZSIsImNyZWF0ZVRoZW1lV2l0aENvbG9yTW9kZXMiLCJjeWJlcnB1bmtUaGVtZSIsImVkaXRvcmlhbFRoZW1lIiwiZ2VuZXJhdGVEeW5hbWljVGhlbWUiLCJnZW5lcmF0ZVRoZW1lVmFyaWFibGVzIiwiZ2V0VGhlbWUiLCJnZXRUaGVtZVdpdGhDb2xvck1vZGUiLCJnbGFzc21vcnBoaWNUaGVtZSIsIm1pbmltYWxUaGVtZSIsIm5lb0JydXRhbGlzdFRoZW1lIiwidGhlbWVzIiwiZ2VuZXJhdGVDb2xvclNjYWxlIiwiYmFzZUNvbG9yIiwic3RlcHMiLCJjb2xvcnMiLCJpIiwibGlnaHRuZXNzIiwidG9GaXhlZCIsImludmVydENvbG9yU2NhbGUiLCJjb2xvclNjYWxlIiwiaW52ZXJ0ZWQiLCJrZXlzIiwiT2JqZWN0IiwicmV2ZXJzZSIsInZhbHVlcyIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsInNlZWRDb2xvciIsImNvbXBsZW1lbnRhcnkiLCJ0cmlhZGljMSIsImR5bmFtaWNDb2xvcnMiLCJjb2xvclRva2VucyIsInByaW1hcnkiLCJ0b1N0cmluZyIsInNlY29uZGFyeSIsImFjY2VudCIsImN1c3RvbVByb3BlcnRpZXMiLCJuYW1lIiwib3ZlcnJpZGVzIiwiYmFzZVRoZW1lIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwic2VtYW50aWMiLCJzZW1hbnRpY0NvbG9yTWFwIiwidHlwb2dyYXBoeSIsImRlZmF1bHRUeXBvZ3JhcGh5Q29uZmlnIiwic3BhY2luZyIsImRlZmF1bHRTcGFjaW5nQ29uZmlnIiwiZGVlcE1lcmdlIiwidGFyZ2V0Iiwic291cmNlIiwidW5kZWZpbmVkIiwicmVzdWx0IiwiaGFzT3duUHJvcGVydHkiLCJBcnJheSIsImlzQXJyYXkiLCJjb2xvck1vZGVzIiwidGhlbWUiLCJuZXV0cmFsIiwieHMiLCJzbSIsIm1kIiwibGciLCJ4bCIsImVmZmVjdHMiLCJib3hTaGFkb3ciLCJib3JkZXJTdHlsZSIsImRhcmsiLCJiYWNrZ3JvdW5kIiwidGVydGlhcnkiLCJpbnZlcnNlIiwidGV4dCIsImJvcmRlcldpZHRoIiwidGhpbiIsImRlZmF1bHQiLCJ0aGljayIsInRoaWNrZXIiLCJzaGFkb3dzIiwic3BlY2lhbCIsImdsYXNzIiwibGlnaHQiLCJtZWRpdW0iLCJoZWF2eSIsImJhY2tkcm9wRmlsdGVyIiwibmVvbiIsImN5YW4iLCJtYWdlbnRhIiwieWVsbG93IiwiZ3JlZW4iLCJhbmltYXRpb25zIiwibmVvbkdsb3ciLCJ0ZXh0RmxpY2tlciIsImZhbWlsaWVzIiwiaGVhZGluZyIsImJvZHkiLCJjb2RlIiwic2l6ZXMiLCJiYXNlIiwibGluZUhlaWdodHMiLCJub3JtYWwiLCJyZWxheGVkIiwibG9vc2UiLCJoaWdoQ29udHJhc3QiLCJibGFjayIsIndoaXRlIiwiZGFya0dyYXkiLCJsaWdodEdyYXkiLCJtaW5pbWFsIiwiZ2xhc3Ntb3JwaGljIiwiY3liZXJwdW5rIiwiZWRpdG9yaWFsIiwiYWNjZXNzaWJsZSIsImNvbG9yTW9kZSIsImNvbG9yTW9kZU92ZXJyaWRlcyIsInZhcmlhYmxlcyIsInByb2Nlc3NDb2xvcnMiLCJwcmVmaXgiLCJlbnRyaWVzIiwidmFsdWUiLCJyb290IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBsaWVkVGhlbWUiLCJwcm9wZXJ0eSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiY29uY2F0Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztJQThnQllBLGVBQWU7ZUFBZkE7O0lBc0pHQyxVQUFVO2VBQVZBOztJQXRsQkFDLFdBQVc7ZUFBWEE7O0lBbUNBQyx5QkFBeUI7ZUFBekJBOztJQXVQSEMsY0FBYztlQUFkQTs7SUF1VmIsT0FBc0I7ZUFBdEI7O0lBeFBhQyxjQUFjO2VBQWRBOztJQS9ZR0Msb0JBQW9CO2VBQXBCQTs7SUFtbEJBQyxzQkFBc0I7ZUFBdEJBOztJQXBDQUMsUUFBUTtlQUFSQTs7SUFLQUMscUJBQXFCO2VBQXJCQTs7SUF6VUhDLGlCQUFpQjtlQUFqQkE7O0lBdktBQyxZQUFZO2VBQVpBOztJQXNGQUMsaUJBQWlCO2VBQWpCQTs7SUF5WUFDLE1BQU07ZUFBTkE7Ozt3QkF6bEJpQzs0QkFDTjt5QkFDSDtBQTRCckMsOENBQThDO0FBQzlDLFNBQVNDLG1CQUFtQkMsU0FBaUIsRUFBRUMsUUFBZ0IsRUFBRTtJQUMvRCxNQUFNQyxTQUFpQyxDQUFDO0lBQ3hDLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixPQUFPRSxJQUFLO1FBQzlCLE1BQU1DLFlBQVksT0FBUUQsSUFBSTtRQUM5QkQsTUFBTSxDQUFDLEdBQUcsQUFBQ0MsQ0FBQUEsSUFBSSxDQUFBLElBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLFVBQVVDLE9BQU8sQ0FBQyxHQUFHLE1BQU0sRUFBRUwsVUFBVSxDQUFDLENBQUM7SUFDaEY7SUFDQSxPQUFPRTtBQUNUO0FBRUEsa0RBQWtEO0FBQ2xELFNBQVNJLGlCQUFpQkMsVUFB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