{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/hooks/__tests__/useContextualTheme.test.ts"],"sourcesContent":["/**\n * Tests for the useContextualTheme hook\n */\n\nimport { renderHook, act } from '@testing-library/react';\nimport { useContextualTheme } from '../useContextualTheme';\nimport { ThemeContext, ThemeConfig } from '../../utils/theme';\n\n// Mock localStorage\nconst localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n};\n\n// Mock applyTheme\njest.mock('../../utils/theme', () => ({\n  ...jest.requireActual('../../utils/theme'),\n  applyTheme: jest.fn(),\n  getThemeVariables: jest.fn(() => ({ '--bg-primary': '#ffffff' })),\n}));\n\nconst { applyTheme, getThemeVariables } = require('../../utils/theme');\n\n// Mock document and window\nconst documentMock = {\n  documentElement: {\n    classList: {\n      add: jest.fn(),\n      remove: jest.fn(),\n    },\n    style: {\n      setProperty: jest.fn(),\n      removeProperty: jest.fn(),\n    },\n    setAttribute: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n  },\n  body: {\n    innerHTML: '',\n    className: '',\n    appendChild: jest.fn(),\n    removeChild: jest.fn(),\n    insertBefore: jest.fn(),\n    children: [],\n    childNodes: [],\n  },\n  createElement: jest.fn((tagName) => ({\n    tagName,\n    focus: jest.fn(),\n    blur: jest.fn(),\n    setAttribute: jest.fn(),\n    getAttribute: jest.fn(),\n    removeAttribute: jest.fn(),\n    style: {},\n    classList: {\n      add: jest.fn(),\n      remove: jest.fn(),\n    },\n  })),\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n};\n\nconst windowMock = {\n  document: documentMock,\n  localStorage: localStorageMock,\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n};\n\nObject.defineProperty(window, 'localStorage', {\n  value: localStorageMock,\n  writable: true,\n});\n\nObject.defineProperty(global, 'document', {\n  value: documentMock,\n  writable: true,\n});\n\nObject.defineProperty(global, 'window', {\n  value: windowMock,\n  writable: true,\n});\n\ndescribe('useContextualTheme', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    localStorageMock.getItem.mockReturnValue(null);\n  });\n\n  describe('initialization', () => {\n    it('should initialize with default values', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      expect(result.current.state).toEqual({\n        context: 'default',\n        enabled: true,\n        transitionsEnabled: true,\n      });\n    });\n\n    it('should initialize with custom default values', () => {\n      const { result } = renderHook(() => \n        useContextualTheme('custom-key', 'focus', false)\n      );\n\n      expect(result.current.state).toEqual({\n        context: 'focus',\n        enabled: true,\n        transitionsEnabled: false,\n      });\n    });\n\n    it('should load state from localStorage', () => {\n      const storedState = {\n        context: 'relax' as ThemeContext,\n        enabled: false,\n        transitionsEnabled: false,\n      };\n      localStorageMock.getItem.mockReturnValue(JSON.stringify(storedState));\n\n      const { result } = renderHook(() => useContextualTheme());\n\n      expect(result.current.state).toEqual(storedState);\n    });\n\n    it('should handle invalid localStorage data gracefully', () => {\n      localStorageMock.getItem.mockReturnValue('invalid-json');\n\n      const { result } = renderHook(() => useContextualTheme());\n\n      expect(result.current.state).toEqual({\n        context: 'default',\n        enabled: true,\n        transitionsEnabled: true,\n      });\n    });\n  });\n\n  describe('setContext', () => {\n    it('should update context and save to localStorage', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setContext('focus');\n      });\n\n      expect(result.current.state.context).toBe('focus');\n      expect(localStorageMock.setItem).toHaveBeenCalledWith(\n        'opssight-contextual-theme',\n        JSON.stringify({\n          context: 'focus',\n          enabled: true,\n          transitionsEnabled: true,\n        })\n      );\n    });\n\n    it('should update context without affecting other state', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      act(() => {\n        result.current.setContext('energize');\n      });\n\n      expect(result.current.state).toEqual({\n        context: 'energize',\n        enabled: false,\n        transitionsEnabled: true,\n      });\n    });\n  });\n\n  describe('toggleEnabled', () => {\n    it('should toggle enabled state', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      expect(result.current.state.enabled).toBe(false);\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      expect(result.current.state.enabled).toBe(true);\n    });\n\n    it('should save state to localStorage when toggling', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      expect(localStorageMock.setItem).toHaveBeenCalledWith(\n        'opssight-contextual-theme',\n        JSON.stringify({\n          context: 'default',\n          enabled: false,\n          transitionsEnabled: true,\n        })\n      );\n    });\n  });\n\n  describe('setTransitionsEnabled', () => {\n    it('should update transitions enabled state', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setTransitionsEnabled(false);\n      });\n\n      expect(result.current.state.transitionsEnabled).toBe(false);\n    });\n\n    it('should update CSS properties when transitions are enabled/disabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setTransitionsEnabled(false);\n      });\n\n      expect(documentMock.documentElement.style.removeProperty).toHaveBeenCalledWith('--theme-transition-duration');\n      expect(documentMock.documentElement.style.removeProperty).toHaveBeenCalledWith('--theme-transition-easing');\n\n      act(() => {\n        result.current.setTransitionsEnabled(true);\n      });\n\n      expect(documentMock.documentElement.style.setProperty).toHaveBeenCalledWith('--theme-transition-duration', '300ms');\n      expect(documentMock.documentElement.style.setProperty).toHaveBeenCalledWith('--theme-transition-easing', 'cubic-bezier(0.4, 0, 0.2, 1)');\n    });\n  });\n\n  describe('resetToDefault', () => {\n    it('should reset context to default', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setContext('focus');\n      });\n\n      act(() => {\n        result.current.resetToDefault();\n      });\n\n      expect(result.current.state.context).toBe('default');\n    });\n\n    it('should reset to custom default', () => {\n      const { result } = renderHook(() => \n        useContextualTheme('custom-key', 'relax', true)\n      );\n\n      act(() => {\n        result.current.setContext('focus');\n      });\n\n      act(() => {\n        result.current.resetToDefault();\n      });\n\n      expect(result.current.state.context).toBe('relax');\n    });\n  });\n\n  describe('applyContextualTheme', () => {\n    const mockConfig: ThemeConfig = {\n      variant: 'minimal',\n      colorMode: 'light',\n      reducedMotion: false,\n    };\n\n    it('should apply theme with contextual overrides when enabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setContext('focus');\n      });\n\n      act(() => {\n        result.current.applyContextualTheme(mockConfig);\n      });\n\n      expect(applyTheme).toHaveBeenCalledWith({\n        ...mockConfig,\n        context: 'focus',\n      });\n    });\n\n    it('should not apply theme when disabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      act(() => {\n        result.current.applyContextualTheme(mockConfig);\n      });\n\n      expect(applyTheme).not.toHaveBeenCalled();\n    });\n\n    it('should handle transitions when enabled', () => {\n      jest.useFakeTimers();\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.applyContextualTheme(mockConfig);\n      });\n\n      expect(documentMock.documentElement.classList.add).toHaveBeenCalledWith('theme-transitioning');\n\n      act(() => {\n        jest.advanceTimersByTime(300);\n      });\n\n      expect(documentMock.documentElement.classList.remove).toHaveBeenCalledWith('theme-transitioning');\n\n      jest.useRealTimers();\n    });\n\n    it('should not handle transitions when disabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setTransitionsEnabled(false);\n      });\n\n      act(() => {\n        result.current.applyContextualTheme(mockConfig);\n      });\n\n      expect(documentMock.documentElement.classList.add).not.toHaveBeenCalledWith('theme-transitioning');\n    });\n  });\n\n  describe('getContextualVariables', () => {\n    const mockConfig: ThemeConfig = {\n      variant: 'minimal',\n      colorMode: 'light',\n      reducedMotion: false,\n    };\n\n    it('should return theme variables with context when enabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setContext('relax');\n      });\n\n      result.current.getContextualVariables(mockConfig);\n\n      expect(getThemeVariables).toHaveBeenCalledWith({\n        ...mockConfig,\n        context: 'relax',\n      });\n    });\n\n    it('should return theme variables without context when disabled', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      result.current.getContextualVariables(mockConfig);\n\n      expect(getThemeVariables).toHaveBeenCalledWith(mockConfig);\n    });\n  });\n\n  describe('DOM attributes', () => {\n    it('should set data attributes on document element', () => {\n      const { result } = renderHook(() => useContextualTheme());\n\n      act(() => {\n        result.current.setContext('energize');\n      });\n\n      expect(documentMock.documentElement.setAttribute).toHaveBeenCalledWith('data-contextual-theme', 'energize');\n      expect(documentMock.documentElement.setAttribute).toHaveBeenCalledWith('data-contextual-enabled', 'true');\n\n      act(() => {\n        result.current.toggleEnabled();\n      });\n\n      expect(documentMock.documentElement.setAttribute).toHaveBeenCalledWith('data-contextual-enabled', 'false');\n    });\n  });\n\n  describe('edge cases', () => {\n    it('should handle localStorage errors gracefully', () => {\n      localStorageMock.setItem.mockImplementation(() => {\n        throw new Error('localStorage error');\n      });\n\n      const { result } = renderHook(() => useContextualTheme());\n\n      expect(() => {\n        act(() => {\n          result.current.setContext('focus');\n        });\n      }).not.toThrow();\n\n      expect(result.current.state.context).toBe('focus');\n    });\n\n    it('should handle partial localStorage data', () => {\n      const partialState = { context: 'relax' };\n      localStorageMock.getItem.mockReturnValue(JSON.stringify(partialState));\n\n      const { result } = renderHook(() => useContextualTheme());\n\n      expect(result.current.state).toEqual({\n        context: 'relax',\n        enabled: true,\n        transitionsEnabled: true,\n      });\n    });\n\n    it('should use custom storage key', () => {\n      const { result } = renderHook(() => \n        useContextualTheme('custom-storage-key')\n      );\n\n      act(() => {\n        result.current.setContext('focus');\n      });\n\n      expect(localStorageMock.setItem).toHaveBeenCalledWith(\n        'custom-storage-key',\n        expect.any(String)\n      );\n    });\n  });\n}); "],"names":["jest","mock","requireActual","applyTheme","fn","getThemeVariables","localStorageMock","getItem","setItem","removeItem","clear","require","documentMock","documentElement","classList","add","remove","style","setProperty","removeProperty","setAttribute","addEventListener","removeEventListener","body","innerHTML","className","appendChild","removeChild","insertBefore","children","childNodes","createElement","tagName","focus","blur","getAttribute","removeAttribute","windowMock","document","localStorage","Object","defineProperty","window","value","writable","global","describe","beforeEach","clearAllMocks","mockReturnValue","it","result","renderHook","useContextualTheme","expect","current","state","toEqual","context","enabled","transitionsEnabled","storedState","JSON","stringify","act","setContext","toBe","toHaveBeenCalledWith","toggleEnabled","setTransitionsEnabled","resetToDefault","mockConfig","variant","colorMode","reducedMotion","applyContextualTheme","not","toHaveBeenCalled","useFakeTimers","advanceTimersByTime","useRealTimers","getContextualVariables","mockImplementation","Error","toThrow","partialState","any","String"],"mappings":"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"}