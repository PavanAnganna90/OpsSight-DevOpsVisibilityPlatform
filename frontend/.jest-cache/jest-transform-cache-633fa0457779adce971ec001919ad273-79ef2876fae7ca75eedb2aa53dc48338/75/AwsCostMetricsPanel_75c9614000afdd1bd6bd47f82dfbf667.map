{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/infrastructure/AwsCostMetricsPanel.tsx"],"sourcesContent":["/**\n * AWS Cost Metrics Panel Component\n * \n * Displays AWS infrastructure costs with service breakdowns, trends, forecasts,\n * and anomaly detection. Supports filtering and detailed drill-down views.\n */\n\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { \n  BarChart, Bar, LineChart, Line, PieChart, Pie, Cell, AreaChart, Area,\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer \n} from 'recharts';\nimport { \n  CurrencyDollarIcon,\n  ExclamationTriangleIcon,\n  ArrowTrendingUpIcon,\n  ArrowTrendingDownIcon,\n  ChartBarIcon,\n  DocumentArrowDownIcon,\n  FunnelIcon,\n  ChevronDownIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\n\nexport interface CostDataPoint {\n  date: string;\n  totalCost: number;\n  services: Record<string, number>;\n  regions?: Record<string, number>;\n  tags?: Record<string, Record<string, number>>;\n  forecast?: {\n    predicted: number;\n    confidenceMin: number;\n    confidenceMax: number;\n  };\n}\n\nexport interface ServiceCostBreakdown {\n  serviceName: string;\n  cost: number;\n  percentage: number;\n  trend: 'up' | 'down' | 'stable';\n  trendPercentage: number;\n  color: string;\n  regions?: string[];\n  tags?: Record<string, string>;\n}\n\nexport interface CostAnomaly {\n  date: string;\n  expectedCost: number;\n  actualCost: number;\n  deviationPercentage: number;\n  severity: 'critical' | 'high' | 'medium' | 'low';\n  contributingServices: string[];\n}\n\nexport interface CostTrend {\n  direction: 'increasing' | 'decreasing' | 'stable' | 'volatile';\n  changePercentage: number;\n  changeAmount: number;\n  confidence: number;\n}\n\nexport interface FilterOptions {\n  services: string[];\n  regions: string[];\n  tags: Record<string, string>;\n  costThreshold: {\n    min: number;\n    max: number;\n  };\n  granularity: 'daily' | 'weekly' | 'monthly' | 'quarterly';\n  chartType: 'line' | 'bar' | 'area';\n  aggregation: 'sum' | 'average' | 'max';\n}\n\nexport interface AvailableFilters {\n  services: string[];\n  regions: string[];\n  tags: Record<string, string[]>;\n}\n\nexport interface AwsCostMetricsPanelProps {\n  /** Historical cost data */\n  costData: CostDataPoint[];\n  /** Service breakdown data */\n  serviceBreakdown: ServiceCostBreakdown[];\n  /** Detected cost anomalies */\n  anomalies: CostAnomaly[];\n  /** Overall cost trend */\n  costTrend: CostTrend;\n  /** Available filter options */\n  availableFilters: AvailableFilters;\n  /** Loading state */\n  isLoading?: boolean;\n  /** Error state */\n  error?: string;\n  /** Time range for data display */\n  timeRange?: '7d' | '30d' | '90d' | '1y';\n  /** Current filter settings */\n  filters?: Partial<FilterOptions>;\n  /** Callback for time range change */\n  onTimeRangeChange?: (range: '7d' | '30d' | '90d' | '1y') => void;\n  /** Callback for filter changes */\n  onFiltersChange?: (filters: Partial<FilterOptions>) => void;\n  /** Callback for service drill-down */\n  onServiceClick?: (serviceName: string) => void;\n  /** Callback for export */\n  onExport?: (format: 'csv' | 'pdf') => void;\n}\n\nconst SERVICE_COLORS = [\n  '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',\n  '#EC4899', '#06B6D4', '#84CC16', '#F97316', '#6366F1'\n];\n\n/**\n * AwsCostMetricsPanel Component\n * \n * Main panel for displaying AWS cost metrics with interactive visualizations.\n */\nexport const AwsCostMetricsPanel: React.FC<AwsCostMetricsPanelProps> = ({\n  costData,\n  serviceBreakdown,\n  anomalies,\n  costTrend,\n  availableFilters,\n  isLoading = false,\n  error,\n  timeRange = '30d',\n  filters,\n  onTimeRangeChange,\n  onFiltersChange,\n  onServiceClick,\n  onExport\n}) => {\n  const [selectedView, setSelectedView] = useState<'overview' | 'trends' | 'services' | 'anomalies'>('overview');\n  const [hoveredService, setHoveredService] = useState<string | null>(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [localFilters, setLocalFilters] = useState<Partial<FilterOptions>>(filters || {});\n\n  // Update local filters when props change\n  React.useEffect(() => {\n    setLocalFilters(filters || {});\n  }, [filters]);\n\n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters: Partial<FilterOptions>) => {\n    setLocalFilters(newFilters);\n    onFiltersChange?.(newFilters);\n  }, [onFiltersChange]);\n\n  // Apply filters to data\n  const filteredCostData = useMemo(() => {\n    if (!costData || Object.keys(localFilters).length === 0) return costData;\n\n    return costData.filter(dataPoint => {\n      // Apply service filter\n      if (localFilters.services && localFilters.services.length > 0) {\n        const hasSelectedService = localFilters.services.some(service => \n          dataPoint.services[service] > 0\n        );\n        if (!hasSelectedService) return false;\n      }\n\n      // Apply cost threshold filter\n      if (localFilters.costThreshold) {\n        if (dataPoint.totalCost < localFilters.costThreshold.min || \n            dataPoint.totalCost > localFilters.costThreshold.max) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }, [costData, localFilters]);\n\n  // Apply filters to service breakdown\n  const filteredServiceBreakdown = useMemo(() => {\n    if (!serviceBreakdown || Object.keys(localFilters).length === 0) return serviceBreakdown;\n\n    let filtered = serviceBreakdown;\n\n    // Apply service filter\n    if (localFilters.services && localFilters.services.length > 0) {\n      filtered = filtered.filter(service => \n        localFilters.services!.includes(service.serviceName)\n      );\n    }\n\n    // Apply region filter\n    if (localFilters.regions && localFilters.regions.length > 0) {\n      filtered = filtered.filter(service => \n        service.regions?.some(region => localFilters.regions!.includes(region))\n      );\n    }\n\n    return filtered;\n  }, [serviceBreakdown, localFilters]);\n\n  // Calculate summary metrics\n  const summaryMetrics = useMemo(() => {\n    if (filteredCostData.length === 0) return null;\n\n    const latestData = filteredCostData[filteredCostData.length - 1];\n    const previousData = filteredCostData.length > 1 ? filteredCostData[filteredCostData.length - 2] : null;\n    \n    const totalCost = latestData.totalCost;\n    const previousCost = previousData?.totalCost || 0;\n    const changeAmount = totalCost - previousCost;\n    const changePercentage = previousCost > 0 ? (changeAmount / previousCost) * 100 : 0;\n    \n    const avgDailyCost = filteredCostData.reduce((sum, day) => sum + day.totalCost, 0) / filteredCostData.length;\n\n    return {\n      totalCost,\n      changeAmount,\n      changePercentage,\n      avgDailyCost,\n      totalServices: filteredServiceBreakdown.length,\n      criticalAnomalies: anomalies.filter(a => a.severity === 'critical').length\n    };\n  }, [filteredCostData, filteredServiceBreakdown, anomalies]);\n\n  // Format currency\n  const formatCurrency = (amount: number): string => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2\n    }).format(amount);\n  };\n\n  // Format percentage\n  const formatPercentage = (value: number): string => {\n    return `${value > 0 ? '+' : ''}${value.toFixed(1)}%`;\n  };\n\n  // Time range options\n  const timeRangeOptions = [\n    { value: '7d', label: 'Last 7 days' },\n    { value: '30d', label: 'Last 30 days' },\n    { value: '90d', label: 'Last 90 days' },\n    { value: '1y', label: 'Last year' }\n  ];\n\n  // Custom tooltip for charts\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3\">\n          <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{label}</p>\n          {payload.map((entry: any, index: number) => (\n            <p key={index} className=\"text-sm\" style={{ color: entry.color }}>\n              {entry.name}: {formatCurrency(entry.value)}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/4\"></div>\n          <div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n        <div className=\"text-center\">\n          <ExclamationTriangleIcon className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\n            Failed to load cost data\n          </h3>\n          <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with controls */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2\">\n              <CurrencyDollarIcon className=\"h-6 w-6\" />\n              AWS Cost Metrics\n            </h2>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n              Monitor your AWS infrastructure costs and spending trends\n            </p>\n          </div>\n          \n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            {/* Time range selector */}\n            <select\n              value={timeRange}\n              onChange={(e) => onTimeRangeChange?.(e.target.value as any)}\n              className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n            >\n              {timeRangeOptions.map(option => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n\n            {/* Filter toggle button */}\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className={`px-4 py-2 border rounded-md text-sm font-medium flex items-center gap-2 transition-colors ${\n                showFilters \n                  ? 'bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400'\n                  : 'border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n              }`}\n            >\n              <FunnelIcon className=\"h-4 w-4\" />\n              Filters\n              {Object.keys(localFilters).length > 0 && (\n                <span className=\"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full\">\n                  {Object.keys(localFilters).length}\n                </span>\n              )}\n            </button>\n\n            {/* Export button */}\n            <button\n              onClick={() => onExport?.('csv')}\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center gap-2 transition-colors\"\n            >\n              <DocumentArrowDownIcon className=\"h-4 w-4\" />\n              Export\n            </button>\n          </div>\n        </div>\n\n        {/* Filters panel */}\n        {showFilters && (\n          <div className=\"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {/* Service filter */}\n              <div>\n                <label htmlFor=\"services-filter\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Services\n                </label>\n                <div className=\"relative\">\n                  <select\n                    id=\"services-filter\"\n                    multiple\n                    value={localFilters.services || []}\n                    onChange={(e) => {\n                      const selected = Array.from(e.target.selectedOptions, option => option.value);\n                      handleFilterChange({ ...localFilters, services: selected });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 max-h-32 overflow-y-auto\"\n                  >\n                    {availableFilters.services.map(service => (\n                      <option key={service} value={service} className=\"py-1\">\n                        {service}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              {/* Region filter */}\n              <div>\n                <label htmlFor=\"regions-filter\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Regions\n                </label>\n                <div className=\"relative\">\n                  <select\n                    id=\"regions-filter\"\n                    multiple\n                    value={localFilters.regions || []}\n                    onChange={(e) => {\n                      const selected = Array.from(e.target.selectedOptions, option => option.value);\n                      handleFilterChange({ ...localFilters, regions: selected });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 max-h-32 overflow-y-auto\"\n                  >\n                    {availableFilters.regions.map(region => (\n                      <option key={region} value={region} className=\"py-1\">\n                        {region}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              {/* Granularity selector */}\n              <div>\n                <label htmlFor=\"granularity-filter\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Granularity\n                </label>\n                <select\n                  id=\"granularity-filter\"\n                  value={localFilters.granularity || 'daily'}\n                  onChange={(e) => {\n                    handleFilterChange({ ...localFilters, granularity: e.target.value as FilterOptions['granularity'] });\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                >\n                  <option value=\"daily\">Daily</option>\n                  <option value=\"weekly\">Weekly</option>\n                  <option value=\"monthly\">Monthly</option>\n                  <option value=\"quarterly\">Quarterly</option>\n                </select>\n              </div>\n\n              {/* Chart type selector */}\n              <div>\n                <label htmlFor=\"chart-type-filter\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Chart Type\n                </label>\n                <select\n                  id=\"chart-type-filter\"\n                  value={localFilters.chartType || 'line'}\n                  onChange={(e) => {\n                    handleFilterChange({ ...localFilters, chartType: e.target.value as FilterOptions['chartType'] });\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                >\n                  <option value=\"line\">Line Chart</option>\n                  <option value=\"bar\">Bar Chart</option>\n                  <option value=\"area\">Area Chart</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Cost threshold filter */}\n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Cost Range ($)\n              </label>\n              <div className=\"flex gap-2 items-center\">\n                <input\n                  type=\"number\"\n                  placeholder=\"Min\"\n                  value={localFilters.costThreshold?.min || ''}\n                  onChange={(e) => {\n                    const min = parseFloat(e.target.value) || 0;\n                    handleFilterChange({\n                      ...localFilters,\n                      costThreshold: {\n                        ...localFilters.costThreshold,\n                        min,\n                        max: localFilters.costThreshold?.max || Infinity\n                      }\n                    });\n                  }}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                />\n                <span className=\"text-gray-500\">to</span>\n                <input\n                  type=\"number\"\n                  placeholder=\"Max\"\n                  value={localFilters.costThreshold?.max === Infinity ? '' : localFilters.costThreshold?.max || ''}\n                  onChange={(e) => {\n                    const max = parseFloat(e.target.value) || Infinity;\n                    handleFilterChange({\n                      ...localFilters,\n                      costThreshold: {\n                        min: localFilters.costThreshold?.min || 0,\n                        max\n                      }\n                    });\n                  }}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n                />\n              </div>\n            </div>\n\n            {/* Clear filters */}\n            {Object.keys(localFilters).length > 0 && (\n              <div className=\"mt-4 flex justify-end\">\n                <button\n                  onClick={() => {\n                    setLocalFilters({});\n                    handleFilterChange({});\n                  }}\n                  className=\"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 flex items-center gap-1\"\n                >\n                  <XMarkIcon className=\"h-4 w-4\" />\n                  Clear all filters\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* View tabs */}\n        <div className=\"mt-6 border-b border-gray-200 dark:border-gray-700\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {[\n              { id: 'overview', label: 'Overview', icon: ChartBarIcon },\n              { id: 'trends', label: 'Trends', icon: ArrowTrendingUpIcon },\n              { id: 'services', label: 'Services', icon: CurrencyDollarIcon },\n              { id: 'anomalies', label: 'Anomalies', icon: ExclamationTriangleIcon }\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => setSelectedView(tab.id as any)}\n                className={`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                  selectedView === tab.id\n                    ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300'\n                }`}\n              >\n                <tab.icon className=\"h-4 w-4\" />\n                {tab.label}\n                {tab.id === 'anomalies' && anomalies.length > 0 && (\n                  <span className=\"bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full ml-1\">\n                    {anomalies.length}\n                  </span>\n                )}\n              </button>\n            ))}\n          </nav>\n        </div>\n      </div>\n\n      {/* Summary metrics */}\n      {summaryMetrics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Cost</p>\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                  {formatCurrency(summaryMetrics.totalCost)}\n                </p>\n              </div>\n              <div className={`flex items-center text-sm ${\n                summaryMetrics.changePercentage >= 0 ? 'text-red-600' : 'text-green-600'\n              }`}>\n                {summaryMetrics.changePercentage >= 0 ? \n                  <ArrowTrendingUpIcon className=\"h-4 w-4 mr-1\" /> : \n                  <ArrowTrendingDownIcon className=\"h-4 w-4 mr-1\" />\n                }\n                {formatPercentage(summaryMetrics.changePercentage)}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Daily Average</p>\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                  {formatCurrency(summaryMetrics.avgDailyCost)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Services</p>\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                  {summaryMetrics.totalServices}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Anomalies</p>\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                  {summaryMetrics.criticalAnomalies}\n                </p>\n              </div>\n              {summaryMetrics.criticalAnomalies > 0 && (\n                <ExclamationTriangleIcon className=\"h-5 w-5 text-red-500\" />\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Main content based on selected view */}\n      {selectedView === 'overview' && (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Cost trend chart */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n              Cost Trend\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              {localFilters.chartType === 'bar' ? (\n                <BarChart data={filteredCostData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-gray-200 dark:stroke-gray-700\" />\n                  <XAxis \n                    dataKey=\"date\" \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                  />\n                  <YAxis \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                    tickFormatter={(value) => `$${value}`}\n                  />\n                  <Tooltip content={<CustomTooltip />} />\n                  <Bar \n                    dataKey=\"totalCost\" \n                    fill=\"#3B82F6\" \n                  />\n                </BarChart>\n              ) : localFilters.chartType === 'area' ? (\n                <AreaChart data={filteredCostData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-gray-200 dark:stroke-gray-700\" />\n                  <XAxis \n                    dataKey=\"date\" \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                  />\n                  <YAxis \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                    tickFormatter={(value) => `$${value}`}\n                  />\n                  <Tooltip content={<CustomTooltip />} />\n                  <Area \n                    type=\"monotone\" \n                    dataKey=\"totalCost\" \n                    stroke=\"#3B82F6\" \n                    fill=\"#3B82F6\"\n                    fillOpacity={0.3}\n                  />\n                </AreaChart>\n              ) : (\n                <LineChart data={filteredCostData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-gray-200 dark:stroke-gray-700\" />\n                  <XAxis \n                    dataKey=\"date\" \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                  />\n                  <YAxis \n                    className=\"text-gray-600 dark:text-gray-400\"\n                    tick={{ fontSize: 12 }}\n                    tickFormatter={(value) => `$${value}`}\n                  />\n                  <Tooltip content={<CustomTooltip />} />\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"totalCost\" \n                    stroke=\"#3B82F6\" \n                    strokeWidth={2}\n                    dot={{ fill: '#3B82F6', strokeWidth: 2, r: 4 }}\n                    activeDot={{ r: 6 }}\n                  />\n                  {filteredCostData.some(d => d.forecast) && (\n                    <>\n                      <Line \n                        type=\"monotone\" \n                        dataKey=\"forecast.predicted\" \n                        stroke=\"#F59E0B\" \n                        strokeWidth={2}\n                        strokeDasharray=\"5 5\"\n                        dot={false}\n                      />\n                      <Line \n                        type=\"monotone\" \n                        dataKey=\"forecast.confidenceMin\" \n                        stroke=\"#F59E0B\" \n                        strokeWidth={1}\n                        strokeDasharray=\"2 2\"\n                        dot={false}\n                      />\n                      <Line \n                        type=\"monotone\" \n                        dataKey=\"forecast.confidenceMax\" \n                        stroke=\"#F59E0B\" \n                        strokeWidth={1}\n                        strokeDasharray=\"2 2\"\n                        dot={false}\n                      />\n                    </>\n                  )}\n                </LineChart>\n              )}\n            </ResponsiveContainer>\n          </div>\n\n          {/* Service breakdown pie chart */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n              Service Breakdown\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={filteredServiceBreakdown}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ serviceName, percentage }) => `${serviceName} (${percentage.toFixed(1)}%)`}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"cost\"\n                  onMouseEnter={(_, index) => setHoveredService(filteredServiceBreakdown[index]?.serviceName)}\n                  onMouseLeave={() => setHoveredService(null)}\n                  onClick={(data) => onServiceClick?.(data.serviceName)}\n                  className=\"cursor-pointer\"\n                >\n                  {filteredServiceBreakdown.map((entry, index) => (\n                    <Cell \n                      key={`cell-${index}`} \n                      fill={entry.color || SERVICE_COLORS[index % SERVICE_COLORS.length]}\n                      className={hoveredService === entry.serviceName ? 'opacity-80' : 'opacity-100'}\n                    />\n                  ))}\n                </Pie>\n                <Tooltip content={<CustomTooltip />} />\n              </PieChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n\n      {/* Additional views placeholders for next subtasks */}\n      {selectedView === 'trends' && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n            Detailed Trend Analysis\n          </h3>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Advanced trend analysis will be implemented in the next subtask.\n          </p>\n        </div>\n      )}\n\n      {selectedView === 'services' && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n            Service Details\n          </h3>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Service drill-down will be implemented in subtask 17.3.\n          </p>\n        </div>\n      )}\n\n      {selectedView === 'anomalies' && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\">\n            Cost Anomalies\n          </h3>\n          {anomalies.length > 0 ? (\n            <div className=\"space-y-3\">\n              {anomalies.map((anomaly, index) => (\n                <div key={index} className={`p-4 rounded-lg border ${\n                  anomaly.severity === 'critical' ? 'border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20' :\n                  anomaly.severity === 'high' ? 'border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20' :\n                  'border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20'\n                }`}>\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <div className=\"flex items-center gap-2\">\n                        <ExclamationTriangleIcon className={`h-5 w-5 ${\n                          anomaly.severity === 'critical' ? 'text-red-500' :\n                          anomaly.severity === 'high' ? 'text-orange-500' :\n                          'text-yellow-500'\n                        }`} />\n                        <span className=\"font-medium capitalize\">{anomaly.severity} Anomaly</span>\n                      </div>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                        {anomaly.date}: Expected {formatCurrency(anomaly.expectedCost)}, \n                        actual {formatCurrency(anomaly.actualCost)} \n                        ({formatPercentage(anomaly.deviationPercentage)} deviation)\n                      </p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                        Contributing services: {anomaly.contributingServices.join(', ')}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-600 dark:text-gray-400 text-center py-8\">\n              No cost anomalies detected in the current time period.\n            </p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":["AwsCostMetricsPanel","SERVICE_COLORS","costData","serviceBreakdown","anomalies","costTrend","availableFilters","isLoading","error","timeRange","filters","onTimeRangeChange","onFiltersChange","onServiceClick","onExport","selectedView","setSelectedView","useState","hoveredService","setHoveredService","showFilters","setShowFilters","localFilters","setLocalFilters","React","useEffect","handleFilterChange","useCallback","newFilters","filteredCostData","useMemo","Object","keys","length","filter","dataPoint","services","hasSelectedService","some","service","costThreshold","totalCost","min","max","filteredServiceBreakdown","filtered","includes","serviceName","regions","region","summaryMetrics","latestData","previousData","previousCost","changeAmount","changePercentage","avgDailyCost","reduce","sum","day","totalServices","criticalAnomalies","a","severity","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatPercentage","value","toFixed","timeRangeOptions","label","CustomTooltip","active","payload","div","className","p","map","entry","index","color","name","ExclamationTriangleIcon","h3","h2","CurrencyDollarIcon","select","onChange","e","target","option","button","onClick","FunnelIcon","span","DocumentArrowDownIcon","htmlFor","id","multiple","selected","Array","from","selectedOptions","granularity","chartType","input","type","placeholder","parseFloat","Infinity","XMarkIcon","nav","icon","ChartBarIcon","ArrowTrendingUpIcon","tab","ArrowTrendingDownIcon","ResponsiveContainer","width","height","BarChart","data","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","fontSize","YAxis","tickFormatter","Tooltip","content","Bar","fill","AreaChart","Area","stroke","fillOpacity","LineChart","Line","strokeWidth","dot","r","activeDot","d","forecast","PieChart","Pie","cx","cy","labelLine","percentage","outerRadius","onMouseEnter","_","onMouseLeave","Cell","anomaly","date","expectedCost","actualCost","deviationPercentage","contributingServices","join"],"mappings":"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"}