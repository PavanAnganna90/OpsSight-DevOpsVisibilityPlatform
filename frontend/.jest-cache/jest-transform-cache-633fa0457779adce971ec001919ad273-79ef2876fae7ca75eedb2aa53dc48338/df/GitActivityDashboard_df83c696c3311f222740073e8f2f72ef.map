{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/charts/GitActivityDashboard.tsx"],"sourcesContent":["/**\n * Git Activity Dashboard Component\n * \n * Comprehensive dashboard combining the Git Activity Heatmap with filtering,\n * view options, metrics display, and export functionality.\n */\n\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { clsx } from 'clsx';\nimport {\n  ArrowDownTrayIcon,\n  ArrowPathIcon,\n  ExclamationTriangleIcon,\n  InformationCircleIcon,\n  ChartBarIcon,\n  CalendarDaysIcon\n} from '@heroicons/react/24/outline';\n\nimport GitActivityHeatmap from './GitActivityHeatmap';\nimport GitActivityFilters from './GitActivityFilters';\nimport GitActivityDetailView from './GitActivityDetailView';\nimport { useGitActivityHeatmap, useGitActivityFilters } from '../../hooks/useGitActivity';\nimport { useGitActivityDetails } from '../../hooks/useGitActivityDetails';\nimport {\n  ActivityHeatmapData,\n  GitActivityMetrics,\n  GitActivityViewOptions,\n  GitActivityExportOptions\n} from '../../types/git-activity';\n\nexport interface GitActivityDashboardProps {\n  owner: string;\n  repo: string;\n  provider?: 'github' | 'gitlab';\n  className?: string;\n  showMetrics?: boolean;\n  showExport?: boolean;\n  onExport?: (options: GitActivityExportOptions) => Promise<void>;\n  onCellClick?: (date: string, data: ActivityHeatmapData) => void;\n}\n\n/**\n * Metrics Summary Component\n */\nconst MetricsSummary: React.FC<{\n  metrics: GitActivityMetrics | null;\n  loading: boolean;\n}> = ({ metrics, loading }) => {\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {[...Array(4)].map((_, i) => (\n          <div key={i} className=\"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 animate-pulse\">\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-600 rounded mb-2\"></div>\n            <div className=\"h-6 bg-gray-200 dark:bg-gray-600 rounded\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (!metrics) return null;\n\n  const metricItems = [\n    {\n      label: 'Total Commits',\n      value: metrics.total_commits.toLocaleString(),\n      icon: 'üìù',\n      color: 'blue'\n    },\n    {\n      label: 'Pull Requests',\n      value: metrics.total_prs.toLocaleString(),\n      icon: 'üîÄ',\n      color: 'green'\n    },\n    {\n      label: 'Contributors',\n      value: metrics.total_contributors.toLocaleString(),\n      icon: 'üë•',\n      color: 'purple'\n    },\n    {\n      label: 'Avg Commits/Day',\n      value: metrics.avg_commits_per_day.toFixed(1),\n      icon: 'üìä',\n      color: 'orange'\n    }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n      {metricItems.map((item, index) => (\n        <motion.div\n          key={item.label}\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: index * 0.1 }}\n          className={clsx(\n            'bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700',\n            'hover:shadow-md transition-shadow duration-200'\n          )}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\n                {item.label}\n              </p>\n              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                {item.value}\n              </p>\n            </div>\n            <div className=\"text-2xl\">{item.icon}</div>\n          </div>\n        </motion.div>\n      ))}\n    </div>\n  );\n};\n\n/**\n * Export Options Component\n */\nconst ExportOptions: React.FC<{\n  onExport: (options: GitActivityExportOptions) => Promise<void>;\n  dateRange: { startDate: Date; endDate: Date };\n  disabled?: boolean;\n}> = ({ onExport, dateRange, disabled = false }) => {\n  const [isExporting, setIsExporting] = useState(false);\n  const [exportFormat, setExportFormat] = useState<'csv' | 'json' | 'pdf' | 'png'>('csv');\n\n  const handleExport = useCallback(async () => {\n    setIsExporting(true);\n    try {\n      await onExport({\n        format: exportFormat,\n        dateRange,\n        includeMetrics: true,\n        includeHeatmap: true,\n        includeDetails: true\n      });\n    } catch (error) {\n      console.error('Export failed:', error);\n    } finally {\n      setIsExporting(false);\n    }\n  }, [onExport, exportFormat, dateRange]);\n\n  return (\n    <div className=\"flex items-center space-x-3\">\n      <select\n        value={exportFormat}\n        onChange={(e) => setExportFormat(e.target.value as typeof exportFormat)}\n        disabled={disabled || isExporting}\n        className=\"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50\"\n      >\n        <option value=\"csv\">CSV</option>\n        <option value=\"json\">JSON</option>\n        <option value=\"pdf\">PDF</option>\n        <option value=\"png\">PNG</option>\n      </select>\n\n      <button\n        onClick={handleExport}\n        disabled={disabled || isExporting}\n        className={clsx(\n          'flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors',\n          'bg-blue-600 hover:bg-blue-700 text-white',\n          'disabled:opacity-50 disabled:cursor-not-allowed'\n        )}\n      >\n        {isExporting ? (\n          <ArrowPathIcon className=\"w-4 h-4 animate-spin\" />\n        ) : (\n          <ArrowDownTrayIcon className=\"w-4 h-4\" />\n        )}\n        <span>{isExporting ? 'Exporting...' : 'Export'}</span>\n      </button>\n    </div>\n  );\n};\n\n/**\n * View Mode Toggle Component\n */\nconst ViewModeToggle: React.FC<{\n  viewOptions: GitActivityViewOptions;\n  onViewOptionsChange: (partialOptions: Partial<GitActivityViewOptions>) => void;\n}> = ({ viewOptions, onViewOptionsChange }) => {\n  const viewModes = [\n    { value: 'daily', label: 'Daily', icon: CalendarDaysIcon },\n    { value: 'weekly', label: 'Weekly', icon: ChartBarIcon },\n    { value: 'monthly', label: 'Monthly', icon: ChartBarIcon }\n  ] as const;\n\n  return (\n    <div className=\"flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1\">\n      {viewModes.map(mode => {\n        const Icon = mode.icon;\n        return (\n          <button\n            key={mode.value}\n            onClick={() => onViewOptionsChange({ viewType: mode.value })}\n            className={clsx(\n              'flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors',\n              viewOptions.viewType === mode.value\n                ? 'bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm'\n                : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            )}\n          >\n            <Icon className=\"w-4 h-4\" />\n            <span>{mode.label}</span>\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n\n/**\n * Main Git Activity Dashboard Component\n */\nexport const GitActivityDashboard: React.FC<GitActivityDashboardProps> = ({\n  owner,\n  repo,\n  provider = 'github',\n  className = '',\n  showMetrics = true,\n  showExport = true,\n  onExport,\n  onCellClick\n}) => {\n  const [colorScheme, setColorScheme] = useState<'green' | 'blue' | 'purple' | 'red'>('green');\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  // Hooks for data and filters\n  const {\n    data: heatmapData,\n    metrics,\n    loading,\n    error,\n    refetch,\n    invalidateCache\n  } = useGitActivityHeatmap(owner, repo, {\n    provider,\n    daysBack: 365,\n    useCache: true,\n    enabled: !!owner && !!repo\n  });\n\n  const {\n    filters,\n    updateFilters,\n    resetFilters,\n    applyFilters\n  } = useGitActivityFilters();\n\n  // Hook for detailed view\n  const {\n    selectedDate,\n    isDetailViewOpen,\n    detailedData,\n    isLoading: isLoadingDetails,\n    error: detailsError,\n    openDetailView,\n    closeDetailView,\n    loadDetails\n  } = useGitActivityDetails(owner, repo, provider);\n\n  // View options state\n  const [viewOptions, setViewOptions] = useState<GitActivityViewOptions>({\n    viewType: 'daily',\n    groupBy: 'day',\n    sortBy: 'date',\n    sortOrder: 'asc'\n  });\n\n  // Process and filter data\n  const processedData = useMemo(() => {\n    if (!heatmapData || heatmapData.length === 0) return [];\n    return applyFilters(heatmapData);\n  }, [heatmapData, applyFilters]);\n\n  // Extract available contributors and repositories for filters\n  const availableContributors = useMemo(() => {\n    if (!metrics?.top_contributors) return [];\n    return metrics.top_contributors.map(contributor => contributor.login);\n  }, [metrics]);\n\n  const availableRepositories = useMemo(() => {\n    return [`${owner}/${repo}`];\n  }, [owner, repo]);\n\n  // Handlers\n  const handleRefresh = useCallback(async () => {\n    setRefreshKey(prev => prev + 1);\n    await refetch();\n  }, [refetch]);\n\n  const handleInvalidateCache = useCallback(async () => {\n    await invalidateCache();\n    setRefreshKey(prev => prev + 1);\n  }, [invalidateCache]);\n\n  const handleExport = useCallback(async (options: GitActivityExportOptions) => {\n    if (onExport) {\n      await onExport(options);\n    } else {\n      // Default export implementation\n      const dataToExport = {\n        repository: `${owner}/${repo}`,\n        dateRange: options.dateRange,\n        data: processedData,\n        metrics: options.includeMetrics ? metrics : null,\n        exportedAt: new Date().toISOString()\n      };\n\n      const blob = new Blob([JSON.stringify(dataToExport, null, 2)], {\n        type: 'application/json'\n      });\n      \n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `git-activity-${owner}-${repo}-${new Date().toISOString().split('T')[0]}.${options.format}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    }\n  }, [onExport, owner, repo, processedData, metrics]);\n\n\n  const handleCellClickInternal = useCallback((date: string, data: ActivityHeatmapData) => {\n    openDetailView(date);\n    onCellClick?.(date, data);\n  }, [onCellClick, openDetailView]);\n\n  if (error) {\n    return (\n      <div className={clsx('bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6', className)}>\n        <div className=\"flex items-center space-x-3\">\n          <ExclamationTriangleIcon className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\n          <div>\n            <h3 className=\"text-lg font-medium text-red-800 dark:text-red-200\">\n              Failed to Load Git Activity\n            </h3>\n            <p className=\"text-red-600 dark:text-red-400 mt-1\">\n              {error}\n            </p>\n            <div className=\"mt-4 flex space-x-3\">\n              <button\n                onClick={handleRefresh}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors\"\n              >\n                Retry\n              </button>\n              <button\n                onClick={handleInvalidateCache}\n                className=\"px-4 py-2 border border-red-600 text-red-600 dark:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\n              >\n                Clear Cache & Retry\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={clsx('space-y-6', className)}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n            Git Activity Dashboard\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            {owner}/{repo} ‚Ä¢ {provider}\n          </p>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          {/* Color Scheme Selector */}\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">Color:</span>\n            <div className=\"flex space-x-1\">\n              {(['green', 'blue', 'purple', 'red'] as const).map(color => (\n                <button\n                  key={color}\n                  onClick={() => setColorScheme(color)}\n                  className={clsx(\n                    'w-6 h-6 rounded-full border-2 transition-all',\n                    colorScheme === color ? 'border-gray-900 dark:border-gray-100 scale-110' : 'border-gray-300 dark:border-gray-600',\n                    color === 'green' && 'bg-green-500',\n                    color === 'blue' && 'bg-blue-500',\n                    color === 'purple' && 'bg-purple-500',\n                    color === 'red' && 'bg-red-500'\n                  )}\n                />\n              ))}\n            </div>\n          </div>\n\n          {/* View Mode Toggle */}\n          <ViewModeToggle\n            viewOptions={viewOptions}\n            onViewOptionsChange={(partialOptions) => \n              setViewOptions(prev => ({ ...prev, ...partialOptions }))\n            }\n          />\n\n          {/* Refresh Button */}\n          <button\n            onClick={handleRefresh}\n            disabled={loading}\n            className=\"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50\"\n          >\n            <ArrowPathIcon className={clsx('w-4 h-4', loading && 'animate-spin')} />\n            <span>Refresh</span>\n          </button>\n\n          {/* Export Options */}\n          {showExport && (\n            <ExportOptions\n              onExport={handleExport}\n              dateRange={filters.dateRange}\n              disabled={loading || !processedData.length}\n            />\n          )}\n        </div>\n      </div>\n\n      {/* Metrics Summary */}\n      {showMetrics && (\n        <MetricsSummary metrics={metrics} loading={loading} />\n      )}\n\n      {/* Filters */}\n      <GitActivityFilters\n        filters={{ ...filters, branches: [] }}\n        viewOptions={viewOptions}\n        onFiltersChange={updateFilters}\n        onViewOptionsChange={(partialOptions) => \n          setViewOptions(prev => ({ ...prev, ...partialOptions }))\n        }\n        onReset={resetFilters}\n        availableContributors={availableContributors}\n        availableRepositories={availableRepositories}\n      />\n\n      {/* Info Banner */}\n      {processedData.length !== heatmapData.length && (\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n          <div className=\"flex items-center space-x-3\">\n            <InformationCircleIcon className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n            <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n              Showing {processedData.length} of {heatmapData.length} days based on current filters.\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Main Heatmap */}\n      <div className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6\">\n        <GitActivityHeatmap\n          key={refreshKey}\n          data={processedData}\n          repository={`${owner}/${repo}`}\n          dateRange={filters.dateRange}\n          colorScheme={colorScheme}\n          showWeekdays={true}\n          showMonthLabels={true}\n          cellSize={12}\n          cellGap={2}\n          loading={loading}\n          error={error}\n          onCellClick={handleCellClickInternal}\n        />\n      </div>\n\n      {/* Detailed View Modal */}\n      <GitActivityDetailView\n        isOpen={isDetailViewOpen}\n        onClose={closeDetailView}\n        date={selectedDate || ''}\n        activityData={selectedDate ? processedData.find(d => d.date === selectedDate) || {\n          date: selectedDate,\n          activity_count: 0,\n          commit_count: 0,\n          pr_count: 0,\n          contributor_count: 0,\n          lines_added: 0,\n          lines_deleted: 0,\n          files_changed: 0,\n          activity_types: []\n        } : {\n          date: '',\n          activity_count: 0,\n          commit_count: 0,\n          pr_count: 0,\n          contributor_count: 0,\n          lines_added: 0,\n          lines_deleted: 0,\n          files_changed: 0,\n          activity_types: []\n        }}\n        detailedData={detailedData}\n        loading={isLoadingDetails}\n        error={detailsError}\n        onLoadDetails={loadDetails}\n      />\n    </div>\n  );\n};\n\nexport default GitActivityDashboard; "],"names":["GitActivityDashboard","MetricsSummary","metrics","loading","div","className","Array","map","_","i","metricItems","label","value","total_commits","toLocaleString","icon","color","total_prs","total_contributors","avg_commits_per_day","toFixed","item","index","motion","initial","opacity","y","animate","transition","delay","clsx","p","ExportOptions","onExport","dateRange","disabled","isExporting","setIsExporting","useState","exportFormat","setExportFormat","handleExport","useCallback","format","includeMetrics","includeHeatmap","includeDetails","error","console","select","onChange","e","target","option","button","onClick","ArrowPathIcon","ArrowDownTrayIcon","span","ViewModeToggle","viewOptions","onViewOptionsChange","viewModes","CalendarDaysIcon","ChartBarIcon","mode","Icon","viewType","owner","repo","provider","showMetrics","showExport","onCellClick","colorScheme","setColorScheme","refreshKey","setRefreshKey","data","heatmapData","refetch","invalidateCache","useGitActivityHeatmap","daysBack","useCache","enabled","filters","updateFilters","resetFilters","applyFilters","useGitActivityFilters","selectedDate","isDetailViewOpen","detailedData","isLoading","isLoadingDetails","detailsError","openDetailView","closeDetailView","loadDetails","useGitActivityDetails","setViewOptions","groupBy","sortBy","sortOrder","processedData","useMemo","length","availableContributors","top_contributors","contributor","login","availableRepositories","handleRefresh","prev","handleInvalidateCache","options","dataToExport","repository","exportedAt","Date","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","handleCellClickInternal","date","ExclamationTriangleIcon","h3","h2","partialOptions","GitActivityFilters","branches","onFiltersChange","onReset","InformationCircleIcon","GitActivityHeatmap","showWeekdays","showMonthLabels","cellSize","cellGap","GitActivityDetailView","isOpen","onClose","activityData","find","d","activity_count","commit_count","pr_count","contributor_count","lines_added","lines_deleted","files_changed","activity_types","onLoadDetails"],"mappings":"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"}