{"version":3,"sources":["/Users/pavan/Desktop/Devops-app-dev-cursor/frontend/src/components/ui/Avatar.tsx"],"sourcesContent":["/**\n * Avatar Component\n * \n * Optimized avatar component with lazy loading, automatic fallbacks,\n * and consistent styling for user profile images.\n */\n\nimport React, { useMemo } from 'react';\nimport { OptimizedImage } from './OptimizedImage';\n\nexport type AvatarSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n\ninterface AvatarProps {\n  /** Image source URL */\n  src?: string | null;\n  /** Alternative text for accessibility */\n  alt: string;\n  /** Size variant */\n  size?: AvatarSize;\n  /** User's name for generating initials fallback */\n  name?: string;\n  /** Custom CSS classes */\n  className?: string;\n  /** Disable lazy loading for above-fold avatars */\n  priority?: boolean;\n  /** Custom fallback content */\n  fallback?: React.ReactNode;\n  /** Show online status indicator */\n  showStatus?: boolean;\n  /** Online status */\n  isOnline?: boolean;\n}\n\n/**\n * Get size configuration for avatar\n */\nconst getSizeConfig = (size: AvatarSize) => {\n  const configs = {\n    xs: { size: 24, textSize: 'text-xs', ring: 'ring-1' },\n    sm: { size: 32, textSize: 'text-sm', ring: 'ring-2' },\n    md: { size: 40, textSize: 'text-base', ring: 'ring-2' },\n    lg: { size: 48, textSize: 'text-lg', ring: 'ring-2' },\n    xl: { size: 64, textSize: 'text-xl', ring: 'ring-4' },\n    '2xl': { size: 96, textSize: 'text-3xl', ring: 'ring-4' },\n  };\n  return configs[size];\n};\n\n/**\n * Generate user initials from name\n */\nconst generateInitials = (name?: string): string => {\n  if (!name) return 'U';\n  \n  const names = name.trim().split(' ');\n  if (names.length === 1) {\n    return names[0].charAt(0).toUpperCase();\n  }\n  \n  return names\n    .slice(0, 2)\n    .map(n => n.charAt(0).toUpperCase())\n    .join('');\n};\n\n/**\n * Generate a consistent background color based on name\n */\nconst generateBackgroundColor = (name?: string): string => {\n  if (!name) return 'bg-gray-500';\n  \n  const colors = [\n    'bg-red-500',\n    'bg-yellow-500', \n    'bg-green-500',\n    'bg-blue-500',\n    'bg-indigo-500',\n    'bg-purple-500',\n    'bg-pink-500',\n    'bg-teal-500',\n  ];\n  \n  // Simple hash function to get consistent color\n  let hash = 0;\n  for (let i = 0; i < name.length; i++) {\n    hash = name.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  \n  return colors[Math.abs(hash) % colors.length];\n};\n\n/**\n * Avatar Component\n * \n * Features:\n * - Lazy loading with Next.js Image optimization\n * - Automatic initials fallback\n * - Consistent size variants\n * - Online status indicator\n * - Accessible and keyboard navigable\n * - Smooth loading transitions\n * - Error handling with graceful fallbacks\n * \n * @param src - Avatar image URL\n * @param alt - Alternative text\n * @param size - Size variant (xs, sm, md, lg, xl, 2xl)\n * @param name - User name for initials fallback\n * @param className - Additional CSS classes\n * @param priority - Disable lazy loading\n * @param fallback - Custom fallback content\n * @param showStatus - Show online status\n * @param isOnline - Online status\n */\nconst AvatarComponent: React.FC<AvatarProps> = ({\n  src,\n  alt,\n  size = 'md',\n  name,\n  className = '',\n  priority = false,\n  fallback,\n  showStatus = false,\n  isOnline = false,\n}) => {\n  const sizeConfig = getSizeConfig(size);\n  const initials = useMemo(() => generateInitials(name), [name]);\n  const backgroundColor = useMemo(() => generateBackgroundColor(name), [name]);\n\n  /**\n   * Default fallback content (initials)\n   */\n  const defaultFallback = (\n    <div \n      className={`\n        ${backgroundColor}\n        flex items-center justify-center text-white font-medium rounded-full\n        ${sizeConfig.textSize} ${sizeConfig.ring} ring-white shadow-sm\n      `}\n      style={{ width: sizeConfig.size, height: sizeConfig.size }}\n    >\n      {initials}\n    </div>\n  );\n\n  return (\n    <div className={`relative inline-block ${className}`}>\n      {src ? (\n        <OptimizedImage\n          src={src}\n          alt={alt}\n          width={sizeConfig.size}\n          height={sizeConfig.size}\n          className={`rounded-full object-cover ${sizeConfig.ring} ring-white shadow-sm`}\n          priority={priority}\n          quality={85}\n          fallback={fallback || defaultFallback}\n          placeholder=\"blur\"\n        />\n      ) : (\n        fallback || defaultFallback\n      )}\n      \n      {/* Online status indicator */}\n      {showStatus && (\n        <div \n          className={`\n            absolute bottom-0 right-0 transform translate-x-1/4 translate-y-1/4\n            ${isOnline ? 'bg-green-400' : 'bg-gray-400'}\n            border-2 border-white rounded-full\n            ${size === 'xs' || size === 'sm' ? 'w-2 h-2' : 'w-3 h-3'}\n          `}\n          aria-label={isOnline ? 'Online' : 'Offline'}\n        />\n      )}\n    </div>\n  );\n};\n\n/**\n * Memoized Avatar component to prevent unnecessary re-renders\n */\nexport const Avatar = React.memo(AvatarComponent);\n\nexport default Avatar; "],"names":["Avatar","getSizeConfig","size","configs","xs","textSize","ring","sm","md","lg","xl","generateInitials","name","names","trim","split","length","charAt","toUpperCase","slice","map","n","join","generateBackgroundColor","colors","hash","i","charCodeAt","Math","abs","AvatarComponent","src","alt","className","priority","fallback","showStatus","isOnline","sizeConfig","initials","useMemo","backgroundColor","defaultFallback","div","style","width","height","OptimizedImage","quality","placeholder","aria-label","React","memo"],"mappings":"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"}