c2de8b5e3571a46848c1a9bd6b3281b5
/**
 * Team-aware Dashboard API Service
 * 
 * Provides dashboard data and metrics filtered by team context.
 * Handles team-specific monitoring, alerts, and activity data.
 */ // Dashboard interfaces
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    dashboardApi: function() {
        return dashboardApi;
    },
    default: function() {
        return _default;
    },
    fetchActions: function() {
        return fetchActions;
    },
    fetchEvents: function() {
        return fetchEvents;
    },
    fetchInsights: function() {
        return fetchInsights;
    },
    fetchLiveMetrics: function() {
        return fetchLiveMetrics;
    },
    fetchSystemMetrics: function() {
        return fetchSystemMetrics;
    }
});
/**
 * Dashboard API Service Class
 * 
 * Singleton service for dashboard data operations with team filtering.
 * Provides real-time dashboard metrics, activity feeds, and system status.
 */ class DashboardApiService {
    constructor(){
        this.baseUrl = process.env.NODE_ENV === 'production' ? '/api/v1/dashboard' : 'http://localhost:8000/api/v1/dashboard';
    }
    /**
   * Get authentication token from storage
   */ getAuthToken() {
        if (typeof window !== 'undefined') {
            return localStorage.getItem('auth_token') || sessionStorage.getItem('auth_token');
        }
        return null;
    }
    /**
   * Generic request method with authentication and error handling
   */ async request(endpoint, options = {}) {
        const token = this.getAuthToken();
        const url = `${this.baseUrl}${endpoint}`;
        const defaultHeaders = {
            'Content-Type': 'application/json'
        };
        if (token) {
            defaultHeaders['Authorization'] = `Bearer ${token}`;
        }
        const config = {
            ...options,
            headers: {
                ...defaultHeaders,
                ...options.headers
            }
        };
        try {
            const response = await fetch(url, config);
            if (response.status === 401) {
                throw new Error('Authentication required. Please log in again.');
            }
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            return await response.json();
        } catch (error) {
            console.error(`Dashboard API request failed: ${url}`, error);
            throw error;
        }
    }
    /**
   * Get dashboard data for a specific team
   */ async getDashboardData(filters = {}) {
        const params = new URLSearchParams();
        if (filters.teamId) {
            params.append('team_id', filters.teamId.toString());
        }
        if (filters.dateRange) {
            params.append('start_date', filters.dateRange.start);
            params.append('end_date', filters.dateRange.end);
        }
        if (filters.includeSubteams) {
            params.append('include_subteams', 'true');
        }
        if (filters.projectIds && filters.projectIds.length > 0) {
            params.append('project_ids', filters.projectIds.join(','));
        }
        const queryString = params.toString();
        const url = `/dashboard${queryString ? `?${queryString}` : ''}`;
        const response = await this.request(url);
        return response;
    }
    /**
   * Get team-specific metrics
   */ async getTeamMetrics(teamId, dateRange) {
        const params = new URLSearchParams({
            team_id: teamId.toString()
        });
        if (dateRange) {
            params.append('start_date', dateRange.start);
            params.append('end_date', dateRange.end);
        }
        const response = await this.request(`/dashboard/metrics?${params.toString()}`);
        return response;
    }
    /**
   * Get recent activity for a team
   */ async getTeamActivity(teamId, options = {}) {
        const params = new URLSearchParams({
            team_id: teamId.toString(),
            limit: (options.limit || 20).toString(),
            offset: (options.offset || 0).toString()
        });
        if (options.types && options.types.length > 0) {
            params.append('types', options.types.join(','));
        }
        if (options.status && options.status.length > 0) {
            params.append('status', options.status.join(','));
        }
        const response = await this.request(`/dashboard/activity?${params.toString()}`);
        return {
            activities: response.activities,
            total: response.total,
            hasMore: response.has_more
        };
    }
    /**
   * Get system status for team's infrastructure
   */ async getTeamSystemStatus(teamId) {
        const params = new URLSearchParams({
            team_id: teamId.toString()
        });
        const response = await this.request(`/dashboard/system-status?${params.toString()}`);
        return response;
    }
    /**
   * Get team alerts and notifications
   */ async getTeamAlerts(teamId, options = {}) {
        const params = new URLSearchParams({
            team_id: teamId.toString(),
            limit: (options.limit || 50).toString()
        });
        if (options.severity && options.severity.length > 0) {
            params.append('severity', options.severity.join(','));
        }
        if (options.status && options.status.length > 0) {
            params.append('status', options.status.join(','));
        }
        const response = await this.request(`/dashboard/alerts?${params.toString()}`);
        return {
            alerts: response.alerts.map((alert)=>({
                    id: alert.id,
                    title: alert.title,
                    description: alert.description,
                    severity: alert.severity,
                    status: alert.status,
                    createdAt: alert.created_at,
                    updatedAt: alert.updated_at,
                    teamId: alert.team_id,
                    projectId: alert.project_id
                })),
            summary: response.summary
        };
    }
    /**
   * Refresh dashboard data (force cache invalidation)
   */ async refreshDashboard(teamId) {
        await this.request(`/dashboard/refresh`, {
            method: 'POST',
            body: JSON.stringify({
                team_id: teamId
            })
        });
    }
    /**
   * Get dashboard configuration for a team
   */ async getTeamDashboardConfig(teamId) {
        const response = await this.request(`/dashboard/config?team_id=${teamId}`);
        return {
            widgets: response.widgets,
            refreshInterval: response.refresh_interval,
            theme: response.theme
        };
    }
    /**
   * Update dashboard configuration for a team
   */ async updateTeamDashboardConfig(teamId, config) {
        await this.request(`/dashboard/config`, {
            method: 'PUT',
            body: JSON.stringify({
                team_id: teamId,
                ...config,
                refresh_interval: config.refreshInterval
            })
        });
    }
    /**
   * Get comparative metrics across teams (for admins)
   */ async getTeamsComparison(teamIds) {
        const params = new URLSearchParams({
            team_ids: teamIds.join(',')
        });
        const response = await this.request(`/dashboard/compare?${params.toString()}`);
        return {
            teams: response.teams.map((team)=>({
                    teamId: team.team_id,
                    teamName: team.team_name,
                    metrics: team.metrics
                })),
            aggregated: response.aggregated
        };
    }
}
const dashboardApi = new DashboardApiService();
const _default = dashboardApi;
async function fetchSystemMetrics() {
    const res = await fetch('/api/metrics/system');
    if (!res.ok) throw new Error('Failed to fetch system metrics');
    return res.json();
}
async function fetchLiveMetrics() {
    const res = await fetch('/api/metrics/live');
    if (!res.ok) throw new Error('Failed to fetch live metrics');
    return res.json();
}
async function fetchEvents() {
    const res = await fetch('/api/events');
    if (!res.ok) throw new Error('Failed to fetch events');
    return res.json();
}
async function fetchInsights() {
    const res = await fetch('/api/insights');
    if (!res.ok) throw new Error('Failed to fetch insights');
    return res.json();
}
async function fetchActions() {
    const res = await fetch('/api/actions');
    if (!res.ok) throw new Error('Failed to fetch actions');
    return res.json();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZhbi9EZXNrdG9wL0Rldm9wcy1hcHAtZGV2LWN1cnNvci9mcm9udGVuZC9zcmMvc2VydmljZXMvZGFzaGJvYXJkQXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVhbS1hd2FyZSBEYXNoYm9hcmQgQVBJIFNlcnZpY2VcbiAqIFxuICogUHJvdmlkZXMgZGFzaGJvYXJkIGRhdGEgYW5kIG1ldHJpY3MgZmlsdGVyZWQgYnkgdGVhbSBjb250ZXh0LlxuICogSGFuZGxlcyB0ZWFtLXNwZWNpZmljIG1vbml0b3JpbmcsIGFsZXJ0cywgYW5kIGFjdGl2aXR5IGRhdGEuXG4gKi9cblxuLy8gRGFzaGJvYXJkIGludGVyZmFjZXNcbmV4cG9ydCBpbnRlcmZhY2UgRGFzaGJvYXJkTWV0cmljcyB7XG4gIHBpcGVsaW5lczoge1xuICAgIHN1Y2Nlc3NmdWw6IG51bWJlcjtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIHN1Y2Nlc3NSYXRlOiBudW1iZXI7XG4gICAgdHJlbmQ6IHtcbiAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICBkaXJlY3Rpb246ICd1cCcgfCAnZG93bicgfCAnbmV1dHJhbCc7XG4gICAgICBsYWJlbDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIGRlcGxveW1lbnRzOiB7XG4gICAgYWN0aXZlOiBudW1iZXI7XG4gICAgcGVuZGluZzogbnVtYmVyO1xuICAgIHN1Y2Nlc3NmdWw6IG51bWJlcjtcbiAgICBmYWlsZWQ6IG51bWJlcjtcbiAgfTtcbiAgc3lzdGVtSGVhbHRoOiB7XG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xuICAgIHN0YXR1czogJ2hlYWx0aHknIHwgJ3dhcm5pbmcnIHwgJ2NyaXRpY2FsJztcbiAgICBpc3N1ZXM6IG51bWJlcjtcbiAgfTtcbiAgYWxlcnRzOiB7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBjcml0aWNhbDogbnVtYmVyO1xuICAgIHdhcm5pbmc6IG51bWJlcjtcbiAgICBpbmZvOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFzaGJvYXJkQWN0aXZpdHkge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAnZGVwbG95bWVudCcgfCAncGlwZWxpbmUnIHwgJ2FsZXJ0JyB8ICdzeXN0ZW0nO1xuICBzdGF0dXM6ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdlcnJvcicgfCAnaW5mbyc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICB0ZWFtSWQ/OiBudW1iZXI7XG4gIHByb2plY3RJZD86IHN0cmluZztcbiAgdXNlcklkPzogbnVtYmVyO1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3lzdGVtU3RhdHVzIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGF0dXM6ICdvcGVyYXRpb25hbCcgfCAnZGVncmFkZWQnIHwgJ2Rvd24nIHwgJ21haW50ZW5hbmNlJztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGxhc3RDaGVja2VkOiBzdHJpbmc7XG4gIHJlc3BvbnNlVGltZT86IG51bWJlcjtcbiAgdXB0aW1lPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhc2hib2FyZERhdGEge1xuICBtZXRyaWNzOiBEYXNoYm9hcmRNZXRyaWNzO1xuICByZWNlbnRBY3Rpdml0eTogRGFzaGJvYXJkQWN0aXZpdHlbXTtcbiAgc3lzdGVtU3RhdHVzOiBTeXN0ZW1TdGF0dXNbXTtcbiAgbGFzdFVwZGF0ZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXNoYm9hcmRGaWx0ZXJzIHtcbiAgdGVhbUlkPzogbnVtYmVyO1xuICBkYXRlUmFuZ2U/OiB7XG4gICAgc3RhcnQ6IHN0cmluZztcbiAgICBlbmQ6IHN0cmluZztcbiAgfTtcbiAgaW5jbHVkZVN1YnRlYW1zPzogYm9vbGVhbjtcbiAgcHJvamVjdElkcz86IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIERhc2hib2FyZCBBUEkgU2VydmljZSBDbGFzc1xuICogXG4gKiBTaW5nbGV0b24gc2VydmljZSBmb3IgZGFzaGJvYXJkIGRhdGEgb3BlcmF0aW9ucyB3aXRoIHRlYW0gZmlsdGVyaW5nLlxuICogUHJvdmlkZXMgcmVhbC10aW1lIGRhc2hib2FyZCBtZXRyaWNzLCBhY3Rpdml0eSBmZWVkcywgYW5kIHN5c3RlbSBzdGF0dXMuXG4gKi9cbmNsYXNzIERhc2hib2FyZEFwaVNlcnZpY2Uge1xuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgXG4gICAgICA/ICcvYXBpL3YxL2Rhc2hib2FyZCcgXG4gICAgICA6ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3YxL2Rhc2hib2FyZCc7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGF1dGhlbnRpY2F0aW9uIHRva2VuIGZyb20gc3RvcmFnZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRBdXRoVG9rZW4oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKSB8fCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgcmVxdWVzdCBtZXRob2Qgd2l0aCBhdXRoZW50aWNhdGlvbiBhbmQgZXJyb3IgaGFuZGxpbmdcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcmVxdWVzdDxUPihlbmRwb2ludDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLmdldEF1dGhUb2tlbigpO1xuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0ke2VuZHBvaW50fWA7XG4gICAgXG4gICAgY29uc3QgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9O1xuXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBkZWZhdWx0SGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlnOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmRlZmF1bHRIZWFkZXJzLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIGNvbmZpZyk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkLiBQbGVhc2UgbG9nIGluIGFnYWluLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRGFzaGJvYXJkIEFQSSByZXF1ZXN0IGZhaWxlZDogJHt1cmx9YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgZGFzaGJvYXJkIGRhdGEgZm9yIGEgc3BlY2lmaWMgdGVhbVxuICAgKi9cbiAgYXN5bmMgZ2V0RGFzaGJvYXJkRGF0YShmaWx0ZXJzOiBEYXNoYm9hcmRGaWx0ZXJzID0ge30pOiBQcm9taXNlPERhc2hib2FyZERhdGE+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgXG4gICAgaWYgKGZpbHRlcnMudGVhbUlkKSB7XG4gICAgICBwYXJhbXMuYXBwZW5kKCd0ZWFtX2lkJywgZmlsdGVycy50ZWFtSWQudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaWx0ZXJzLmRhdGVSYW5nZSkge1xuICAgICAgcGFyYW1zLmFwcGVuZCgnc3RhcnRfZGF0ZScsIGZpbHRlcnMuZGF0ZVJhbmdlLnN0YXJ0KTtcbiAgICAgIHBhcmFtcy5hcHBlbmQoJ2VuZF9kYXRlJywgZmlsdGVycy5kYXRlUmFuZ2UuZW5kKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGZpbHRlcnMuaW5jbHVkZVN1YnRlYW1zKSB7XG4gICAgICBwYXJhbXMuYXBwZW5kKCdpbmNsdWRlX3N1YnRlYW1zJywgJ3RydWUnKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGZpbHRlcnMucHJvamVjdElkcyAmJiBmaWx0ZXJzLnByb2plY3RJZHMubGVuZ3RoID4gMCkge1xuICAgICAgcGFyYW1zLmFwcGVuZCgncHJvamVjdF9pZHMnLCBmaWx0ZXJzLnByb2plY3RJZHMuam9pbignLCcpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICBjb25zdCB1cmwgPSBgL2Rhc2hib2FyZCR7cXVlcnlTdHJpbmcgPyBgPyR7cXVlcnlTdHJpbmd9YCA6ICcnfWA7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8RGFzaGJvYXJkRGF0YT4odXJsKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlYW0tc3BlY2lmaWMgbWV0cmljc1xuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbU1ldHJpY3ModGVhbUlkOiBudW1iZXIsIGRhdGVSYW5nZT86IHsgc3RhcnQ6IHN0cmluZzsgZW5kOiBzdHJpbmcgfSk6IFByb21pc2U8RGFzaGJvYXJkTWV0cmljcz4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgdGVhbV9pZDogdGVhbUlkLnRvU3RyaW5nKCksXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKGRhdGVSYW5nZSkge1xuICAgICAgcGFyYW1zLmFwcGVuZCgnc3RhcnRfZGF0ZScsIGRhdGVSYW5nZS5zdGFydCk7XG4gICAgICBwYXJhbXMuYXBwZW5kKCdlbmRfZGF0ZScsIGRhdGVSYW5nZS5lbmQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdDxEYXNoYm9hcmRNZXRyaWNzPihgL2Rhc2hib2FyZC9tZXRyaWNzPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNlbnQgYWN0aXZpdHkgZm9yIGEgdGVhbVxuICAgKi9cbiAgYXN5bmMgZ2V0VGVhbUFjdGl2aXR5KFxuICAgIHRlYW1JZDogbnVtYmVyLCBcbiAgICBvcHRpb25zOiB7XG4gICAgICBsaW1pdD86IG51bWJlcjtcbiAgICAgIG9mZnNldD86IG51bWJlcjtcbiAgICAgIHR5cGVzPzogc3RyaW5nW107XG4gICAgICBzdGF0dXM/OiBzdHJpbmdbXTtcbiAgICB9ID0ge31cbiAgKTogUHJvbWlzZTx7XG4gICAgYWN0aXZpdGllczogRGFzaGJvYXJkQWN0aXZpdHlbXTtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGhhc01vcmU6IGJvb2xlYW47XG4gIH0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIHRlYW1faWQ6IHRlYW1JZC50b1N0cmluZygpLFxuICAgICAgbGltaXQ6IChvcHRpb25zLmxpbWl0IHx8IDIwKS50b1N0cmluZygpLFxuICAgICAgb2Zmc2V0OiAob3B0aW9ucy5vZmZzZXQgfHwgMCkudG9TdHJpbmcoKSxcbiAgICB9KTtcbiAgICBcbiAgICBpZiAob3B0aW9ucy50eXBlcyAmJiBvcHRpb25zLnR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhcmFtcy5hcHBlbmQoJ3R5cGVzJywgb3B0aW9ucy50eXBlcy5qb2luKCcsJykpO1xuICAgIH1cbiAgICBcbiAgICBpZiAob3B0aW9ucy5zdGF0dXMgJiYgb3B0aW9ucy5zdGF0dXMubGVuZ3RoID4gMCkge1xuICAgICAgcGFyYW1zLmFwcGVuZCgnc3RhdHVzJywgb3B0aW9ucy5zdGF0dXMuam9pbignLCcpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8e1xuICAgICAgYWN0aXZpdGllczogRGFzaGJvYXJkQWN0aXZpdHlbXTtcbiAgICAgIHRvdGFsOiBudW1iZXI7XG4gICAgICBoYXNfbW9yZTogYm9vbGVhbjtcbiAgICB9PihgL2Rhc2hib2FyZC9hY3Rpdml0eT8ke3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBhY3Rpdml0aWVzOiByZXNwb25zZS5hY3Rpdml0aWVzLFxuICAgICAgdG90YWw6IHJlc3BvbnNlLnRvdGFsLFxuICAgICAgaGFzTW9yZTogcmVzcG9uc2UuaGFzX21vcmUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3lzdGVtIHN0YXR1cyBmb3IgdGVhbSdzIGluZnJhc3RydWN0dXJlXG4gICAqL1xuICBhc3luYyBnZXRUZWFtU3lzdGVtU3RhdHVzKHRlYW1JZDogbnVtYmVyKTogUHJvbWlzZTxTeXN0ZW1TdGF0dXNbXT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgdGVhbV9pZDogdGVhbUlkLnRvU3RyaW5nKCksXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8U3lzdGVtU3RhdHVzW10+KGAvZGFzaGJvYXJkL3N5c3RlbS1zdGF0dXM/JHtwYXJhbXMudG9TdHJpbmcoKX1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlYW0gYWxlcnRzIGFuZCBub3RpZmljYXRpb25zXG4gICAqL1xuICBhc3luYyBnZXRUZWFtQWxlcnRzKFxuICAgIHRlYW1JZDogbnVtYmVyLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHNldmVyaXR5Pzogc3RyaW5nW107XG4gICAgICBzdGF0dXM/OiBzdHJpbmdbXTtcbiAgICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPHtcbiAgICBhbGVydHM6IEFycmF5PHtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICAgIHNldmVyaXR5OiAnY3JpdGljYWwnIHwgJ3dhcm5pbmcnIHwgJ2luZm8nO1xuICAgICAgc3RhdHVzOiAnb3BlbicgfCAnYWNrbm93bGVkZ2VkJyB8ICdyZXNvbHZlZCc7XG4gICAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICAgIHVwZGF0ZWRBdDogc3RyaW5nO1xuICAgICAgdGVhbUlkOiBudW1iZXI7XG4gICAgICBwcm9qZWN0SWQ/OiBzdHJpbmc7XG4gICAgfT47XG4gICAgc3VtbWFyeToge1xuICAgICAgdG90YWw6IG51bWJlcjtcbiAgICAgIGNyaXRpY2FsOiBudW1iZXI7XG4gICAgICB3YXJuaW5nOiBudW1iZXI7XG4gICAgICBpbmZvOiBudW1iZXI7XG4gICAgfTtcbiAgfT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgdGVhbV9pZDogdGVhbUlkLnRvU3RyaW5nKCksXG4gICAgICBsaW1pdDogKG9wdGlvbnMubGltaXQgfHwgNTApLnRvU3RyaW5nKCksXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKG9wdGlvbnMuc2V2ZXJpdHkgJiYgb3B0aW9ucy5zZXZlcml0eS5sZW5ndGggPiAwKSB7XG4gICAgICBwYXJhbXMuYXBwZW5kKCdzZXZlcml0eScsIG9wdGlvbnMuc2V2ZXJpdHkuam9pbignLCcpKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKG9wdGlvbnMuc3RhdHVzICYmIG9wdGlvbnMuc3RhdHVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhcmFtcy5hcHBlbmQoJ3N0YXR1cycsIG9wdGlvbnMuc3RhdHVzLmpvaW4oJywnKSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0PHtcbiAgICAgIGFsZXJ0czogQXJyYXk8e1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgICAgICBzZXZlcml0eTogJ2NyaXRpY2FsJyB8ICd3YXJuaW5nJyB8ICdpbmZvJztcbiAgICAgICAgc3RhdHVzOiAnb3BlbicgfCAnYWNrbm93bGVkZ2VkJyB8ICdyZXNvbHZlZCc7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAgICAgICB0ZWFtX2lkOiBudW1iZXI7XG4gICAgICAgIHByb2plY3RfaWQ/OiBzdHJpbmc7XG4gICAgICB9PjtcbiAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgdG90YWw6IG51bWJlcjtcbiAgICAgICAgY3JpdGljYWw6IG51bWJlcjtcbiAgICAgICAgd2FybmluZzogbnVtYmVyO1xuICAgICAgICBpbmZvOiBudW1iZXI7XG4gICAgICB9O1xuICAgIH0+KGAvZGFzaGJvYXJkL2FsZXJ0cz8ke3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBhbGVydHM6IHJlc3BvbnNlLmFsZXJ0cy5tYXAoYWxlcnQgPT4gKHtcbiAgICAgICAgaWQ6IGFsZXJ0LmlkLFxuICAgICAgICB0aXRsZTogYWxlcnQudGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhbGVydC5kZXNjcmlwdGlvbixcbiAgICAgICAgc2V2ZXJpdHk6IGFsZXJ0LnNldmVyaXR5LFxuICAgICAgICBzdGF0dXM6IGFsZXJ0LnN0YXR1cyxcbiAgICAgICAgY3JlYXRlZEF0OiBhbGVydC5jcmVhdGVkX2F0LFxuICAgICAgICB1cGRhdGVkQXQ6IGFsZXJ0LnVwZGF0ZWRfYXQsXG4gICAgICAgIHRlYW1JZDogYWxlcnQudGVhbV9pZCxcbiAgICAgICAgcHJvamVjdElkOiBhbGVydC5wcm9qZWN0X2lkLFxuICAgICAgfSkpLFxuICAgICAgc3VtbWFyeTogcmVzcG9uc2Uuc3VtbWFyeSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggZGFzaGJvYXJkIGRhdGEgKGZvcmNlIGNhY2hlIGludmFsaWRhdGlvbilcbiAgICovXG4gIGFzeW5jIHJlZnJlc2hEYXNoYm9hcmQodGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJlcXVlc3Q8dm9pZD4oYC9kYXNoYm9hcmQvcmVmcmVzaGAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0ZWFtX2lkOiB0ZWFtSWQgfSksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhc2hib2FyZCBjb25maWd1cmF0aW9uIGZvciBhIHRlYW1cbiAgICovXG4gIGFzeW5jIGdldFRlYW1EYXNoYm9hcmRDb25maWcodGVhbUlkOiBudW1iZXIpOiBQcm9taXNlPHtcbiAgICB3aWRnZXRzOiBBcnJheTx7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9O1xuICAgICAgc2V0dGluZ3M6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIH0+O1xuICAgIHJlZnJlc2hJbnRlcnZhbDogbnVtYmVyO1xuICAgIHRoZW1lOiBzdHJpbmc7XG4gIH0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdDx7XG4gICAgICB3aWRnZXRzOiBBcnJheTx7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgICAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG4gICAgICAgIHNldHRpbmdzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgICBlbmFibGVkOiBib29sZWFuO1xuICAgICAgfT47XG4gICAgICByZWZyZXNoX2ludGVydmFsOiBudW1iZXI7XG4gICAgICB0aGVtZTogc3RyaW5nO1xuICAgIH0+KGAvZGFzaGJvYXJkL2NvbmZpZz90ZWFtX2lkPSR7dGVhbUlkfWApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB3aWRnZXRzOiByZXNwb25zZS53aWRnZXRzLFxuICAgICAgcmVmcmVzaEludGVydmFsOiByZXNwb25zZS5yZWZyZXNoX2ludGVydmFsLFxuICAgICAgdGhlbWU6IHJlc3BvbnNlLnRoZW1lLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGRhc2hib2FyZCBjb25maWd1cmF0aW9uIGZvciBhIHRlYW1cbiAgICovXG4gIGFzeW5jIHVwZGF0ZVRlYW1EYXNoYm9hcmRDb25maWcoXG4gICAgdGVhbUlkOiBudW1iZXIsXG4gICAgY29uZmlnOiB7XG4gICAgICB3aWRnZXRzPzogQXJyYXk8e1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9O1xuICAgICAgICBzZXR0aW5nczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICAgIH0+O1xuICAgICAgcmVmcmVzaEludGVydmFsPzogbnVtYmVyO1xuICAgICAgdGhlbWU/OiBzdHJpbmc7XG4gICAgfVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJlcXVlc3Q8dm9pZD4oYC9kYXNoYm9hcmQvY29uZmlnYCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGVhbV9pZDogdGVhbUlkLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJlZnJlc2hfaW50ZXJ2YWw6IGNvbmZpZy5yZWZyZXNoSW50ZXJ2YWwsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29tcGFyYXRpdmUgbWV0cmljcyBhY3Jvc3MgdGVhbXMgKGZvciBhZG1pbnMpXG4gICAqL1xuICBhc3luYyBnZXRUZWFtc0NvbXBhcmlzb24odGVhbUlkczogbnVtYmVyW10pOiBQcm9taXNlPHtcbiAgICB0ZWFtczogQXJyYXk8e1xuICAgICAgdGVhbUlkOiBudW1iZXI7XG4gICAgICB0ZWFtTmFtZTogc3RyaW5nO1xuICAgICAgbWV0cmljczogRGFzaGJvYXJkTWV0cmljcztcbiAgICB9PjtcbiAgICBhZ2dyZWdhdGVkOiBEYXNoYm9hcmRNZXRyaWNzO1xuICB9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICB0ZWFtX2lkczogdGVhbUlkcy5qb2luKCcsJyksXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8e1xuICAgICAgdGVhbXM6IEFycmF5PHtcbiAgICAgICAgdGVhbV9pZDogbnVtYmVyO1xuICAgICAgICB0ZWFtX25hbWU6IHN0cmluZztcbiAgICAgICAgbWV0cmljczogRGFzaGJvYXJkTWV0cmljcztcbiAgICAgIH0+O1xuICAgICAgYWdncmVnYXRlZDogRGFzaGJvYXJkTWV0cmljcztcbiAgICB9PihgL2Rhc2hib2FyZC9jb21wYXJlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHRlYW1zOiByZXNwb25zZS50ZWFtcy5tYXAodGVhbSA9PiAoe1xuICAgICAgICB0ZWFtSWQ6IHRlYW0udGVhbV9pZCxcbiAgICAgICAgdGVhbU5hbWU6IHRlYW0udGVhbV9uYW1lLFxuICAgICAgICBtZXRyaWNzOiB0ZWFtLm1ldHJpY3MsXG4gICAgICB9KSksXG4gICAgICBhZ2dyZWdhdGVkOiByZXNwb25zZS5hZ2dyZWdhdGVkLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIGRhc2hib2FyZCBBUEkgc2VydmljZVxuICovXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkQXBpID0gbmV3IERhc2hib2FyZEFwaVNlcnZpY2UoKTtcbmV4cG9ydCBkZWZhdWx0IGRhc2hib2FyZEFwaTtcblxuLy8gRGFzaGJvYXJkIEFQSSBzZXJ2aWNlIGZvciBPcHNTaWdodCBVSVxuXG4vKipcbiAqIEZldGNoIHN5c3RlbSBtZXRyaWNzIChDSS9DRCwgSzhzLCBDbG91ZCBDb3N0KS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFN5c3RlbSBtZXRyaWNzIGRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU3lzdGVtTWV0cmljcygpIHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvbWV0cmljcy9zeXN0ZW0nKTtcbiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHN5c3RlbSBtZXRyaWNzJyk7XG4gIHJldHVybiByZXMuanNvbigpO1xufVxuXG4vKipcbiAqIEZldGNoIGxpdmUgbWV0cmljcyBmb3IgQ29tbWFuZCBDZW50ZXIgcGFuZWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBMaXZlIG1ldHJpY3MgZGF0YVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hMaXZlTWV0cmljcygpIHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvbWV0cmljcy9saXZlJyk7XG4gIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBsaXZlIG1ldHJpY3MnKTtcbiAgcmV0dXJuIHJlcy5qc29uKCk7XG59XG5cbi8qKlxuICogRmV0Y2ggZXZlbnRzIGZlZWQgZm9yIENvbW1hbmQgQ2VudGVyIHBhbmVsLlxuICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gRXZlbnRzIGRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRXZlbnRzKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9ldmVudHMnKTtcbiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGV2ZW50cycpO1xuICByZXR1cm4gcmVzLmpzb24oKTtcbn1cblxuLyoqXG4gKiBGZXRjaCBBSSBpbnNpZ2h0cyBmb3IgQWN0aW9uICYgSW5zaWdodHMgcGFuZWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBJbnNpZ2h0cyBkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEluc2lnaHRzKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9pbnNpZ2h0cycpO1xuICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggaW5zaWdodHMnKTtcbiAgcmV0dXJuIHJlcy5qc29uKCk7XG59XG5cbi8qKlxuICogRmV0Y2ggYXZhaWxhYmxlIGFjdGlvbnMgZm9yIEFjdGlvbiAmIEluc2lnaHRzIHBhbmVsLlxuICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQWN0aW9ucyBkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFjdGlvbnMoKSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2FjdGlvbnMnKTtcbiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGFjdGlvbnMnKTtcbiAgcmV0dXJuIHJlcy5qc29uKCk7XG59ICJdLCJuYW1lcyI6WyJkYXNoYm9hcmRBcGkiLCJmZXRjaEFjdGlvbnMiLCJmZXRjaEV2ZW50cyIsImZldGNoSW5zaWdodHMiLCJmZXRjaExpdmVNZXRyaWNzIiwiZmV0Y2hTeXN0ZW1NZXRyaWNzIiwiRGFzaGJvYXJkQXBpU2VydmljZSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImdldEF1dGhUb2tlbiIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXNzaW9uU3RvcmFnZSIsInJlcXVlc3QiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJ0b2tlbiIsInVybCIsImRlZmF1bHRIZWFkZXJzIiwiY29uZmlnIiwiaGVhZGVycyIsInJlc3BvbnNlIiwiZmV0Y2giLCJzdGF0dXMiLCJFcnJvciIsIm9rIiwic3RhdHVzVGV4dCIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJnZXREYXNoYm9hcmREYXRhIiwiZmlsdGVycyIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRlYW1JZCIsImFwcGVuZCIsInRvU3RyaW5nIiwiZGF0ZVJhbmdlIiwic3RhcnQiLCJlbmQiLCJpbmNsdWRlU3VidGVhbXMiLCJwcm9qZWN0SWRzIiwibGVuZ3RoIiwiam9pbiIsInF1ZXJ5U3RyaW5nIiwiZ2V0VGVhbU1ldHJpY3MiLCJ0ZWFtX2lkIiwiZ2V0VGVhbUFjdGl2aXR5IiwibGltaXQiLCJvZmZzZXQiLCJ0eXBlcyIsImFjdGl2aXRpZXMiLCJ0b3RhbCIsImhhc01vcmUiLCJoYXNfbW9yZSIsImdldFRlYW1TeXN0ZW1TdGF0dXMiLCJnZXRUZWFtQWxlcnRzIiwic2V2ZXJpdHkiLCJhbGVydHMiLCJtYXAiLCJhbGVydCIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkQXQiLCJ1cGRhdGVkX2F0IiwicHJvamVjdElkIiwicHJvamVjdF9pZCIsInN1bW1hcnkiLCJyZWZyZXNoRGFzaGJvYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRUZWFtRGFzaGJvYXJkQ29uZmlnIiwid2lkZ2V0cyIsInJlZnJlc2hJbnRlcnZhbCIsInJlZnJlc2hfaW50ZXJ2YWwiLCJ0aGVtZSIsInVwZGF0ZVRlYW1EYXNoYm9hcmRDb25maWciLCJnZXRUZWFtc0NvbXBhcmlzb24iLCJ0ZWFtSWRzIiwidGVhbV9pZHMiLCJ0ZWFtcyIsInRlYW0iLCJ0ZWFtTmFtZSIsInRlYW1fbmFtZSIsIm1ldHJpY3MiLCJhZ2dyZWdhdGVkIiwicmVzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQyxHQUVELHVCQUF1Qjs7Ozs7Ozs7Ozs7O0lBMmFWQSxZQUFZO2VBQVpBOztJQUNiLE9BQTRCO2VBQTVCOztJQWdEc0JDLFlBQVk7ZUFBWkE7O0lBcEJBQyxXQUFXO2VBQVhBOztJQVVBQyxhQUFhO2VBQWJBOztJQXBCQUMsZ0JBQWdCO2VBQWhCQTs7SUFWQUMsa0JBQWtCO2VBQWxCQTs7O0FBN1d0Qjs7Ozs7Q0FLQyxHQUNELE1BQU1DO0lBR0pDLGFBQWM7UUFDWixJQUFJLENBQUNDLE9BQU8sR0FBR0MsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssZUFDcEMsc0JBQ0E7SUFDTjtJQUVBOztHQUVDLEdBQ0QsQUFBUUMsZUFBOEI7UUFDcEMsSUFBSSxPQUFPQyxXQUFXLGFBQWE7WUFDakMsT0FBT0Ms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