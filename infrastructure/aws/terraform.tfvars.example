# AWS Infrastructure Configuration for OpsSight Platform
# Copy this file to terraform.tfvars and customize the values

# Basic Configuration
aws_region   = "us-east-1"
project_name = "opssight"
environment  = "production"  # or "staging"

# Networking Configuration
vpc_cidr        = "10.0.0.0/16"
private_subnets = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]
public_subnets  = ["10.0.101.0/24", "10.0.102.0/24", "10.0.103.0/24"]

# Kubernetes Configuration
kubernetes_version = "1.28"

# EKS Admin Users (add your IAM users here)
eks_admin_users = [
  {
    userarn  = "arn:aws:iam::123456789012:user/admin-user"
    username = "admin-user"
    groups   = ["system:masters"]
  }
]

# Database Configuration
database_name     = "opssight"
database_username = "opssight_user"
database_password = "ChangeMe123!"  # Use a secure password!

# Redis Configuration
redis_auth_token = "your-secure-redis-token-here"  # Use a secure token!

# Domain and SSL Configuration
domain_name           = "opssight.dev"
create_route53_zone   = false  # Set to true if you want Terraform to manage DNS
ssl_certificate_arn   = ""     # Add your ACM certificate ARN here

# Monitoring Configuration
enable_cloudwatch_monitoring = true
enable_container_insights    = true

# Security Configuration
enable_pod_security_policy = true
enable_network_policy      = true
enable_encryption_at_rest  = true
enable_encryption_in_transit = true
enable_access_logging      = true
enable_flow_logs          = true

# Scaling Configuration
min_worker_nodes     = 2
max_worker_nodes     = 10
desired_worker_nodes = 3

# Cost Optimization
enable_spot_instances      = true
spot_instance_percentage   = 50

# Backup Configuration
backup_retention_days         = 30
enable_point_in_time_recovery = true

# Tagging
cost_center = "engineering"
owner       = "devops-team"

additional_tags = {
  "backup"      = "required"
  "compliance"  = "required"
  "monitoring"  = "enabled"
}

# Example Production Configuration
# For production environments, consider these settings:

# production_example = {
#   aws_region   = "us-east-1"
#   environment  = "production"
#   
#   # Larger instance sizes for production
#   min_worker_nodes     = 3
#   max_worker_nodes     = 20
#   desired_worker_nodes = 5
#   
#   # Enhanced security
#   enable_pod_security_policy = true
#   enable_network_policy      = true
#   
#   # Better monitoring
#   enable_cloudwatch_monitoring = true
#   enable_container_insights    = true
#   
#   # Longer retention
#   backup_retention_days = 30
#   
#   # SSL and domain
#   domain_name         = "opssight.com"
#   create_route53_zone = true
#   ssl_certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/abc123..."
# }

# Example Staging Configuration
# For staging environments, consider these settings:

# staging_example = {
#   aws_region   = "us-west-2"
#   environment  = "staging"
#   
#   # Smaller instance sizes for cost optimization
#   min_worker_nodes     = 1
#   max_worker_nodes     = 5
#   desired_worker_nodes = 2
#   
#   # More aggressive spot instance usage
#   enable_spot_instances    = true
#   spot_instance_percentage = 80
#   
#   # Shorter retention for cost savings
#   backup_retention_days = 7
#   
#   # Staging domain
#   domain_name         = "staging.opssight.com"
#   create_route53_zone = false
# }